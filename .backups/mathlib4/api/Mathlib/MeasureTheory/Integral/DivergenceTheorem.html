<html lang="en"><head><meta charset="UTF-8"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><link rel="stylesheet" href="../../.././style.css"></link><link rel="icon" href="../../.././favicon.svg"></link><link rel="mask-icon" href="../../.././favicon.svg" color="#000000"></link><link rel="prefetch" href="../../.././/declarations/declaration-data.bmp" as="image"></link><title>Mathlib.MeasureTheory.Integral.DivergenceTheorem</title><script defer="true" src="../../.././mathjax-config.js"></script><script defer="true" src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script><script defer="true" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script><script>const SITE_ROOT="../../.././";</script><script>const MODULE_NAME="Mathlib.MeasureTheory.Integral.DivergenceTheorem";</script><script type="module" src="../../.././jump-src.js"></script><script type="module" src="../../.././search.js"></script><script type="module" src="../../.././expand-nav.js"></script><script type="module" src="../../.././how-about.js"></script><script type="module" src="../../.././instances.js"></script><script type="module" src="../../.././importedBy.js"></script></head><body><input id="nav_toggle" type="checkbox"></input><header><h1><label for="nav_toggle"></label><span>Documentation</span></h1><h2 class="header_filename break_within"><span class="name">Mathlib</span>.<span class="name">MeasureTheory</span>.<span class="name">Integral</span>.<span class="name">DivergenceTheorem</span></h2><form id="search_form"><input type="text" name="q" autocomplete="off"></input>&#32;<button id="search_button" onclick="javascript: form.action='../../.././search.html';">Search</button></form></header><nav class="internal_nav"><p><a href="#top">return to top</a></p><p class="gh_nav_link"><a href="https://github.com/leanprover-community/mathlib4/blob/338973d7437af2cf5a6769391b1b4e5b1f8db099/Mathlib/MeasureTheory/Integral/DivergenceTheorem.lean">source</a></p><div class="imports"><details><summary>Imports</summary><ul><li><a href="../../.././Init.html">Init</a></li><li><a href="../../.././Mathlib/Analysis/BoxIntegral/DivergenceTheorem.html">Mathlib.Analysis.BoxIntegral.DivergenceTheorem</a></li><li><a href="../../.././Mathlib/Analysis/BoxIntegral/Integrability.html">Mathlib.Analysis.BoxIntegral.Integrability</a></li><li><a href="../../.././Mathlib/MeasureTheory/Integral/Prod.html">Mathlib.MeasureTheory.Integral.Prod</a></li><li><a href="../../.././Mathlib/Analysis/Calculus/Deriv/Basic.html">Mathlib.Analysis.Calculus.Deriv.Basic</a></li><li><a href="../../.././Mathlib/Analysis/Calculus/FDeriv/Equiv.html">Mathlib.Analysis.Calculus.FDeriv.Equiv</a></li><li><a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html">Mathlib.MeasureTheory.Integral.IntervalIntegral.Basic</a></li></ul></details><details><summary>Imported by</summary><ul id="imported-by-Mathlib.MeasureTheory.Integral.DivergenceTheorem" class="imported-by-list"></ul></details></div><div class="nav_link"><a class="break_within" href="#MeasureTheory.integral_divergence_of_hasFDerivAt_off_countable"><span class="name">MeasureTheory</span>.<span class="name">integral_divergence_of_hasFDerivAt_off_countable</span></a></div><div class="nav_link"><a class="break_within" href="#MeasureTheory.integral_divergence_of_hasFDerivAt_off_countable'"><span class="name">MeasureTheory</span>.<span class="name">integral_divergence_of_hasFDerivAt_off_countable'</span></a></div><div class="nav_link"><a class="break_within" href="#MeasureTheory.integral_divergence_of_hasFDerivAt_off_countable_of_equiv"><span class="name">MeasureTheory</span>.<span class="name">integral_divergence_of_hasFDerivAt_off_countable_of_equiv</span></a></div><div class="nav_link"><a class="break_within" href="#MeasureTheory.integral_eq_of_hasDerivAt_off_countable_of_le"><span class="name">MeasureTheory</span>.<span class="name">integral_eq_of_hasDerivAt_off_countable_of_le</span></a></div><div class="nav_link"><a class="break_within" href="#MeasureTheory.integral_eq_of_hasDerivAt_off_countable"><span class="name">MeasureTheory</span>.<span class="name">integral_eq_of_hasDerivAt_off_countable</span></a></div><div class="nav_link"><a class="break_within" href="#MeasureTheory.integral_divergence_prod_Icc_of_hasFDerivAt_off_countable_of_le"><span class="name">MeasureTheory</span>.<span class="name">integral_divergence_prod_Icc_of_hasFDerivAt_off_countable_of_le</span></a></div><div class="nav_link"><a class="break_within" href="#MeasureTheory.integral_divergence_prod_Icc_of_hasFDerivAt_of_le"><span class="name">MeasureTheory</span>.<span class="name">integral_divergence_prod_Icc_of_hasFDerivAt_of_le</span></a></div><div class="nav_link"><a class="break_within" href="#MeasureTheory.integral2_divergence_prod_of_hasFDerivAt_off_countable"><span class="name">MeasureTheory</span>.<span class="name">integral2_divergence_prod_of_hasFDerivAt_off_countable</span></a></div><div class="nav_link"><a class="break_within" href="#MeasureTheory.integral2_divergence_prod_of_hasFDerivAt"><span class="name">MeasureTheory</span>.<span class="name">integral2_divergence_prod_of_hasFDerivAt</span></a></div></nav><main>
<div class="mod_doc"><h1 id="Divergence-theorem-for-Bochner-integral" class="markdown-heading">Divergence theorem for Bochner integral <a class="hover-link" href="#Divergence-theorem-for-Bochner-integral">#</a></h1><p>In this file we prove the Divergence theorem for Bochner integral on a box in
<code>â„â¿âºÂ¹ = Fin (n + 1) â†’ â„</code>. More precisely, we prove the following theorem.</p><p>Let <code>E</code> be a complete normed space. If <code>f : â„â¿âºÂ¹ â†’ Eâ¿âºÂ¹</code> is
continuous on a rectangular box <code>[a, b] : <a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> â„â¿âºÂ¹</code>, <code>a â‰¤ b</code>, differentiable on its interior with
derivative <code>f' : â„â¿âºÂ¹ â†’ â„â¿âºÂ¹ â†’L[â„] Eâ¿âºÂ¹</code>, and the divergence <code>fun x â†¦ âˆ‘ i, f' x eáµ¢ i</code>
is integrable on <code>[a, b]</code>, where <code>eáµ¢ = <a href="../../.././Mathlib/Algebra/Notation/Pi/Basic.html#Pi.single">Pi.single</a> i 1</code> is the <code>i</code>-th basis vector,
then its integral is equal to the sum of integrals of <code>f</code> over the faces of <code>[a, b]</code>,
taken with appropriate signs. Moreover, the same
is true if the function is not differentiable at countably many points of the interior of <code>[a, b]</code>.</p><p>Once we prove the general theorem, we deduce corollaries for functions <code>â„ â†’ E</code> and pairs of
functions <code>(â„ Ã— â„) â†’ E</code>.</p><h2 id="Notation" class="markdown-heading">Notation <a class="hover-link" href="#Notation">#</a></h2><p>We use the following local notation to make the statement more readable. Note that the documentation
website shows the actual terms, not those abbreviated using local notations.</p><ul><li><code>â„â¿</code>, <code>â„â¿âºÂ¹</code>, <code>Eâ¿âºÂ¹</code>: <code>Fin n â†’ â„</code>, <code>Fin (n + 1) â†’ â„</code>, <code>Fin (n + 1) â†’ E</code>;</li><li><code>face i</code>: the <code>i</code>-th face of the box <code>[a, b]</code> as a closed segment in <code>â„â¿</code>, namely
<code>[a âˆ˜ <a href="../../.././Mathlib/Data/Fin/SuccPred.html#Fin.succAbove">Fin.succAbove</a> i, b âˆ˜ <a href="../../.././Mathlib/Data/Fin/SuccPred.html#Fin.succAbove">Fin.succAbove</a> i]</code>;</li><li><code>e i</code> : <code>i</code>-th basis vector <code><a href="../../.././Mathlib/Algebra/Notation/Pi/Basic.html#Pi.single">Pi.single</a> i 1</code>;</li><li><code>frontFace i</code>, <code>backFace i</code>: embeddings <code>â„â¿ â†’ â„â¿âºÂ¹</code> corresponding to the front face
<code>{x | x i = b i}</code> and back face <code>{x | x i = a i}</code> of the box <code>[a, b]</code>, respectively.
They are given by <code><a href="../../.././Mathlib/Data/Fin/Tuple/Basic.html#Fin.insertNth">Fin.insertNth</a> i (b i)</code> and <code><a href="../../.././Mathlib/Data/Fin/Tuple/Basic.html#Fin.insertNth">Fin.insertNth</a> i (a i)</code>.</li></ul><h2 id="TODO" class="markdown-heading">TODO <a class="hover-link" href="#TODO">#</a></h2><ul><li>Add a version that assumes existence and integrability of partial derivatives.</li></ul><h2 id="Tags" class="markdown-heading">Tags <a class="hover-link" href="#Tags">#</a></h2><p>divergence theorem, Bochner integral</p></div><div class="mod_doc"><h3 id="Divergence-theorem-for-functions-on-â„â¿âºÂ¹-=-Fin-n-+-1-â†’-â„" class="markdown-heading">Divergence theorem for functions on <code>â„â¿âºÂ¹ = Fin (n + 1) â†’ â„</code>. <a class="hover-link" href="#Divergence-theorem-for-functions-on-â„â¿âºÂ¹-=-Fin-n-+-1-â†’-â„">#</a></h3><p>In this section we use the divergence theorem for a Henstock-Kurzweil-like integral
<code><a href="../../.././Mathlib/Analysis/BoxIntegral/DivergenceTheorem.html#BoxIntegral.hasIntegral_GP_divergence_of_forall_hasDerivWithinAt">BoxIntegral.hasIntegral_GP_divergence_of_forall_hasDerivWithinAt</a></code> to prove the divergence
theorem for Bochner integral. The divergence theorem for Bochner integral
<code><a href="../../.././Mathlib/MeasureTheory/Integral/DivergenceTheorem.html#MeasureTheory.integral_divergence_of_hasFDerivAt_off_countable">MeasureTheory.integral_divergence_of_hasFDerivAt_off_countable</a></code> assumes that the function
itself is continuous on a closed box, differentiable at all but countably many points of its
interior, and the divergence is integrable on the box.</p><p>This statement differs from <code><a href="../../.././Mathlib/Analysis/BoxIntegral/DivergenceTheorem.html#BoxIntegral.hasIntegral_GP_divergence_of_forall_hasDerivWithinAt">BoxIntegral.hasIntegral_GP_divergence_of_forall_hasDerivWithinAt</a></code>
in several aspects.</p><ul><li><p>We use Bochner integral instead of a Henstock-Kurzweil integral. This modification is done in
<code>MeasureTheory.integral_divergence_of_hasFDerivWithinAt_off_countable_auxâ‚</code>. As a side effect
of this change, we need to assume that the divergence is integrable.</p></li><li><p>We don't assume differentiability on the boundary of the box. This modification is done in
<code>MeasureTheory.integral_divergence_of_hasFDerivAt_off_countable_auxâ‚‚</code>. To prove it, we
choose an increasing sequence of smaller boxes that cover the interior of the original box, then
apply the previous lemma to these smaller boxes and take the limit of both sides of the equation.</p></li><li><p>We assume <code>a â‰¤ b</code> instead of <code>âˆ€ i, a i &lt; b i</code>. This is the last step of the proof, and it is done
in the main theorem <code><a href="../../.././Mathlib/MeasureTheory/Integral/DivergenceTheorem.html#MeasureTheory.integral_divergence_of_hasFDerivAt_off_countable">MeasureTheory.integral_divergence_of_hasFDerivAt_off_countable</a></code>.</p></li></ul></div><div class="decl" id="MeasureTheory.integral_divergence_of_hasFDerivAt_off_countable"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/338973d7437af2cf5a6769391b1b4e5b1f8db099/Mathlib/MeasureTheory/Integral/DivergenceTheorem.lean#L253-L293">source</a></div><div class="verification_link">
<a href="../../../../modules/Mathlib_MeasureTheory_Integral_DivergenceTheorem.html#MeasureTheory.integral_divergence_of_hasFDerivAt_off_countable" class="verification-badge mathematical" title="Mathematical property (specification layer)">ğŸ“ coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/MeasureTheory/Integral/DivergenceTheorem.html#MeasureTheory.integral_divergence_of_hasFDerivAt_off_countable"><span class="name">MeasureTheory</span>.<span class="name">integral_divergence_of_hasFDerivAt_off_countable</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">E</span> : <a href="../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Analysis/Normed/Group/Defs.html#NormedAddCommGroup">NormedAddCommGroup</a> <span class="fn">E</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Analysis/Normed/Module/Basic.html#NormedSpace">NormedSpace</a> <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a> <span class="fn">E</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <span class="fn">â„•</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">a </span><span class="fn">b</span> : <span class="fn"><span class="fn"><span class="fn">Fin</span> <span class="fn">(<span class="fn">n</span> <span class="fn">+</span> <span class="fn">1</span>)</span></span> â†’ <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hle</span> : <span class="fn">a</span> <a href="../../.././Mathlib/Algebra/Order/Kleene.html#LE.le">â‰¤</a> <span class="fn">b</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><span class="fn">(<span class="fn"><span class="fn">Fin</span> <span class="fn">(<span class="fn">n</span> <span class="fn">+</span> <span class="fn">1</span>)</span></span> â†’ <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a>)</span> â†’ <span class="fn"><span class="fn"><span class="fn">Fin</span> <span class="fn">(<span class="fn">n</span> <span class="fn">+</span> <span class="fn">1</span>)</span></span> â†’ <span class="fn">E</span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">f'</span> : <span class="fn"><span class="fn">(<span class="fn"><span class="fn">Fin</span> <span class="fn">(<span class="fn">n</span> <span class="fn">+</span> <span class="fn">1</span>)</span></span> â†’ <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a>)</span> â†’ <span class="fn">(<span class="fn"><span class="fn">Fin</span> <span class="fn">(<span class="fn">n</span> <span class="fn">+</span> <span class="fn">1</span>)</span></span> â†’ <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a>)</span> <a href="../../.././Mathlib/Topology/Algebra/Module/LinearMap.html#ContinuousLinearMap">â†’L[</a><a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a><a href="../../.././Mathlib/Topology/Algebra/Module/LinearMap.html#ContinuousLinearMap">]</a> <span class="fn"><span class="fn"><span class="fn">Fin</span> <span class="fn">(<span class="fn">n</span> <span class="fn">+</span> <span class="fn">1</span>)</span></span> â†’ <span class="fn">E</span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">s</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> <span class="fn">(<span class="fn"><span class="fn">Fin</span> <span class="fn">(<span class="fn">n</span> <span class="fn">+</span> <span class="fn">1</span>)</span></span> â†’ <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a>)</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hs</span> : <span class="fn"><span class="fn">s</span>.<a href="../../.././Mathlib/Data/Set/Countable.html#Set.Countable">Countable</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">Hc</span> : <span class="fn"><a href="../../.././Mathlib/Topology/Defs/Filter.html#ContinuousOn">ContinuousOn</a> <span class="fn">f</span> <span class="fn">(<a href="../../.././Mathlib/Order/Interval/Set/Defs.html#Set.Icc">Set.Icc</a> <span class="fn">a</span> <span class="fn">b</span>)</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">Hd</span> : <span class="fn">âˆ€ <span class="fn">x</span> âˆˆ <span class="fn">(<span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set.univ">Set.univ</a>.<a href="../../.././Mathlib/Data/Set/Operations.html#Set.pi">pi</a></span> <span class="fn">fun (<span class="fn">i</span> : <span class="fn"><span class="fn">Fin</span> <span class="fn">(<span class="fn">n</span> <span class="fn">+</span> <span class="fn">1</span>)</span></span>) =&gt; <span class="fn"><a href="../../.././Mathlib/Order/Interval/Set/Defs.html#Set.Ioo">Set.Ioo</a> <span class="fn">(<span class="fn">a</span> <span class="fn">i</span>)</span> <span class="fn">(<span class="fn">b</span> <span class="fn">i</span>)</span></span></span>)</span> <a href="../../.././Mathlib/Order/BooleanAlgebra/Defs.html#SDiff.sdiff">\</a> <span class="fn">s</span>, <span class="fn"><a href="../../.././Mathlib/Analysis/Calculus/FDeriv/Defs.html#HasFDerivAt">HasFDerivAt</a> <span class="fn">f</span> <span class="fn">(<span class="fn">f'</span> <span class="fn">x</span>)</span> <span class="fn">x</span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">Hi</span> : <span class="fn"><a href="../../.././Mathlib/MeasureTheory/Integral/IntegrableOn.html#MeasureTheory.IntegrableOn">IntegrableOn</a> <span class="fn">(fun (<span class="fn">x</span> : <span class="fn"><span class="fn"><span class="fn">Fin</span> <span class="fn">(<span class="fn">n</span> <span class="fn">+</span> <span class="fn">1</span>)</span></span> â†’ <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a></span>) =&gt; <span class="fn">âˆ‘ <span class="fn">i</span> : <span class="fn"><span class="fn">Fin</span> <span class="fn">(<span class="fn">n</span> <span class="fn">+</span> <span class="fn">1</span>)</span></span>, <span class="fn"><span class="fn">(<span class="fn">f'</span> <span class="fn">x</span>)</span> <span class="fn">(<a href="../../.././Mathlib/Algebra/Notation/Pi/Basic.html#Pi.single">Pi.single</a> <span class="fn">i</span> <span class="fn">1</span>)</span> <span class="fn">i</span></span></span>)</span> <span class="fn">(<a href="../../.././Mathlib/Order/Interval/Set/Defs.html#Set.Icc">Set.Icc</a> <span class="fn">a</span> <span class="fn">b</span>)</span> <a href="../../.././Mathlib/MeasureTheory/Measure/MeasureSpaceDef.html#MeasureTheory.MeasureSpace.volume">volume</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><a href="../../.././Mathlib/MeasureTheory/Integral/Bochner/Basic.html#MeasureTheory.integral">âˆ«</a> (<span class="fn">x</span> : <span class="fn"><span class="fn"><span class="fn">Fin</span> <span class="fn">(<span class="fn">n</span> <span class="fn">+</span> <span class="fn">1</span>)</span></span> â†’ <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a></span>) <a href="../../.././Mathlib/MeasureTheory/Integral/Bochner/Basic.html#MeasureTheory.integral">in</a> <span class="fn"><a href="../../.././Mathlib/Order/Interval/Set/Defs.html#Set.Icc">Set.Icc</a> <span class="fn">a</span> <span class="fn">b</span></span><a href="../../.././Mathlib/MeasureTheory/Integral/Bochner/Basic.html#MeasureTheory.integral">,</a> <span class="fn">âˆ‘ <span class="fn">i</span> : <span class="fn"><span class="fn">Fin</span> <span class="fn">(<span class="fn">n</span> <span class="fn">+</span> <span class="fn">1</span>)</span></span>, <span class="fn"><span class="fn">(<span class="fn">f'</span> <span class="fn">x</span>)</span> <span class="fn">(<a href="../../.././Mathlib/Algebra/Notation/Pi/Basic.html#Pi.single">Pi.single</a> <span class="fn">i</span> <span class="fn">1</span>)</span> <span class="fn">i</span></span></span></span> <span class="fn">=</span>   <span class="fn">âˆ‘ <span class="fn">i</span> : <span class="fn"><span class="fn">Fin</span> <span class="fn">(<span class="fn">n</span> <span class="fn">+</span> <span class="fn">1</span>)</span></span>,
    <span class="fn">(<span class="fn">(<a href="../../.././Mathlib/MeasureTheory/Integral/Bochner/Basic.html#MeasureTheory.integral">âˆ«</a> (<span class="fn">x</span> : <span class="fn"><span class="fn"><span class="fn">Fin</span> <span class="fn">n</span></span> â†’ <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a></span>) <a href="../../.././Mathlib/MeasureTheory/Integral/Bochner/Basic.html#MeasureTheory.integral">in</a> <span class="fn"><a href="../../.././Mathlib/Order/Interval/Set/Defs.html#Set.Icc">Set.Icc</a> <span class="fn">(<span class="fn">a</span> <span class="fn">âˆ˜</span> <span class="fn"><span class="fn">i</span>.<a href="../../.././Mathlib/Data/Fin/SuccPred.html#Fin.succAbove">succAbove</a></span>)</span> <span class="fn">(<span class="fn">b</span> <span class="fn">âˆ˜</span> <span class="fn"><span class="fn">i</span>.<a href="../../.././Mathlib/Data/Fin/SuccPred.html#Fin.succAbove">succAbove</a></span>)</span></span><a href="../../.././Mathlib/MeasureTheory/Integral/Bochner/Basic.html#MeasureTheory.integral">,</a> <span class="fn"><span class="fn">f</span> <span class="fn">(<span class="fn"><span class="fn">i</span>.<a href="../../.././Mathlib/Data/Fin/Tuple/Basic.html#Fin.insertNth">insertNth</a></span> <span class="fn">(<span class="fn">b</span> <span class="fn">i</span>)</span> <span class="fn">x</span>)</span> <span class="fn">i</span></span>)</span> <span class="fn">-</span>       <span class="fn"><a href="../../.././Mathlib/MeasureTheory/Integral/Bochner/Basic.html#MeasureTheory.integral">âˆ«</a> (<span class="fn">x</span> : <span class="fn"><span class="fn"><span class="fn">Fin</span> <span class="fn">n</span></span> â†’ <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a></span>) <a href="../../.././Mathlib/MeasureTheory/Integral/Bochner/Basic.html#MeasureTheory.integral">in</a> <span class="fn"><a href="../../.././Mathlib/Order/Interval/Set/Defs.html#Set.Icc">Set.Icc</a> <span class="fn">(<span class="fn">a</span> <span class="fn">âˆ˜</span> <span class="fn"><span class="fn">i</span>.<a href="../../.././Mathlib/Data/Fin/SuccPred.html#Fin.succAbove">succAbove</a></span>)</span> <span class="fn">(<span class="fn">b</span> <span class="fn">âˆ˜</span> <span class="fn"><span class="fn">i</span>.<a href="../../.././Mathlib/Data/Fin/SuccPred.html#Fin.succAbove">succAbove</a></span>)</span></span><a href="../../.././Mathlib/MeasureTheory/Integral/Bochner/Basic.html#MeasureTheory.integral">,</a> <span class="fn"><span class="fn">f</span> <span class="fn">(<span class="fn"><span class="fn">i</span>.<a href="../../.././Mathlib/Data/Fin/Tuple/Basic.html#Fin.insertNth">insertNth</a></span> <span class="fn">(<span class="fn">a</span> <span class="fn">i</span>)</span> <span class="fn">x</span>)</span> <span class="fn">i</span></span></span>)</span></span></span></div></div><p><strong>Divergence theorem</strong> for Bochner integral. If <code>f : â„â¿âºÂ¹ â†’ Eâ¿âºÂ¹</code> is continuous on a rectangular
box <code>[a, b] : <a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> â„â¿âºÂ¹</code>, <code>a â‰¤ b</code>, is differentiable on its interior with derivative
<code>f' : â„â¿âºÂ¹ â†’ â„â¿âºÂ¹ â†’L[â„] Eâ¿âºÂ¹</code> and the divergence <code>fun x â†¦ âˆ‘ i, f' x eáµ¢ i</code> is integrable on <code>[a, b]</code>,
where <code>eáµ¢ = <a href="../../.././Mathlib/Algebra/Notation/Pi/Basic.html#Pi.single">Pi.single</a> i 1</code> is the <code>i</code>-th basis vector, then its integral is equal to the sum of
integrals of <code>f</code> over the faces of <code>[a, b]</code>, taken with appropriate signs.</p><p>Moreover, the same is true if the function is not differentiable at countably many
points of the interior of <code>[a, b]</code>.</p><p>We represent both faces <code>x i = a i</code> and <code>x i = b i</code> as the box
<code>face i = [a âˆ˜ <a href="../../.././Mathlib/Data/Fin/SuccPred.html#Fin.succAbove">Fin.succAbove</a> i, b âˆ˜ <a href="../../.././Mathlib/Data/Fin/SuccPred.html#Fin.succAbove">Fin.succAbove</a> i]</code> in <code>â„â¿</code>, where
<code><a href="../../.././Mathlib/Data/Fin/SuccPred.html#Fin.succAbove">Fin.succAbove</a> : Fin n â†ªo Fin (n + 1)</code> is the order embedding with range <code>{i}á¶œ</code>. The restrictions
of <code>f : â„â¿âºÂ¹ â†’ Eâ¿âºÂ¹</code> to these faces are given by <code>f âˆ˜ backFace i</code> and <code>f âˆ˜ frontFace i</code>, where
<code>backFace i = <a href="../../.././Mathlib/Data/Fin/Tuple/Basic.html#Fin.insertNth">Fin.insertNth</a> i (a i)</code> and <code>frontFace i = <a href="../../.././Mathlib/Data/Fin/Tuple/Basic.html#Fin.insertNth">Fin.insertNth</a> i (b i)</code> are embeddings
<code>â„â¿ â†’ â„â¿âºÂ¹</code> that take <code>y : â„â¿</code> and insert <code>a i</code> (resp., <code>b i</code>) as <code>i</code>-th coordinate.</p></div></div><div class="decl" id="MeasureTheory.integral_divergence_of_hasFDerivAt_off_countable'"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/338973d7437af2cf5a6769391b1b4e5b1f8db099/Mathlib/MeasureTheory/Integral/DivergenceTheorem.lean#L295-L309">source</a></div><div class="verification_link">
<a href="../../../../modules/Mathlib_MeasureTheory_Integral_DivergenceTheorem.html#MeasureTheory.integral_divergence_of_hasFDerivAt_off_countable'" class="verification-badge mathematical" title="Mathematical property (specification layer)">ğŸ“ coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/MeasureTheory/Integral/DivergenceTheorem.html#MeasureTheory.integral_divergence_of_hasFDerivAt_off_countable'"><span class="name">MeasureTheory</span>.<span class="name">integral_divergence_of_hasFDerivAt_off_countable'</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">E</span> : <a href="../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Analysis/Normed/Group/Defs.html#NormedAddCommGroup">NormedAddCommGroup</a> <span class="fn">E</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Analysis/Normed/Module/Basic.html#NormedSpace">NormedSpace</a> <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a> <span class="fn">E</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <span class="fn">â„•</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">a </span><span class="fn">b</span> : <span class="fn"><span class="fn"><span class="fn">Fin</span> <span class="fn">(<span class="fn">n</span> <span class="fn">+</span> <span class="fn">1</span>)</span></span> â†’ <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hle</span> : <span class="fn">a</span> <a href="../../.././Mathlib/Algebra/Order/Kleene.html#LE.le">â‰¤</a> <span class="fn">b</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><span class="fn"><span class="fn">Fin</span> <span class="fn">(<span class="fn">n</span> <span class="fn">+</span> <span class="fn">1</span>)</span></span> â†’ <span class="fn"><span class="fn">(<span class="fn"><span class="fn">Fin</span> <span class="fn">(<span class="fn">n</span> <span class="fn">+</span> <span class="fn">1</span>)</span></span> â†’ <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a>)</span> â†’ <span class="fn">E</span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">f'</span> : <span class="fn"><span class="fn"><span class="fn">Fin</span> <span class="fn">(<span class="fn">n</span> <span class="fn">+</span> <span class="fn">1</span>)</span></span> â†’ <span class="fn"><span class="fn">(<span class="fn"><span class="fn">Fin</span> <span class="fn">(<span class="fn">n</span> <span class="fn">+</span> <span class="fn">1</span>)</span></span> â†’ <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a>)</span> â†’ <span class="fn">(<span class="fn"><span class="fn">Fin</span> <span class="fn">(<span class="fn">n</span> <span class="fn">+</span> <span class="fn">1</span>)</span></span> â†’ <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a>)</span> <a href="../../.././Mathlib/Topology/Algebra/Module/LinearMap.html#ContinuousLinearMap">â†’L[</a><a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a><a href="../../.././Mathlib/Topology/Algebra/Module/LinearMap.html#ContinuousLinearMap">]</a> <span class="fn">E</span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">s</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> <span class="fn">(<span class="fn"><span class="fn">Fin</span> <span class="fn">(<span class="fn">n</span> <span class="fn">+</span> <span class="fn">1</span>)</span></span> â†’ <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a>)</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hs</span> : <span class="fn"><span class="fn">s</span>.<a href="../../.././Mathlib/Data/Set/Countable.html#Set.Countable">Countable</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">Hc</span> : <span class="fn">âˆ€ (<span class="fn">i</span> : <span class="fn"><span class="fn">Fin</span> <span class="fn">(<span class="fn">n</span> <span class="fn">+</span> <span class="fn">1</span>)</span></span>), <span class="fn"><a href="../../.././Mathlib/Topology/Defs/Filter.html#ContinuousOn">ContinuousOn</a> <span class="fn">(<span class="fn">f</span> <span class="fn">i</span>)</span> <span class="fn">(<a href="../../.././Mathlib/Order/Interval/Set/Defs.html#Set.Icc">Set.Icc</a> <span class="fn">a</span> <span class="fn">b</span>)</span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">Hd</span> :
  <span class="fn">âˆ€ <span class="fn">x</span> âˆˆ <span class="fn">(<span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set.univ">Set.univ</a>.<a href="../../.././Mathlib/Data/Set/Operations.html#Set.pi">pi</a></span> <span class="fn">fun (<span class="fn">i</span> : <span class="fn"><span class="fn">Fin</span> <span class="fn">(<span class="fn">n</span> <span class="fn">+</span> <span class="fn">1</span>)</span></span>) =&gt; <span class="fn"><a href="../../.././Mathlib/Order/Interval/Set/Defs.html#Set.Ioo">Set.Ioo</a> <span class="fn">(<span class="fn">a</span> <span class="fn">i</span>)</span> <span class="fn">(<span class="fn">b</span> <span class="fn">i</span>)</span></span></span>)</span> <a href="../../.././Mathlib/Order/BooleanAlgebra/Defs.html#SDiff.sdiff">\</a> <span class="fn">s</span>,
    <span class="fn">âˆ€ (<span class="fn">i</span> : <span class="fn"><span class="fn">Fin</span> <span class="fn">(<span class="fn">n</span> <span class="fn">+</span> <span class="fn">1</span>)</span></span>), <span class="fn"><a href="../../.././Mathlib/Analysis/Calculus/FDeriv/Defs.html#HasFDerivAt">HasFDerivAt</a> <span class="fn">(<span class="fn">f</span> <span class="fn">i</span>)</span> <span class="fn">(<span class="fn">f'</span> <span class="fn">i</span> <span class="fn">x</span>)</span> <span class="fn">x</span></span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">Hi</span> : <span class="fn"><a href="../../.././Mathlib/MeasureTheory/Integral/IntegrableOn.html#MeasureTheory.IntegrableOn">IntegrableOn</a> <span class="fn">(fun (<span class="fn">x</span> : <span class="fn"><span class="fn"><span class="fn">Fin</span> <span class="fn">(<span class="fn">n</span> <span class="fn">+</span> <span class="fn">1</span>)</span></span> â†’ <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a></span>) =&gt; <span class="fn">âˆ‘ <span class="fn">i</span> : <span class="fn"><span class="fn">Fin</span> <span class="fn">(<span class="fn">n</span> <span class="fn">+</span> <span class="fn">1</span>)</span></span>, <span class="fn"><span class="fn">(<span class="fn">f'</span> <span class="fn">i</span> <span class="fn">x</span>)</span> <span class="fn">(<a href="../../.././Mathlib/Algebra/Notation/Pi/Basic.html#Pi.single">Pi.single</a> <span class="fn">i</span> <span class="fn">1</span>)</span></span></span>)</span> <span class="fn">(<a href="../../.././Mathlib/Order/Interval/Set/Defs.html#Set.Icc">Set.Icc</a> <span class="fn">a</span> <span class="fn">b</span>)</span> <a href="../../.././Mathlib/MeasureTheory/Measure/MeasureSpaceDef.html#MeasureTheory.MeasureSpace.volume">volume</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><a href="../../.././Mathlib/MeasureTheory/Integral/Bochner/Basic.html#MeasureTheory.integral">âˆ«</a> (<span class="fn">x</span> : <span class="fn"><span class="fn"><span class="fn">Fin</span> <span class="fn">(<span class="fn">n</span> <span class="fn">+</span> <span class="fn">1</span>)</span></span> â†’ <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a></span>) <a href="../../.././Mathlib/MeasureTheory/Integral/Bochner/Basic.html#MeasureTheory.integral">in</a> <span class="fn"><a href="../../.././Mathlib/Order/Interval/Set/Defs.html#Set.Icc">Set.Icc</a> <span class="fn">a</span> <span class="fn">b</span></span><a href="../../.././Mathlib/MeasureTheory/Integral/Bochner/Basic.html#MeasureTheory.integral">,</a> <span class="fn">âˆ‘ <span class="fn">i</span> : <span class="fn"><span class="fn">Fin</span> <span class="fn">(<span class="fn">n</span> <span class="fn">+</span> <span class="fn">1</span>)</span></span>, <span class="fn"><span class="fn">(<span class="fn">f'</span> <span class="fn">i</span> <span class="fn">x</span>)</span> <span class="fn">(<a href="../../.././Mathlib/Algebra/Notation/Pi/Basic.html#Pi.single">Pi.single</a> <span class="fn">i</span> <span class="fn">1</span>)</span></span></span></span> <span class="fn">=</span>   <span class="fn">âˆ‘ <span class="fn">i</span> : <span class="fn"><span class="fn">Fin</span> <span class="fn">(<span class="fn">n</span> <span class="fn">+</span> <span class="fn">1</span>)</span></span>,
    <span class="fn">(<span class="fn">(<a href="../../.././Mathlib/MeasureTheory/Integral/Bochner/Basic.html#MeasureTheory.integral">âˆ«</a> (<span class="fn">x</span> : <span class="fn"><span class="fn"><span class="fn">Fin</span> <span class="fn">n</span></span> â†’ <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a></span>) <a href="../../.././Mathlib/MeasureTheory/Integral/Bochner/Basic.html#MeasureTheory.integral">in</a> <span class="fn"><a href="../../.././Mathlib/Order/Interval/Set/Defs.html#Set.Icc">Set.Icc</a> <span class="fn">(<span class="fn">a</span> <span class="fn">âˆ˜</span> <span class="fn"><span class="fn">i</span>.<a href="../../.././Mathlib/Data/Fin/SuccPred.html#Fin.succAbove">succAbove</a></span>)</span> <span class="fn">(<span class="fn">b</span> <span class="fn">âˆ˜</span> <span class="fn"><span class="fn">i</span>.<a href="../../.././Mathlib/Data/Fin/SuccPred.html#Fin.succAbove">succAbove</a></span>)</span></span><a href="../../.././Mathlib/MeasureTheory/Integral/Bochner/Basic.html#MeasureTheory.integral">,</a> <span class="fn"><span class="fn">f</span> <span class="fn">i</span> <span class="fn">(<span class="fn"><span class="fn">i</span>.<a href="../../.././Mathlib/Data/Fin/Tuple/Basic.html#Fin.insertNth">insertNth</a></span> <span class="fn">(<span class="fn">b</span> <span class="fn">i</span>)</span> <span class="fn">x</span>)</span></span>)</span> <span class="fn">-</span>       <span class="fn"><a href="../../.././Mathlib/MeasureTheory/Integral/Bochner/Basic.html#MeasureTheory.integral">âˆ«</a> (<span class="fn">x</span> : <span class="fn"><span class="fn"><span class="fn">Fin</span> <span class="fn">n</span></span> â†’ <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a></span>) <a href="../../.././Mathlib/MeasureTheory/Integral/Bochner/Basic.html#MeasureTheory.integral">in</a> <span class="fn"><a href="../../.././Mathlib/Order/Interval/Set/Defs.html#Set.Icc">Set.Icc</a> <span class="fn">(<span class="fn">a</span> <span class="fn">âˆ˜</span> <span class="fn"><span class="fn">i</span>.<a href="../../.././Mathlib/Data/Fin/SuccPred.html#Fin.succAbove">succAbove</a></span>)</span> <span class="fn">(<span class="fn">b</span> <span class="fn">âˆ˜</span> <span class="fn"><span class="fn">i</span>.<a href="../../.././Mathlib/Data/Fin/SuccPred.html#Fin.succAbove">succAbove</a></span>)</span></span><a href="../../.././Mathlib/MeasureTheory/Integral/Bochner/Basic.html#MeasureTheory.integral">,</a> <span class="fn"><span class="fn">f</span> <span class="fn">i</span> <span class="fn">(<span class="fn"><span class="fn">i</span>.<a href="../../.././Mathlib/Data/Fin/Tuple/Basic.html#Fin.insertNth">insertNth</a></span> <span class="fn">(<span class="fn">a</span> <span class="fn">i</span>)</span> <span class="fn">x</span>)</span></span></span>)</span></span></span></div></div><p><strong>Divergence theorem</strong> for a family of functions <code>f : Fin (n + 1) â†’ â„â¿âºÂ¹ â†’ E</code>. See also
<code><a href="../../.././Mathlib/MeasureTheory/Integral/DivergenceTheorem.html#MeasureTheory.integral_divergence_of_hasFDerivAt_off_countable'">MeasureTheory.integral_divergence_of_hasFDerivAt_off_countable'</a></code> for a version formulated
in terms of a vector-valued function <code>f : â„â¿âºÂ¹ â†’ Eâ¿âºÂ¹</code>.</p></div></div><div class="decl" id="MeasureTheory.integral_divergence_of_hasFDerivAt_off_countable_of_equiv"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/338973d7437af2cf5a6769391b1b4e5b1f8db099/Mathlib/MeasureTheory/Integral/DivergenceTheorem.lean#L313-L354">source</a></div><div class="verification_link">
<a href="../../../../modules/Mathlib_MeasureTheory_Integral_DivergenceTheorem.html#MeasureTheory.integral_divergence_of_hasFDerivAt_off_countable_of_equiv" class="verification-badge mathematical" title="Mathematical property (specification layer)">ğŸ“ coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/MeasureTheory/Integral/DivergenceTheorem.html#MeasureTheory.integral_divergence_of_hasFDerivAt_off_countable_of_equiv"><span class="name">MeasureTheory</span>.<span class="name">integral_divergence_of_hasFDerivAt_off_countable_of_equiv</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">E</span> : <a href="../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Analysis/Normed/Group/Defs.html#NormedAddCommGroup">NormedAddCommGroup</a> <span class="fn">E</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Analysis/Normed/Module/Basic.html#NormedSpace">NormedSpace</a> <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a> <span class="fn">E</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <span class="fn">â„•</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">F</span> : <a href="../../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Analysis/Normed/Group/Defs.html#NormedAddCommGroup">NormedAddCommGroup</a> <span class="fn">F</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Analysis/Normed/Module/Basic.html#NormedSpace">NormedSpace</a> <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a> <span class="fn">F</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Order/Defs/PartialOrder.html#Preorder">Preorder</a> <span class="fn">F</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/MeasureTheory/Measure/MeasureSpaceDef.html#MeasureTheory.MeasureSpace">MeasureSpace</a> <span class="fn">F</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/MeasureTheory/Constructions/BorelSpace/Basic.html#BorelSpace">BorelSpace</a> <span class="fn">F</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">eL</span> : <span class="fn">F</span> <a href="../../.././Mathlib/Topology/Algebra/Module/Equiv.html#ContinuousLinearEquiv">â‰ƒL[</a><a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a><a href="../../.././Mathlib/Topology/Algebra/Module/Equiv.html#ContinuousLinearEquiv">]</a> <span class="fn"><span class="fn"><span class="fn">Fin</span> <span class="fn">(<span class="fn">n</span> <span class="fn">+</span> <span class="fn">1</span>)</span></span> â†’ <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">he_ord</span> : <span class="fn">âˆ€ (<span class="fn">x </span><span class="fn">y</span> : <span class="fn">F</span>), <span class="fn"><span class="fn"><span class="fn">eL</span> <span class="fn">x</span></span> <a href="../../.././Mathlib/Algebra/Order/Kleene.html#LE.le">â‰¤</a> <span class="fn"><span class="fn">eL</span> <span class="fn">y</span></span> <span class="fn">â†”</span> <span class="fn">x</span> <a href="../../.././Mathlib/Algebra/Order/Kleene.html#LE.le">â‰¤</a> <span class="fn">y</span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">he_vol</span> : <span class="fn"><a href="../../.././Mathlib/Dynamics/Ergodic/MeasurePreserving.html#MeasureTheory.MeasurePreserving">MeasurePreserving</a> <span class="fn">(â‡‘<span class="fn">eL</span>)</span> <a href="../../.././Mathlib/MeasureTheory/Measure/MeasureSpaceDef.html#MeasureTheory.MeasureSpace.volume">volume</a> <a href="../../.././Mathlib/MeasureTheory/Measure/MeasureSpaceDef.html#MeasureTheory.MeasureSpace.volume">volume</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><span class="fn"><span class="fn">Fin</span> <span class="fn">(<span class="fn">n</span> <span class="fn">+</span> <span class="fn">1</span>)</span></span> â†’ <span class="fn"><span class="fn">F</span> â†’ <span class="fn">E</span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">f'</span> : <span class="fn"><span class="fn"><span class="fn">Fin</span> <span class="fn">(<span class="fn">n</span> <span class="fn">+</span> <span class="fn">1</span>)</span></span> â†’ <span class="fn"><span class="fn">F</span> â†’ <span class="fn">F</span> <a href="../../.././Mathlib/Topology/Algebra/Module/LinearMap.html#ContinuousLinearMap">â†’L[</a><a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a><a href="../../.././Mathlib/Topology/Algebra/Module/LinearMap.html#ContinuousLinearMap">]</a> <span class="fn">E</span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">s</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> <span class="fn">F</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hs</span> : <span class="fn"><span class="fn">s</span>.<a href="../../.././Mathlib/Data/Set/Countable.html#Set.Countable">Countable</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">a </span><span class="fn">b</span> : <span class="fn">F</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hle</span> : <span class="fn">a</span> <a href="../../.././Mathlib/Algebra/Order/Kleene.html#LE.le">â‰¤</a> <span class="fn">b</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">Hc</span> : <span class="fn">âˆ€ (<span class="fn">i</span> : <span class="fn"><span class="fn">Fin</span> <span class="fn">(<span class="fn">n</span> <span class="fn">+</span> <span class="fn">1</span>)</span></span>), <span class="fn"><a href="../../.././Mathlib/Topology/Defs/Filter.html#ContinuousOn">ContinuousOn</a> <span class="fn">(<span class="fn">f</span> <span class="fn">i</span>)</span> <span class="fn">(<a href="../../.././Mathlib/Order/Interval/Set/Defs.html#Set.Icc">Set.Icc</a> <span class="fn">a</span> <span class="fn">b</span>)</span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">Hd</span> : <span class="fn">âˆ€ <span class="fn">x</span> âˆˆ <span class="fn"><a href="../../.././Mathlib/Topology/Defs/Basic.html#interior">interior</a> <span class="fn">(<a href="../../.././Mathlib/Order/Interval/Set/Defs.html#Set.Icc">Set.Icc</a> <span class="fn">a</span> <span class="fn">b</span>)</span></span> <a href="../../.././Mathlib/Order/BooleanAlgebra/Defs.html#SDiff.sdiff">\</a> <span class="fn">s</span>, <span class="fn">âˆ€ (<span class="fn">i</span> : <span class="fn"><span class="fn">Fin</span> <span class="fn">(<span class="fn">n</span> <span class="fn">+</span> <span class="fn">1</span>)</span></span>), <span class="fn"><a href="../../.././Mathlib/Analysis/Calculus/FDeriv/Defs.html#HasFDerivAt">HasFDerivAt</a> <span class="fn">(<span class="fn">f</span> <span class="fn">i</span>)</span> <span class="fn">(<span class="fn">f'</span> <span class="fn">i</span> <span class="fn">x</span>)</span> <span class="fn">x</span></span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">DF</span> : <span class="fn"><span class="fn">F</span> â†’ <span class="fn">E</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hDF</span> : <span class="fn">âˆ€ (<span class="fn">x</span> : <span class="fn">F</span>), <span class="fn"><span class="fn"><span class="fn">DF</span> <span class="fn">x</span></span> <span class="fn">=</span> <span class="fn">âˆ‘ <span class="fn">i</span> : <span class="fn"><span class="fn">Fin</span> <span class="fn">(<span class="fn">n</span> <span class="fn">+</span> <span class="fn">1</span>)</span></span>, <span class="fn"><span class="fn">(<span class="fn">f'</span> <span class="fn">i</span> <span class="fn">x</span>)</span> <span class="fn">(<span class="fn"><span class="fn">eL</span>.<a href="../../.././Mathlib/Topology/Algebra/Module/Equiv.html#ContinuousLinearEquiv.symm">symm</a></span> <span class="fn">(<a href="../../.././Mathlib/Algebra/Notation/Pi/Basic.html#Pi.single">Pi.single</a> <span class="fn">i</span> <span class="fn">1</span>)</span>)</span></span></span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">Hi</span> : <span class="fn"><a href="../../.././Mathlib/MeasureTheory/Integral/IntegrableOn.html#MeasureTheory.IntegrableOn">IntegrableOn</a> <span class="fn">DF</span> <span class="fn">(<a href="../../.././Mathlib/Order/Interval/Set/Defs.html#Set.Icc">Set.Icc</a> <span class="fn">a</span> <span class="fn">b</span>)</span> <a href="../../.././Mathlib/MeasureTheory/Measure/MeasureSpaceDef.html#MeasureTheory.MeasureSpace.volume">volume</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><a href="../../.././Mathlib/MeasureTheory/Integral/Bochner/Basic.html#MeasureTheory.integral">âˆ«</a> (<span class="fn">x</span> : <span class="fn">F</span>) <a href="../../.././Mathlib/MeasureTheory/Integral/Bochner/Basic.html#MeasureTheory.integral">in</a> <span class="fn"><a href="../../.././Mathlib/Order/Interval/Set/Defs.html#Set.Icc">Set.Icc</a> <span class="fn">a</span> <span class="fn">b</span></span><a href="../../.././Mathlib/MeasureTheory/Integral/Bochner/Basic.html#MeasureTheory.integral">,</a> <span class="fn"><span class="fn">DF</span> <span class="fn">x</span></span></span> <span class="fn">=</span>   <span class="fn">âˆ‘ <span class="fn">i</span> : <span class="fn"><span class="fn">Fin</span> <span class="fn">(<span class="fn">n</span> <span class="fn">+</span> <span class="fn">1</span>)</span></span>,
    <span class="fn">(<span class="fn">(<a href="../../.././Mathlib/MeasureTheory/Integral/Bochner/Basic.html#MeasureTheory.integral">âˆ«</a> (<span class="fn">x</span> : <span class="fn"><span class="fn"><span class="fn">Fin</span> <span class="fn">n</span></span> â†’ <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a></span>) <a href="../../.././Mathlib/MeasureTheory/Integral/Bochner/Basic.html#MeasureTheory.integral">in</a> <span class="fn"><a href="../../.././Mathlib/Order/Interval/Set/Defs.html#Set.Icc">Set.Icc</a> <span class="fn">(<span class="fn"><span class="fn">eL</span> <span class="fn">a</span></span> <span class="fn">âˆ˜</span> <span class="fn"><span class="fn">i</span>.<a href="../../.././Mathlib/Data/Fin/SuccPred.html#Fin.succAbove">succAbove</a></span>)</span> <span class="fn">(<span class="fn"><span class="fn">eL</span> <span class="fn">b</span></span> <span class="fn">âˆ˜</span> <span class="fn"><span class="fn">i</span>.<a href="../../.././Mathlib/Data/Fin/SuccPred.html#Fin.succAbove">succAbove</a></span>)</span></span><a href="../../.././Mathlib/MeasureTheory/Integral/Bochner/Basic.html#MeasureTheory.integral">,</a> <span class="fn"><span class="fn">f</span> <span class="fn">i</span> <span class="fn">(<span class="fn"><span class="fn">eL</span>.<a href="../../.././Mathlib/Topology/Algebra/Module/Equiv.html#ContinuousLinearEquiv.symm">symm</a></span> <span class="fn">(<span class="fn"><span class="fn">i</span>.<a href="../../.././Mathlib/Data/Fin/Tuple/Basic.html#Fin.insertNth">insertNth</a></span> <span class="fn">(<span class="fn">eL</span> <span class="fn">b</span> <span class="fn">i</span>)</span> <span class="fn">x</span>)</span>)</span></span>)</span> <span class="fn">-</span>       <span class="fn"><a href="../../.././Mathlib/MeasureTheory/Integral/Bochner/Basic.html#MeasureTheory.integral">âˆ«</a> (<span class="fn">x</span> : <span class="fn"><span class="fn"><span class="fn">Fin</span> <span class="fn">n</span></span> â†’ <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a></span>) <a href="../../.././Mathlib/MeasureTheory/Integral/Bochner/Basic.html#MeasureTheory.integral">in</a> <span class="fn"><a href="../../.././Mathlib/Order/Interval/Set/Defs.html#Set.Icc">Set.Icc</a> <span class="fn">(<span class="fn"><span class="fn">eL</span> <span class="fn">a</span></span> <span class="fn">âˆ˜</span> <span class="fn"><span class="fn">i</span>.<a href="../../.././Mathlib/Data/Fin/SuccPred.html#Fin.succAbove">succAbove</a></span>)</span> <span class="fn">(<span class="fn"><span class="fn">eL</span> <span class="fn">b</span></span> <span class="fn">âˆ˜</span> <span class="fn"><span class="fn">i</span>.<a href="../../.././Mathlib/Data/Fin/SuccPred.html#Fin.succAbove">succAbove</a></span>)</span></span><a href="../../.././Mathlib/MeasureTheory/Integral/Bochner/Basic.html#MeasureTheory.integral">,</a> <span class="fn"><span class="fn">f</span> <span class="fn">i</span> <span class="fn">(<span class="fn"><span class="fn">eL</span>.<a href="../../.././Mathlib/Topology/Algebra/Module/Equiv.html#ContinuousLinearEquiv.symm">symm</a></span> <span class="fn">(<span class="fn"><span class="fn">i</span>.<a href="../../.././Mathlib/Data/Fin/Tuple/Basic.html#Fin.insertNth">insertNth</a></span> <span class="fn">(<span class="fn">eL</span> <span class="fn">a</span> <span class="fn">i</span>)</span> <span class="fn">x</span>)</span>)</span></span></span>)</span></span></span></div></div><p>An auxiliary lemma that is used to specialize the general divergence theorem to spaces that do
not have the form <code>Fin n â†’ â„</code>.</p></div></div><div class="decl" id="MeasureTheory.integral_eq_of_hasDerivAt_off_countable_of_le"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/338973d7437af2cf5a6769391b1b4e5b1f8db099/Mathlib/MeasureTheory/Integral/DivergenceTheorem.lean#L366-L402">source</a></div><div class="verification_link">
<a href="../../../../modules/Mathlib_MeasureTheory_Integral_DivergenceTheorem.html#MeasureTheory.integral_eq_of_hasDerivAt_off_countable_of_le" class="verification-badge mathematical" title="Mathematical property (specification layer)">ğŸ“ coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/MeasureTheory/Integral/DivergenceTheorem.html#MeasureTheory.integral_eq_of_hasDerivAt_off_countable_of_le"><span class="name">MeasureTheory</span>.<span class="name">integral_eq_of_hasDerivAt_off_countable_of_le</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">E</span> : <a href="../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Analysis/Normed/Group/Defs.html#NormedAddCommGroup">NormedAddCommGroup</a> <span class="fn">E</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Analysis/Normed/Module/Basic.html#NormedSpace">NormedSpace</a> <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a> <span class="fn">E</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Topology/UniformSpace/Cauchy.html#CompleteSpace">CompleteSpace</a> <span class="fn">E</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f </span><span class="fn">f'</span> : <span class="fn"><a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a> â†’ <span class="fn">E</span></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">a </span><span class="fn">b</span> : <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">hle</span> : <span class="fn">a</span> <a href="../../.././Mathlib/Algebra/Order/Kleene.html#LE.le">â‰¤</a> <span class="fn">b</span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">s</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">hs</span> : <span class="fn"><span class="fn">s</span>.<a href="../../.././Mathlib/Data/Set/Countable.html#Set.Countable">Countable</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">Hc</span> : <span class="fn"><a href="../../.././Mathlib/Topology/Defs/Filter.html#ContinuousOn">ContinuousOn</a> <span class="fn">f</span> <span class="fn">(<a href="../../.././Mathlib/Order/Interval/Set/Defs.html#Set.Icc">Set.Icc</a> <span class="fn">a</span> <span class="fn">b</span>)</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">Hd</span> : <span class="fn">âˆ€ <span class="fn">x</span> âˆˆ <span class="fn"><a href="../../.././Mathlib/Order/Interval/Set/Defs.html#Set.Ioo">Set.Ioo</a> <span class="fn">a</span> <span class="fn">b</span></span> <a href="../../.././Mathlib/Order/BooleanAlgebra/Defs.html#SDiff.sdiff">\</a> <span class="fn">s</span>, <span class="fn"><a href="../../.././Mathlib/Analysis/Calculus/Deriv/Basic.html#HasDerivAt">HasDerivAt</a> <span class="fn">f</span> <span class="fn">(<span class="fn">f'</span> <span class="fn">x</span>)</span> <span class="fn">x</span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">Hi</span> : <span class="fn"><a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#IntervalIntegrable">IntervalIntegrable</a> <span class="fn">f'</span> <a href="../../.././Mathlib/MeasureTheory/Measure/MeasureSpaceDef.html#MeasureTheory.MeasureSpace.volume">volume</a> <span class="fn">a</span> <span class="fn">b</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">âˆ«</a> (<span class="fn">x</span> : <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a>) <a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">in</a> <span class="fn">a</span><a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">..</a><span class="fn">b</span><a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">,</a> <span class="fn"><span class="fn">f'</span> <span class="fn">x</span></span></span> <span class="fn">=</span> <span class="fn"><span class="fn"><span class="fn">f</span> <span class="fn">b</span></span> <span class="fn">-</span> <span class="fn"><span class="fn">f</span> <span class="fn">a</span></span></span></span></div></div><p><strong>Fundamental theorem of calculus, part 2</strong>. This version assumes that <code>f</code> is continuous on the
interval and is differentiable off a countable set <code>s</code>.</p><p>See also</p><ul><li><code><a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/FundThmCalculus.html#intervalIntegral.integral_eq_sub_of_hasDeriv_right_of_le">intervalIntegral.integral_eq_sub_of_hasDeriv_right_of_le</a></code> for a version that only assumes right
differentiability of <code>f</code>;</li><li><code>MeasureTheory.integral_eq_of_hasDerivWithinAt_off_countable</code> for a version that works both
for <code>a â‰¤ b</code> and <code>b â‰¤ a</code> at the expense of using unordered intervals instead of <code><a href="../../.././Mathlib/Order/Interval/Set/Defs.html#Set.Icc">Set.Icc</a></code>.</li></ul></div></div><div class="decl" id="MeasureTheory.integral_eq_of_hasDerivAt_off_countable"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/338973d7437af2cf5a6769391b1b4e5b1f8db099/Mathlib/MeasureTheory/Integral/DivergenceTheorem.lean#L404-L419">source</a></div><div class="verification_link">
<a href="../../../../modules/Mathlib_MeasureTheory_Integral_DivergenceTheorem.html#MeasureTheory.integral_eq_of_hasDerivAt_off_countable" class="verification-badge mathematical" title="Mathematical property (specification layer)">ğŸ“ coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/MeasureTheory/Integral/DivergenceTheorem.html#MeasureTheory.integral_eq_of_hasDerivAt_off_countable"><span class="name">MeasureTheory</span>.<span class="name">integral_eq_of_hasDerivAt_off_countable</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">E</span> : <a href="../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Analysis/Normed/Group/Defs.html#NormedAddCommGroup">NormedAddCommGroup</a> <span class="fn">E</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Analysis/Normed/Module/Basic.html#NormedSpace">NormedSpace</a> <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a> <span class="fn">E</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Topology/UniformSpace/Cauchy.html#CompleteSpace">CompleteSpace</a> <span class="fn">E</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f </span><span class="fn">f'</span> : <span class="fn"><a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a> â†’ <span class="fn">E</span></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">a </span><span class="fn">b</span> : <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">s</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">hs</span> : <span class="fn"><span class="fn">s</span>.<a href="../../.././Mathlib/Data/Set/Countable.html#Set.Countable">Countable</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">Hc</span> : <span class="fn"><a href="../../.././Mathlib/Topology/Defs/Filter.html#ContinuousOn">ContinuousOn</a> <span class="fn">f</span> <span class="fn">(<a href="../../.././Mathlib/Order/Interval/Set/UnorderedInterval.html#Set.uIcc">Set.uIcc</a> <span class="fn">a</span> <span class="fn">b</span>)</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">Hd</span> : <span class="fn">âˆ€ <span class="fn">x</span> âˆˆ <span class="fn"><a href="../../.././Mathlib/Order/Interval/Set/Defs.html#Set.Ioo">Set.Ioo</a> <span class="fn">(<a href="../../.././Mathlib/Algebra/Order/AddGroupWithTop.html#Min.min">min</a> <span class="fn">a</span> <span class="fn">b</span>)</span> <span class="fn">(<a href="../../.././Mathlib/Algebra/Order/AddGroupWithTop.html#Max.max">max</a> <span class="fn">a</span> <span class="fn">b</span>)</span></span> <a href="../../.././Mathlib/Order/BooleanAlgebra/Defs.html#SDiff.sdiff">\</a> <span class="fn">s</span>, <span class="fn"><a href="../../.././Mathlib/Analysis/Calculus/Deriv/Basic.html#HasDerivAt">HasDerivAt</a> <span class="fn">f</span> <span class="fn">(<span class="fn">f'</span> <span class="fn">x</span>)</span> <span class="fn">x</span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">Hi</span> : <span class="fn"><a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#IntervalIntegrable">IntervalIntegrable</a> <span class="fn">f'</span> <a href="../../.././Mathlib/MeasureTheory/Measure/MeasureSpaceDef.html#MeasureTheory.MeasureSpace.volume">volume</a> <span class="fn">a</span> <span class="fn">b</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">âˆ«</a> (<span class="fn">x</span> : <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a>) <a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">in</a> <span class="fn">a</span><a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">..</a><span class="fn">b</span><a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">,</a> <span class="fn"><span class="fn">f'</span> <span class="fn">x</span></span></span> <span class="fn">=</span> <span class="fn"><span class="fn"><span class="fn">f</span> <span class="fn">b</span></span> <span class="fn">-</span> <span class="fn"><span class="fn">f</span> <span class="fn">a</span></span></span></span></div></div><p><strong>Fundamental theorem of calculus, part 2</strong>. This version assumes that <code>f</code> is continuous on the
interval and is differentiable off a countable set <code>s</code>.</p><p>See also <code><a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/FundThmCalculus.html#intervalIntegral.integral_eq_sub_of_hasDeriv_right">intervalIntegral.integral_eq_sub_of_hasDeriv_right</a></code> for a version that
only assumes right differentiability of <code>f</code>.</p></div></div><div class="decl" id="MeasureTheory.integral_divergence_prod_Icc_of_hasFDerivAt_off_countable_of_le"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/338973d7437af2cf5a6769391b1b4e5b1f8db099/Mathlib/MeasureTheory/Integral/DivergenceTheorem.lean#L421-L470">source</a></div><div class="verification_link">
<a href="../../../../modules/Mathlib_MeasureTheory_Integral_DivergenceTheorem.html#MeasureTheory.integral_divergence_prod_Icc_of_hasFDerivAt_off_countable_of_le" class="verification-badge mathematical" title="Mathematical property (specification layer)">ğŸ“ coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/MeasureTheory/Integral/DivergenceTheorem.html#MeasureTheory.integral_divergence_prod_Icc_of_hasFDerivAt_off_countable_of_le"><span class="name">MeasureTheory</span>.<span class="name">integral_divergence_prod_Icc_of_hasFDerivAt_off_countable_of_le</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">E</span> : <a href="../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Analysis/Normed/Group/Defs.html#NormedAddCommGroup">NormedAddCommGroup</a> <span class="fn">E</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Analysis/Normed/Module/Basic.html#NormedSpace">NormedSpace</a> <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a> <span class="fn">E</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f </span><span class="fn">g</span> : <span class="fn"><span class="fn"><a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a> <span class="fn">Ã—</span> <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a></span> â†’ <span class="fn">E</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">f' </span><span class="fn">g'</span> : <span class="fn"><span class="fn"><a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a> <span class="fn">Ã—</span> <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a></span> â†’ <span class="fn"><a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a> <span class="fn">Ã—</span> <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a></span> <a href="../../.././Mathlib/Topology/Algebra/Module/LinearMap.html#ContinuousLinearMap">â†’L[</a><a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a><a href="../../.././Mathlib/Topology/Algebra/Module/LinearMap.html#ContinuousLinearMap">]</a> <span class="fn">E</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">a </span><span class="fn">b</span> : <span class="fn"><a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a> <span class="fn">Ã—</span> <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hle</span> : <span class="fn">a</span> <a href="../../.././Mathlib/Algebra/Order/Kleene.html#LE.le">â‰¤</a> <span class="fn">b</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">s</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> <span class="fn">(<a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a> <span class="fn">Ã—</span> <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a>)</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hs</span> : <span class="fn"><span class="fn">s</span>.<a href="../../.././Mathlib/Data/Set/Countable.html#Set.Countable">Countable</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">Hcf</span> : <span class="fn"><a href="../../.././Mathlib/Topology/Defs/Filter.html#ContinuousOn">ContinuousOn</a> <span class="fn">f</span> <span class="fn">(<a href="../../.././Mathlib/Order/Interval/Set/Defs.html#Set.Icc">Set.Icc</a> <span class="fn">a</span> <span class="fn">b</span>)</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">Hcg</span> : <span class="fn"><a href="../../.././Mathlib/Topology/Defs/Filter.html#ContinuousOn">ContinuousOn</a> <span class="fn">g</span> <span class="fn">(<a href="../../.././Mathlib/Order/Interval/Set/Defs.html#Set.Icc">Set.Icc</a> <span class="fn">a</span> <span class="fn">b</span>)</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">Hdf</span> : <span class="fn">âˆ€ <span class="fn">x</span> âˆˆ <span class="fn"><a href="../../.././Mathlib/Order/Interval/Set/Defs.html#Set.Ioo">Set.Ioo</a> <span class="fn"><span class="fn">a</span>.1</span> <span class="fn"><span class="fn">b</span>.1</span></span> <a href="../../.././Mathlib/Data/SProd.html#SProd.sprod">Ã—Ë¢</a> <span class="fn"><a href="../../.././Mathlib/Order/Interval/Set/Defs.html#Set.Ioo">Set.Ioo</a> <span class="fn"><span class="fn">a</span>.2</span> <span class="fn"><span class="fn">b</span>.2</span></span> <a href="../../.././Mathlib/Order/BooleanAlgebra/Defs.html#SDiff.sdiff">\</a> <span class="fn">s</span>, <span class="fn"><a href="../../.././Mathlib/Analysis/Calculus/FDeriv/Defs.html#HasFDerivAt">HasFDerivAt</a> <span class="fn">f</span> <span class="fn">(<span class="fn">f'</span> <span class="fn">x</span>)</span> <span class="fn">x</span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">Hdg</span> : <span class="fn">âˆ€ <span class="fn">x</span> âˆˆ <span class="fn"><a href="../../.././Mathlib/Order/Interval/Set/Defs.html#Set.Ioo">Set.Ioo</a> <span class="fn"><span class="fn">a</span>.1</span> <span class="fn"><span class="fn">b</span>.1</span></span> <a href="../../.././Mathlib/Data/SProd.html#SProd.sprod">Ã—Ë¢</a> <span class="fn"><a href="../../.././Mathlib/Order/Interval/Set/Defs.html#Set.Ioo">Set.Ioo</a> <span class="fn"><span class="fn">a</span>.2</span> <span class="fn"><span class="fn">b</span>.2</span></span> <a href="../../.././Mathlib/Order/BooleanAlgebra/Defs.html#SDiff.sdiff">\</a> <span class="fn">s</span>, <span class="fn"><a href="../../.././Mathlib/Analysis/Calculus/FDeriv/Defs.html#HasFDerivAt">HasFDerivAt</a> <span class="fn">g</span> <span class="fn">(<span class="fn">g'</span> <span class="fn">x</span>)</span> <span class="fn">x</span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">Hi</span> : <span class="fn"><a href="../../.././Mathlib/MeasureTheory/Integral/IntegrableOn.html#MeasureTheory.IntegrableOn">IntegrableOn</a> <span class="fn">(fun (<span class="fn">x</span> : <span class="fn"><a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a> <span class="fn">Ã—</span> <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a></span>) =&gt; <span class="fn"><span class="fn"><span class="fn">(<span class="fn">f'</span> <span class="fn">x</span>)</span> <span class="fn"><span class="fn">(</span><span class="fn">1</span><span class="fn">,</span> <span class="fn">0</span><span class="fn">)</span></span></span> <span class="fn">+</span> <span class="fn"><span class="fn">(<span class="fn">g'</span> <span class="fn">x</span>)</span> <span class="fn"><span class="fn">(</span><span class="fn">0</span><span class="fn">,</span> <span class="fn">1</span><span class="fn">)</span></span></span></span>)</span> <span class="fn">(<a href="../../.././Mathlib/Order/Interval/Set/Defs.html#Set.Icc">Set.Icc</a> <span class="fn">a</span> <span class="fn">b</span>)</span> <a href="../../.././Mathlib/MeasureTheory/Measure/MeasureSpaceDef.html#MeasureTheory.MeasureSpace.volume">volume</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><a href="../../.././Mathlib/MeasureTheory/Integral/Bochner/Basic.html#MeasureTheory.integral">âˆ«</a> (<span class="fn">x</span> : <span class="fn"><a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a> <span class="fn">Ã—</span> <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a></span>) <a href="../../.././Mathlib/MeasureTheory/Integral/Bochner/Basic.html#MeasureTheory.integral">in</a> <span class="fn"><a href="../../.././Mathlib/Order/Interval/Set/Defs.html#Set.Icc">Set.Icc</a> <span class="fn">a</span> <span class="fn">b</span></span><a href="../../.././Mathlib/MeasureTheory/Integral/Bochner/Basic.html#MeasureTheory.integral">,</a> <span class="fn"><span class="fn"><span class="fn">(<span class="fn">f'</span> <span class="fn">x</span>)</span> <span class="fn"><span class="fn">(</span><span class="fn">1</span><span class="fn">,</span> <span class="fn">0</span><span class="fn">)</span></span></span> <span class="fn">+</span> <span class="fn"><span class="fn">(<span class="fn">g'</span> <span class="fn">x</span>)</span> <span class="fn"><span class="fn">(</span><span class="fn">0</span><span class="fn">,</span> <span class="fn">1</span><span class="fn">)</span></span></span></span></span> <span class="fn">=</span>   <span class="fn"><span class="fn">(<span class="fn">(<span class="fn">(<a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">âˆ«</a> (<span class="fn">x</span> : <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a>) <a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">in</a> <span class="fn"><span class="fn">a</span>.1</span><a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">..</a><span class="fn"><span class="fn">b</span>.1</span><a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">,</a> <span class="fn"><span class="fn">g</span> <span class="fn"><span class="fn">(</span><span class="fn">x</span><span class="fn">,</span> <span class="fn"><span class="fn">b</span>.2</span><span class="fn">)</span></span></span>)</span> <span class="fn">-</span> <span class="fn"><a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">âˆ«</a> (<span class="fn">x</span> : <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a>) <a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">in</a> <span class="fn"><span class="fn">a</span>.1</span><a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">..</a><span class="fn"><span class="fn">b</span>.1</span><a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">,</a> <span class="fn"><span class="fn">g</span> <span class="fn"><span class="fn">(</span><span class="fn">x</span><span class="fn">,</span> <span class="fn"><span class="fn">a</span>.2</span><span class="fn">)</span></span></span></span>)</span> <span class="fn">+</span> <span class="fn"><a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">âˆ«</a> (<span class="fn">y</span> : <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a>) <a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">in</a> <span class="fn"><span class="fn">a</span>.2</span><a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">..</a><span class="fn"><span class="fn">b</span>.2</span><a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">,</a> <span class="fn"><span class="fn">f</span> <span class="fn"><span class="fn">(</span><span class="fn"><span class="fn">b</span>.1</span><span class="fn">,</span> <span class="fn">y</span><span class="fn">)</span></span></span></span>)</span> <span class="fn">-</span>     <span class="fn"><a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">âˆ«</a> (<span class="fn">y</span> : <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a>) <a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">in</a> <span class="fn"><span class="fn">a</span>.2</span><a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">..</a><span class="fn"><span class="fn">b</span>.2</span><a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">,</a> <span class="fn"><span class="fn">f</span> <span class="fn"><span class="fn">(</span><span class="fn"><span class="fn">a</span>.1</span><span class="fn">,</span> <span class="fn">y</span><span class="fn">)</span></span></span></span></span></span></div></div><p><strong>Divergence theorem</strong> for functions on the plane along rectangles. It is formulated in terms of
two functions <code>f g : â„ Ã— â„ â†’ E</code> and an integral over <code>Icc a b = [a.1, b.1] Ã— [a.2, b.2]</code>, where
<code>a b : â„ Ã— â„</code>, <code>a â‰¤ b</code>. When thinking of <code>f</code> and <code>g</code> as the two coordinates of a single function
<code>F : â„ Ã— â„ â†’ E Ã— E</code> and when <code>E = â„</code>, this is the usual statement that the integral of the
divergence of <code>F</code> inside the rectangle equals the integral of the normal derivative of <code>F</code> along the
boundary.</p><p>See also <code><a href="../../.././Mathlib/MeasureTheory/Integral/DivergenceTheorem.html#MeasureTheory.integral2_divergence_prod_of_hasFDerivAt_off_countable">MeasureTheory.integral2_divergence_prod_of_hasFDerivAt_off_countable</a></code> for a
version that does not assume <code>a â‰¤ b</code> and uses iterated interval integral instead of the integral
over <code>Icc a b</code>.</p></div></div><div class="decl" id="MeasureTheory.integral_divergence_prod_Icc_of_hasFDerivAt_of_le"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/338973d7437af2cf5a6769391b1b4e5b1f8db099/Mathlib/MeasureTheory/Integral/DivergenceTheorem.lean#L472-L495">source</a></div><div class="verification_link">
<a href="../../../../modules/Mathlib_MeasureTheory_Integral_DivergenceTheorem.html#MeasureTheory.integral_divergence_prod_Icc_of_hasFDerivAt_of_le" class="verification-badge mathematical" title="Mathematical property (specification layer)">ğŸ“ coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/MeasureTheory/Integral/DivergenceTheorem.html#MeasureTheory.integral_divergence_prod_Icc_of_hasFDerivAt_of_le"><span class="name">MeasureTheory</span>.<span class="name">integral_divergence_prod_Icc_of_hasFDerivAt_of_le</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">E</span> : <a href="../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Analysis/Normed/Group/Defs.html#NormedAddCommGroup">NormedAddCommGroup</a> <span class="fn">E</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Analysis/Normed/Module/Basic.html#NormedSpace">NormedSpace</a> <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a> <span class="fn">E</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f </span><span class="fn">g</span> : <span class="fn"><span class="fn"><a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a> <span class="fn">Ã—</span> <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a></span> â†’ <span class="fn">E</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">f' </span><span class="fn">g'</span> : <span class="fn"><span class="fn"><a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a> <span class="fn">Ã—</span> <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a></span> â†’ <span class="fn"><a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a> <span class="fn">Ã—</span> <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a></span> <a href="../../.././Mathlib/Topology/Algebra/Module/LinearMap.html#ContinuousLinearMap">â†’L[</a><a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a><a href="../../.././Mathlib/Topology/Algebra/Module/LinearMap.html#ContinuousLinearMap">]</a> <span class="fn">E</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">a </span><span class="fn">b</span> : <span class="fn"><a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a> <span class="fn">Ã—</span> <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hle</span> : <span class="fn">a</span> <a href="../../.././Mathlib/Algebra/Order/Kleene.html#LE.le">â‰¤</a> <span class="fn">b</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">Hcf</span> : <span class="fn"><a href="../../.././Mathlib/Topology/Defs/Filter.html#ContinuousOn">ContinuousOn</a> <span class="fn">f</span> <span class="fn">(<a href="../../.././Mathlib/Order/Interval/Set/Defs.html#Set.Icc">Set.Icc</a> <span class="fn">a</span> <span class="fn">b</span>)</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">Hcg</span> : <span class="fn"><a href="../../.././Mathlib/Topology/Defs/Filter.html#ContinuousOn">ContinuousOn</a> <span class="fn">g</span> <span class="fn">(<a href="../../.././Mathlib/Order/Interval/Set/Defs.html#Set.Icc">Set.Icc</a> <span class="fn">a</span> <span class="fn">b</span>)</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">Hdf</span> : <span class="fn">âˆ€ <span class="fn">x</span> âˆˆ <span class="fn"><a href="../../.././Mathlib/Order/Interval/Set/Defs.html#Set.Ioo">Set.Ioo</a> <span class="fn"><span class="fn">a</span>.1</span> <span class="fn"><span class="fn">b</span>.1</span></span> <a href="../../.././Mathlib/Data/SProd.html#SProd.sprod">Ã—Ë¢</a> <span class="fn"><a href="../../.././Mathlib/Order/Interval/Set/Defs.html#Set.Ioo">Set.Ioo</a> <span class="fn"><span class="fn">a</span>.2</span> <span class="fn"><span class="fn">b</span>.2</span></span>, <span class="fn"><a href="../../.././Mathlib/Analysis/Calculus/FDeriv/Defs.html#HasFDerivAt">HasFDerivAt</a> <span class="fn">f</span> <span class="fn">(<span class="fn">f'</span> <span class="fn">x</span>)</span> <span class="fn">x</span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">Hdg</span> : <span class="fn">âˆ€ <span class="fn">x</span> âˆˆ <span class="fn"><a href="../../.././Mathlib/Order/Interval/Set/Defs.html#Set.Ioo">Set.Ioo</a> <span class="fn"><span class="fn">a</span>.1</span> <span class="fn"><span class="fn">b</span>.1</span></span> <a href="../../.././Mathlib/Data/SProd.html#SProd.sprod">Ã—Ë¢</a> <span class="fn"><a href="../../.././Mathlib/Order/Interval/Set/Defs.html#Set.Ioo">Set.Ioo</a> <span class="fn"><span class="fn">a</span>.2</span> <span class="fn"><span class="fn">b</span>.2</span></span>, <span class="fn"><a href="../../.././Mathlib/Analysis/Calculus/FDeriv/Defs.html#HasFDerivAt">HasFDerivAt</a> <span class="fn">g</span> <span class="fn">(<span class="fn">g'</span> <span class="fn">x</span>)</span> <span class="fn">x</span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">Hi</span> : <span class="fn"><a href="../../.././Mathlib/MeasureTheory/Integral/IntegrableOn.html#MeasureTheory.IntegrableOn">IntegrableOn</a> <span class="fn">(fun (<span class="fn">x</span> : <span class="fn"><a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a> <span class="fn">Ã—</span> <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a></span>) =&gt; <span class="fn"><span class="fn"><span class="fn">(<span class="fn">f'</span> <span class="fn">x</span>)</span> <span class="fn"><span class="fn">(</span><span class="fn">1</span><span class="fn">,</span> <span class="fn">0</span><span class="fn">)</span></span></span> <span class="fn">+</span> <span class="fn"><span class="fn">(<span class="fn">g'</span> <span class="fn">x</span>)</span> <span class="fn"><span class="fn">(</span><span class="fn">0</span><span class="fn">,</span> <span class="fn">1</span><span class="fn">)</span></span></span></span>)</span> <span class="fn">(<a href="../../.././Mathlib/Order/Interval/Set/Defs.html#Set.Icc">Set.Icc</a> <span class="fn">a</span> <span class="fn">b</span>)</span> <a href="../../.././Mathlib/MeasureTheory/Measure/MeasureSpaceDef.html#MeasureTheory.MeasureSpace.volume">volume</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><a href="../../.././Mathlib/MeasureTheory/Integral/Bochner/Basic.html#MeasureTheory.integral">âˆ«</a> (<span class="fn">x</span> : <span class="fn"><a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a> <span class="fn">Ã—</span> <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a></span>) <a href="../../.././Mathlib/MeasureTheory/Integral/Bochner/Basic.html#MeasureTheory.integral">in</a> <span class="fn"><a href="../../.././Mathlib/Order/Interval/Set/Defs.html#Set.Icc">Set.Icc</a> <span class="fn">a</span> <span class="fn">b</span></span><a href="../../.././Mathlib/MeasureTheory/Integral/Bochner/Basic.html#MeasureTheory.integral">,</a> <span class="fn"><span class="fn"><span class="fn">(<span class="fn">f'</span> <span class="fn">x</span>)</span> <span class="fn"><span class="fn">(</span><span class="fn">1</span><span class="fn">,</span> <span class="fn">0</span><span class="fn">)</span></span></span> <span class="fn">+</span> <span class="fn"><span class="fn">(<span class="fn">g'</span> <span class="fn">x</span>)</span> <span class="fn"><span class="fn">(</span><span class="fn">0</span><span class="fn">,</span> <span class="fn">1</span><span class="fn">)</span></span></span></span></span> <span class="fn">=</span>   <span class="fn"><span class="fn">(<span class="fn">(<span class="fn">(<a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">âˆ«</a> (<span class="fn">x</span> : <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a>) <a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">in</a> <span class="fn"><span class="fn">a</span>.1</span><a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">..</a><span class="fn"><span class="fn">b</span>.1</span><a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">,</a> <span class="fn"><span class="fn">g</span> <span class="fn"><span class="fn">(</span><span class="fn">x</span><span class="fn">,</span> <span class="fn"><span class="fn">b</span>.2</span><span class="fn">)</span></span></span>)</span> <span class="fn">-</span> <span class="fn"><a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">âˆ«</a> (<span class="fn">x</span> : <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a>) <a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">in</a> <span class="fn"><span class="fn">a</span>.1</span><a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">..</a><span class="fn"><span class="fn">b</span>.1</span><a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">,</a> <span class="fn"><span class="fn">g</span> <span class="fn"><span class="fn">(</span><span class="fn">x</span><span class="fn">,</span> <span class="fn"><span class="fn">a</span>.2</span><span class="fn">)</span></span></span></span>)</span> <span class="fn">+</span> <span class="fn"><a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">âˆ«</a> (<span class="fn">y</span> : <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a>) <a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">in</a> <span class="fn"><span class="fn">a</span>.2</span><a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">..</a><span class="fn"><span class="fn">b</span>.2</span><a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">,</a> <span class="fn"><span class="fn">f</span> <span class="fn"><span class="fn">(</span><span class="fn"><span class="fn">b</span>.1</span><span class="fn">,</span> <span class="fn">y</span><span class="fn">)</span></span></span></span>)</span> <span class="fn">-</span>     <span class="fn"><a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">âˆ«</a> (<span class="fn">y</span> : <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a>) <a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">in</a> <span class="fn"><span class="fn">a</span>.2</span><a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">..</a><span class="fn"><span class="fn">b</span>.2</span><a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">,</a> <span class="fn"><span class="fn">f</span> <span class="fn"><span class="fn">(</span><span class="fn"><span class="fn">a</span>.1</span><span class="fn">,</span> <span class="fn">y</span><span class="fn">)</span></span></span></span></span></span></div></div><p><strong>Divergence theorem</strong> for functions on the plane along rectangles. It is formulated in terms of
two functions <code>f g : â„ Ã— â„ â†’ E</code> and an integral over <code>Icc a b = [a.1, b.1] Ã— [a.2, b.2]</code>, where
<code>a b : â„ Ã— â„</code>, <code>a â‰¤ b</code>. When thinking of <code>f</code> and <code>g</code> as the two coordinates of a single function
<code>F : â„ Ã— â„ â†’ E Ã— E</code> and when <code>E = â„</code>, this is the usual statement that the integral of the
divergence of <code>F</code> inside the rectangle equals the integral of the normal derivative of <code>F</code> along the
boundary.</p><p>See also <code><a href="../../.././Mathlib/MeasureTheory/Integral/DivergenceTheorem.html#MeasureTheory.integral2_divergence_prod_of_hasFDerivAt">MeasureTheory.integral2_divergence_prod_of_hasFDerivAt</a></code> for a
version that does not assume <code>a â‰¤ b</code> and uses iterated interval integral instead of the integral
over <code>Icc a b</code>.</p><p>See also <code><a href="../../.././Mathlib/MeasureTheory/Integral/DivergenceTheorem.html#MeasureTheory.integral_divergence_prod_Icc_of_hasFDerivAt_off_countable_of_le">integral_divergence_prod_Icc_of_hasFDerivAt_off_countable_of_le</a></code>
for a version that assumes differentiability out of a countable set.</p></div></div><div class="decl" id="MeasureTheory.integral2_divergence_prod_of_hasFDerivAt_off_countable"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/338973d7437af2cf5a6769391b1b4e5b1f8db099/Mathlib/MeasureTheory/Integral/DivergenceTheorem.lean#L497-L539">source</a></div><div class="verification_link">
<a href="../../../../modules/Mathlib_MeasureTheory_Integral_DivergenceTheorem.html#MeasureTheory.integral2_divergence_prod_of_hasFDerivAt_off_countable" class="verification-badge mathematical" title="Mathematical property (specification layer)">ğŸ“ coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/MeasureTheory/Integral/DivergenceTheorem.html#MeasureTheory.integral2_divergence_prod_of_hasFDerivAt_off_countable"><span class="name">MeasureTheory</span>.<span class="name">integral2_divergence_prod_of_hasFDerivAt_off_countable</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">E</span> : <a href="../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Analysis/Normed/Group/Defs.html#NormedAddCommGroup">NormedAddCommGroup</a> <span class="fn">E</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Analysis/Normed/Module/Basic.html#NormedSpace">NormedSpace</a> <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a> <span class="fn">E</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f </span><span class="fn">g</span> : <span class="fn"><span class="fn"><a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a> <span class="fn">Ã—</span> <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a></span> â†’ <span class="fn">E</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">f' </span><span class="fn">g'</span> : <span class="fn"><span class="fn"><a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a> <span class="fn">Ã—</span> <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a></span> â†’ <span class="fn"><a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a> <span class="fn">Ã—</span> <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a></span> <a href="../../.././Mathlib/Topology/Algebra/Module/LinearMap.html#ContinuousLinearMap">â†’L[</a><a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a><a href="../../.././Mathlib/Topology/Algebra/Module/LinearMap.html#ContinuousLinearMap">]</a> <span class="fn">E</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">aâ‚ </span><span class="fn">aâ‚‚ </span><span class="fn">bâ‚ </span><span class="fn">bâ‚‚</span> : <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">s</span> : <span class="fn"><a href="../../.././Mathlib/Data/Set/Defs.html#Set">Set</a> <span class="fn">(<a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a> <span class="fn">Ã—</span> <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a>)</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hs</span> : <span class="fn"><span class="fn">s</span>.<a href="../../.././Mathlib/Data/Set/Countable.html#Set.Countable">Countable</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">Hcf</span> : <span class="fn"><a href="../../.././Mathlib/Topology/Defs/Filter.html#ContinuousOn">ContinuousOn</a> <span class="fn">f</span> (<span class="fn"><a href="../../.././Mathlib/Order/Interval/Set/UnorderedInterval.html#Set.uIcc">Set.uIcc</a> <span class="fn">aâ‚</span> <span class="fn">bâ‚</span></span> <a href="../../.././Mathlib/Data/SProd.html#SProd.sprod">Ã—Ë¢</a> <span class="fn"><a href="../../.././Mathlib/Order/Interval/Set/UnorderedInterval.html#Set.uIcc">Set.uIcc</a> <span class="fn">aâ‚‚</span> <span class="fn">bâ‚‚</span></span>)</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">Hcg</span> : <span class="fn"><a href="../../.././Mathlib/Topology/Defs/Filter.html#ContinuousOn">ContinuousOn</a> <span class="fn">g</span> (<span class="fn"><a href="../../.././Mathlib/Order/Interval/Set/UnorderedInterval.html#Set.uIcc">Set.uIcc</a> <span class="fn">aâ‚</span> <span class="fn">bâ‚</span></span> <a href="../../.././Mathlib/Data/SProd.html#SProd.sprod">Ã—Ë¢</a> <span class="fn"><a href="../../.././Mathlib/Order/Interval/Set/UnorderedInterval.html#Set.uIcc">Set.uIcc</a> <span class="fn">aâ‚‚</span> <span class="fn">bâ‚‚</span></span>)</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">Hdf</span> : <span class="fn">âˆ€ <span class="fn">x</span> âˆˆ <span class="fn"><a href="../../.././Mathlib/Order/Interval/Set/Defs.html#Set.Ioo">Set.Ioo</a> <span class="fn">(<a href="../../.././Mathlib/Algebra/Order/AddGroupWithTop.html#Min.min">min</a> <span class="fn">aâ‚</span> <span class="fn">bâ‚</span>)</span> <span class="fn">(<a href="../../.././Mathlib/Algebra/Order/AddGroupWithTop.html#Max.max">max</a> <span class="fn">aâ‚</span> <span class="fn">bâ‚</span>)</span></span> <a href="../../.././Mathlib/Data/SProd.html#SProd.sprod">Ã—Ë¢</a> <span class="fn"><a href="../../.././Mathlib/Order/Interval/Set/Defs.html#Set.Ioo">Set.Ioo</a> <span class="fn">(<a href="../../.././Mathlib/Algebra/Order/AddGroupWithTop.html#Min.min">min</a> <span class="fn">aâ‚‚</span> <span class="fn">bâ‚‚</span>)</span> <span class="fn">(<a href="../../.././Mathlib/Algebra/Order/AddGroupWithTop.html#Max.max">max</a> <span class="fn">aâ‚‚</span> <span class="fn">bâ‚‚</span>)</span></span> <a href="../../.././Mathlib/Order/BooleanAlgebra/Defs.html#SDiff.sdiff">\</a> <span class="fn">s</span>, <span class="fn"><a href="../../.././Mathlib/Analysis/Calculus/FDeriv/Defs.html#HasFDerivAt">HasFDerivAt</a> <span class="fn">f</span> <span class="fn">(<span class="fn">f'</span> <span class="fn">x</span>)</span> <span class="fn">x</span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">Hdg</span> : <span class="fn">âˆ€ <span class="fn">x</span> âˆˆ <span class="fn"><a href="../../.././Mathlib/Order/Interval/Set/Defs.html#Set.Ioo">Set.Ioo</a> <span class="fn">(<a href="../../.././Mathlib/Algebra/Order/AddGroupWithTop.html#Min.min">min</a> <span class="fn">aâ‚</span> <span class="fn">bâ‚</span>)</span> <span class="fn">(<a href="../../.././Mathlib/Algebra/Order/AddGroupWithTop.html#Max.max">max</a> <span class="fn">aâ‚</span> <span class="fn">bâ‚</span>)</span></span> <a href="../../.././Mathlib/Data/SProd.html#SProd.sprod">Ã—Ë¢</a> <span class="fn"><a href="../../.././Mathlib/Order/Interval/Set/Defs.html#Set.Ioo">Set.Ioo</a> <span class="fn">(<a href="../../.././Mathlib/Algebra/Order/AddGroupWithTop.html#Min.min">min</a> <span class="fn">aâ‚‚</span> <span class="fn">bâ‚‚</span>)</span> <span class="fn">(<a href="../../.././Mathlib/Algebra/Order/AddGroupWithTop.html#Max.max">max</a> <span class="fn">aâ‚‚</span> <span class="fn">bâ‚‚</span>)</span></span> <a href="../../.././Mathlib/Order/BooleanAlgebra/Defs.html#SDiff.sdiff">\</a> <span class="fn">s</span>, <span class="fn"><a href="../../.././Mathlib/Analysis/Calculus/FDeriv/Defs.html#HasFDerivAt">HasFDerivAt</a> <span class="fn">g</span> <span class="fn">(<span class="fn">g'</span> <span class="fn">x</span>)</span> <span class="fn">x</span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">Hi</span> : <span class="fn"><a href="../../.././Mathlib/MeasureTheory/Integral/IntegrableOn.html#MeasureTheory.IntegrableOn">IntegrableOn</a> <span class="fn">(fun (<span class="fn">x</span> : <span class="fn"><a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a> <span class="fn">Ã—</span> <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a></span>) =&gt; <span class="fn"><span class="fn"><span class="fn">(<span class="fn">f'</span> <span class="fn">x</span>)</span> <span class="fn"><span class="fn">(</span><span class="fn">1</span><span class="fn">,</span> <span class="fn">0</span><span class="fn">)</span></span></span> <span class="fn">+</span> <span class="fn"><span class="fn">(<span class="fn">g'</span> <span class="fn">x</span>)</span> <span class="fn"><span class="fn">(</span><span class="fn">0</span><span class="fn">,</span> <span class="fn">1</span><span class="fn">)</span></span></span></span>)</span> (<span class="fn"><a href="../../.././Mathlib/Order/Interval/Set/UnorderedInterval.html#Set.uIcc">Set.uIcc</a> <span class="fn">aâ‚</span> <span class="fn">bâ‚</span></span> <a href="../../.././Mathlib/Data/SProd.html#SProd.sprod">Ã—Ë¢</a> <span class="fn"><a href="../../.././Mathlib/Order/Interval/Set/UnorderedInterval.html#Set.uIcc">Set.uIcc</a> <span class="fn">aâ‚‚</span> <span class="fn">bâ‚‚</span></span>) <a href="../../.././Mathlib/MeasureTheory/Measure/MeasureSpaceDef.html#MeasureTheory.MeasureSpace.volume">volume</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">âˆ«</a> (<span class="fn">x</span> : <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a>) <a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">in</a> <span class="fn">aâ‚</span><a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">..</a><span class="fn">bâ‚</span><a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">,</a> <span class="fn"><a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">âˆ«</a> (<span class="fn">y</span> : <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a>) <a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">in</a> <span class="fn">aâ‚‚</span><a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">..</a><span class="fn">bâ‚‚</span><a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">,</a> <span class="fn"><span class="fn"><span class="fn">(<span class="fn">f'</span> <span class="fn"><span class="fn">(</span><span class="fn">x</span><span class="fn">,</span> <span class="fn">y</span><span class="fn">)</span></span>)</span> <span class="fn"><span class="fn">(</span><span class="fn">1</span><span class="fn">,</span> <span class="fn">0</span><span class="fn">)</span></span></span> <span class="fn">+</span> <span class="fn"><span class="fn">(<span class="fn">g'</span> <span class="fn"><span class="fn">(</span><span class="fn">x</span><span class="fn">,</span> <span class="fn">y</span><span class="fn">)</span></span>)</span> <span class="fn"><span class="fn">(</span><span class="fn">0</span><span class="fn">,</span> <span class="fn">1</span><span class="fn">)</span></span></span></span></span></span> <span class="fn">=</span>   <span class="fn"><span class="fn">(<span class="fn">(<span class="fn">(<a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">âˆ«</a> (<span class="fn">x</span> : <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a>) <a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">in</a> <span class="fn">aâ‚</span><a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">..</a><span class="fn">bâ‚</span><a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">,</a> <span class="fn"><span class="fn">g</span> <span class="fn"><span class="fn">(</span><span class="fn">x</span><span class="fn">,</span> <span class="fn">bâ‚‚</span><span class="fn">)</span></span></span>)</span> <span class="fn">-</span> <span class="fn"><a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">âˆ«</a> (<span class="fn">x</span> : <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a>) <a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">in</a> <span class="fn">aâ‚</span><a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">..</a><span class="fn">bâ‚</span><a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">,</a> <span class="fn"><span class="fn">g</span> <span class="fn"><span class="fn">(</span><span class="fn">x</span><span class="fn">,</span> <span class="fn">aâ‚‚</span><span class="fn">)</span></span></span></span>)</span> <span class="fn">+</span> <span class="fn"><a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">âˆ«</a> (<span class="fn">y</span> : <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a>) <a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">in</a> <span class="fn">aâ‚‚</span><a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">..</a><span class="fn">bâ‚‚</span><a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">,</a> <span class="fn"><span class="fn">f</span> <span class="fn"><span class="fn">(</span><span class="fn">bâ‚</span><span class="fn">,</span> <span class="fn">y</span><span class="fn">)</span></span></span></span>)</span> <span class="fn">-</span>     <span class="fn"><a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">âˆ«</a> (<span class="fn">y</span> : <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a>) <a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">in</a> <span class="fn">aâ‚‚</span><a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">..</a><span class="fn">bâ‚‚</span><a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">,</a> <span class="fn"><span class="fn">f</span> <span class="fn"><span class="fn">(</span><span class="fn">aâ‚</span><span class="fn">,</span> <span class="fn">y</span><span class="fn">)</span></span></span></span></span></span></div></div><p><strong>Divergence theorem</strong> for functions on the plane. It is formulated in terms of two functions
<code>f g : â„ Ã— â„ â†’ E</code> and iterated integral <code>âˆ« x in aâ‚..bâ‚, âˆ« y in aâ‚‚..bâ‚‚, _</code>, where
<code>aâ‚ aâ‚‚ bâ‚ bâ‚‚ : â„</code>. When thinking of <code>f</code> and <code>g</code> as the two coordinates of a single function
<code>F : â„ Ã— â„ â†’ E Ã— E</code> and when <code>E = â„</code>, this is the usual statement that the integral of the
divergence of <code>F</code> inside the rectangle with vertices <code>(aáµ¢, bâ±¼)</code>, <code>i, j =1,2</code>, equals the integral of
the normal derivative of <code>F</code> along the boundary.</p><p>See also <code><a href="../../.././Mathlib/MeasureTheory/Integral/DivergenceTheorem.html#MeasureTheory.integral_divergence_prod_Icc_of_hasFDerivAt_off_countable_of_le">MeasureTheory.integral_divergence_prod_Icc_of_hasFDerivAt_off_countable_of_le</a></code>
for a version that uses an integral over <code>Icc a b</code>, where <code>a b : â„ Ã— â„</code>, <code>a â‰¤ b</code>.</p></div></div><div class="decl" id="MeasureTheory.integral2_divergence_prod_of_hasFDerivAt"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/338973d7437af2cf5a6769391b1b4e5b1f8db099/Mathlib/MeasureTheory/Integral/DivergenceTheorem.lean#L541-L566">source</a></div><div class="verification_link">
<a href="../../../../modules/Mathlib_MeasureTheory_Integral_DivergenceTheorem.html#MeasureTheory.integral2_divergence_prod_of_hasFDerivAt" class="verification-badge mathematical" title="Mathematical property (specification layer)">ğŸ“ coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/MeasureTheory/Integral/DivergenceTheorem.html#MeasureTheory.integral2_divergence_prod_of_hasFDerivAt"><span class="name">MeasureTheory</span>.<span class="name">integral2_divergence_prod_of_hasFDerivAt</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">E</span> : <a href="../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Analysis/Normed/Group/Defs.html#NormedAddCommGroup">NormedAddCommGroup</a> <span class="fn">E</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Mathlib/Analysis/Normed/Module/Basic.html#NormedSpace">NormedSpace</a> <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a> <span class="fn">E</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f </span><span class="fn">g</span> : <span class="fn"><span class="fn"><a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a> <span class="fn">Ã—</span> <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a></span> â†’ <span class="fn">E</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">f' </span><span class="fn">g'</span> : <span class="fn"><span class="fn"><a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a> <span class="fn">Ã—</span> <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a></span> â†’ <span class="fn"><a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a> <span class="fn">Ã—</span> <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a></span> <a href="../../.././Mathlib/Topology/Algebra/Module/LinearMap.html#ContinuousLinearMap">â†’L[</a><a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a><a href="../../.././Mathlib/Topology/Algebra/Module/LinearMap.html#ContinuousLinearMap">]</a> <span class="fn">E</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">aâ‚ </span><span class="fn">aâ‚‚ </span><span class="fn">bâ‚ </span><span class="fn">bâ‚‚</span> : <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">Hcf</span> : <span class="fn"><a href="../../.././Mathlib/Topology/Defs/Filter.html#ContinuousOn">ContinuousOn</a> <span class="fn">f</span> (<span class="fn"><a href="../../.././Mathlib/Order/Interval/Set/UnorderedInterval.html#Set.uIcc">Set.uIcc</a> <span class="fn">aâ‚</span> <span class="fn">bâ‚</span></span> <a href="../../.././Mathlib/Data/SProd.html#SProd.sprod">Ã—Ë¢</a> <span class="fn"><a href="../../.././Mathlib/Order/Interval/Set/UnorderedInterval.html#Set.uIcc">Set.uIcc</a> <span class="fn">aâ‚‚</span> <span class="fn">bâ‚‚</span></span>)</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">Hcg</span> : <span class="fn"><a href="../../.././Mathlib/Topology/Defs/Filter.html#ContinuousOn">ContinuousOn</a> <span class="fn">g</span> (<span class="fn"><a href="../../.././Mathlib/Order/Interval/Set/UnorderedInterval.html#Set.uIcc">Set.uIcc</a> <span class="fn">aâ‚</span> <span class="fn">bâ‚</span></span> <a href="../../.././Mathlib/Data/SProd.html#SProd.sprod">Ã—Ë¢</a> <span class="fn"><a href="../../.././Mathlib/Order/Interval/Set/UnorderedInterval.html#Set.uIcc">Set.uIcc</a> <span class="fn">aâ‚‚</span> <span class="fn">bâ‚‚</span></span>)</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">Hdf</span> : <span class="fn">âˆ€ <span class="fn">x</span> âˆˆ <span class="fn"><a href="../../.././Mathlib/Order/Interval/Set/Defs.html#Set.Ioo">Set.Ioo</a> <span class="fn">(<a href="../../.././Mathlib/Algebra/Order/AddGroupWithTop.html#Min.min">min</a> <span class="fn">aâ‚</span> <span class="fn">bâ‚</span>)</span> <span class="fn">(<a href="../../.././Mathlib/Algebra/Order/AddGroupWithTop.html#Max.max">max</a> <span class="fn">aâ‚</span> <span class="fn">bâ‚</span>)</span></span> <a href="../../.././Mathlib/Data/SProd.html#SProd.sprod">Ã—Ë¢</a> <span class="fn"><a href="../../.././Mathlib/Order/Interval/Set/Defs.html#Set.Ioo">Set.Ioo</a> <span class="fn">(<a href="../../.././Mathlib/Algebra/Order/AddGroupWithTop.html#Min.min">min</a> <span class="fn">aâ‚‚</span> <span class="fn">bâ‚‚</span>)</span> <span class="fn">(<a href="../../.././Mathlib/Algebra/Order/AddGroupWithTop.html#Max.max">max</a> <span class="fn">aâ‚‚</span> <span class="fn">bâ‚‚</span>)</span></span>, <span class="fn"><a href="../../.././Mathlib/Analysis/Calculus/FDeriv/Defs.html#HasFDerivAt">HasFDerivAt</a> <span class="fn">f</span> <span class="fn">(<span class="fn">f'</span> <span class="fn">x</span>)</span> <span class="fn">x</span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">Hdg</span> : <span class="fn">âˆ€ <span class="fn">x</span> âˆˆ <span class="fn"><a href="../../.././Mathlib/Order/Interval/Set/Defs.html#Set.Ioo">Set.Ioo</a> <span class="fn">(<a href="../../.././Mathlib/Algebra/Order/AddGroupWithTop.html#Min.min">min</a> <span class="fn">aâ‚</span> <span class="fn">bâ‚</span>)</span> <span class="fn">(<a href="../../.././Mathlib/Algebra/Order/AddGroupWithTop.html#Max.max">max</a> <span class="fn">aâ‚</span> <span class="fn">bâ‚</span>)</span></span> <a href="../../.././Mathlib/Data/SProd.html#SProd.sprod">Ã—Ë¢</a> <span class="fn"><a href="../../.././Mathlib/Order/Interval/Set/Defs.html#Set.Ioo">Set.Ioo</a> <span class="fn">(<a href="../../.././Mathlib/Algebra/Order/AddGroupWithTop.html#Min.min">min</a> <span class="fn">aâ‚‚</span> <span class="fn">bâ‚‚</span>)</span> <span class="fn">(<a href="../../.././Mathlib/Algebra/Order/AddGroupWithTop.html#Max.max">max</a> <span class="fn">aâ‚‚</span> <span class="fn">bâ‚‚</span>)</span></span>, <span class="fn"><a href="../../.././Mathlib/Analysis/Calculus/FDeriv/Defs.html#HasFDerivAt">HasFDerivAt</a> <span class="fn">g</span> <span class="fn">(<span class="fn">g'</span> <span class="fn">x</span>)</span> <span class="fn">x</span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">Hi</span> : <span class="fn"><a href="../../.././Mathlib/MeasureTheory/Integral/IntegrableOn.html#MeasureTheory.IntegrableOn">IntegrableOn</a> <span class="fn">(fun (<span class="fn">x</span> : <span class="fn"><a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a> <span class="fn">Ã—</span> <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a></span>) =&gt; <span class="fn"><span class="fn"><span class="fn">(<span class="fn">f'</span> <span class="fn">x</span>)</span> <span class="fn"><span class="fn">(</span><span class="fn">1</span><span class="fn">,</span> <span class="fn">0</span><span class="fn">)</span></span></span> <span class="fn">+</span> <span class="fn"><span class="fn">(<span class="fn">g'</span> <span class="fn">x</span>)</span> <span class="fn"><span class="fn">(</span><span class="fn">0</span><span class="fn">,</span> <span class="fn">1</span><span class="fn">)</span></span></span></span>)</span> (<span class="fn"><a href="../../.././Mathlib/Order/Interval/Set/UnorderedInterval.html#Set.uIcc">Set.uIcc</a> <span class="fn">aâ‚</span> <span class="fn">bâ‚</span></span> <a href="../../.././Mathlib/Data/SProd.html#SProd.sprod">Ã—Ë¢</a> <span class="fn"><a href="../../.././Mathlib/Order/Interval/Set/UnorderedInterval.html#Set.uIcc">Set.uIcc</a> <span class="fn">aâ‚‚</span> <span class="fn">bâ‚‚</span></span>) <a href="../../.././Mathlib/MeasureTheory/Measure/MeasureSpaceDef.html#MeasureTheory.MeasureSpace.volume">volume</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">âˆ«</a> (<span class="fn">x</span> : <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a>) <a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">in</a> <span class="fn">aâ‚</span><a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">..</a><span class="fn">bâ‚</span><a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">,</a> <span class="fn"><a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">âˆ«</a> (<span class="fn">y</span> : <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a>) <a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">in</a> <span class="fn">aâ‚‚</span><a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">..</a><span class="fn">bâ‚‚</span><a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">,</a> <span class="fn"><span class="fn"><span class="fn">(<span class="fn">f'</span> <span class="fn"><span class="fn">(</span><span class="fn">x</span><span class="fn">,</span> <span class="fn">y</span><span class="fn">)</span></span>)</span> <span class="fn"><span class="fn">(</span><span class="fn">1</span><span class="fn">,</span> <span class="fn">0</span><span class="fn">)</span></span></span> <span class="fn">+</span> <span class="fn"><span class="fn">(<span class="fn">g'</span> <span class="fn"><span class="fn">(</span><span class="fn">x</span><span class="fn">,</span> <span class="fn">y</span><span class="fn">)</span></span>)</span> <span class="fn"><span class="fn">(</span><span class="fn">0</span><span class="fn">,</span> <span class="fn">1</span><span class="fn">)</span></span></span></span></span></span> <span class="fn">=</span>   <span class="fn"><span class="fn">(<span class="fn">(<span class="fn">(<a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">âˆ«</a> (<span class="fn">x</span> : <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a>) <a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">in</a> <span class="fn">aâ‚</span><a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">..</a><span class="fn">bâ‚</span><a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">,</a> <span class="fn"><span class="fn">g</span> <span class="fn"><span class="fn">(</span><span class="fn">x</span><span class="fn">,</span> <span class="fn">bâ‚‚</span><span class="fn">)</span></span></span>)</span> <span class="fn">-</span> <span class="fn"><a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">âˆ«</a> (<span class="fn">x</span> : <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a>) <a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">in</a> <span class="fn">aâ‚</span><a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">..</a><span class="fn">bâ‚</span><a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">,</a> <span class="fn"><span class="fn">g</span> <span class="fn"><span class="fn">(</span><span class="fn">x</span><span class="fn">,</span> <span class="fn">aâ‚‚</span><span class="fn">)</span></span></span></span>)</span> <span class="fn">+</span> <span class="fn"><a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">âˆ«</a> (<span class="fn">y</span> : <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a>) <a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">in</a> <span class="fn">aâ‚‚</span><a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">..</a><span class="fn">bâ‚‚</span><a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">,</a> <span class="fn"><span class="fn">f</span> <span class="fn"><span class="fn">(</span><span class="fn">bâ‚</span><span class="fn">,</span> <span class="fn">y</span><span class="fn">)</span></span></span></span>)</span> <span class="fn">-</span>     <span class="fn"><a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">âˆ«</a> (<span class="fn">y</span> : <a href="../../.././Mathlib/Data/Real/Basic.html#Real">â„</a>) <a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">in</a> <span class="fn">aâ‚‚</span><a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">..</a><span class="fn">bâ‚‚</span><a href="../../.././Mathlib/MeasureTheory/Integral/IntervalIntegral/Basic.html#intervalIntegral">,</a> <span class="fn"><span class="fn">f</span> <span class="fn"><span class="fn">(</span><span class="fn">aâ‚</span><span class="fn">,</span> <span class="fn">y</span><span class="fn">)</span></span></span></span></span></span></div></div><p><strong>Divergence theorem</strong> for functions on the plane. It is formulated in terms of two functions
<code>f g : â„ Ã— â„ â†’ E</code> and iterated integral <code>âˆ« x in aâ‚..bâ‚, âˆ« y in aâ‚‚..bâ‚‚, _</code>, where
<code>aâ‚ aâ‚‚ bâ‚ bâ‚‚ : â„</code>. When thinking of <code>f</code> and <code>g</code> as the two coordinates of a single function
<code>F : â„ Ã— â„ â†’ E Ã— E</code> and when <code>E = â„</code>, this is the usual statement that the integral of the
divergence of <code>F</code> inside the rectangle with vertices <code>(aáµ¢, bâ±¼)</code>, <code>i, j = 1, 2</code>,
equals the integral of the normal derivative of <code>F</code> along the boundary.</p><p>See also <code><a href="../../.././Mathlib/MeasureTheory/Integral/DivergenceTheorem.html#MeasureTheory.integral_divergence_prod_Icc_of_hasFDerivAt_of_le">MeasureTheory.integral_divergence_prod_Icc_of_hasFDerivAt_of_le</a></code>
for a version that uses an integral over <code>Icc a b</code>, where <code>a b : â„ Ã— â„</code>, <code>a â‰¤ b</code>.</p><p>See also <code><a href="../../.././Mathlib/MeasureTheory/Integral/DivergenceTheorem.html#MeasureTheory.integral2_divergence_prod_of_hasFDerivAt_off_countable">integral2_divergence_prod_of_hasFDerivAt_off_countable</a></code>
for a version that assumes differentiability outside of a countable set.</p></div></div></main>
<nav class="nav"><iframe src="../../.././navbar.html" class="navframe" frameBorder="0"></iframe></nav></body></html>