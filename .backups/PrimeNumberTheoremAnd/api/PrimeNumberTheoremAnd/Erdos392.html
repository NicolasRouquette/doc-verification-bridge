<html lang="en"><head><meta charset="UTF-8"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><link rel="stylesheet" href=".././style.css"></link><link rel="icon" href=".././favicon.svg"></link><link rel="mask-icon" href=".././favicon.svg" color="#000000"></link><link rel="prefetch" href=".././/declarations/declaration-data.bmp" as="image"></link><title>PrimeNumberTheoremAnd.Erdos392</title><script defer="true" src=".././mathjax-config.js"></script><script defer="true" src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script><script defer="true" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script><script>const SITE_ROOT=".././";</script><script>const MODULE_NAME="PrimeNumberTheoremAnd.Erdos392";</script><script type="module" src=".././jump-src.js"></script><script type="module" src=".././search.js"></script><script type="module" src=".././expand-nav.js"></script><script type="module" src=".././how-about.js"></script><script type="module" src=".././instances.js"></script><script type="module" src=".././importedBy.js"></script></head><body><input id="nav_toggle" type="checkbox"></input><header><h1><label for="nav_toggle"></label><span>Documentation</span></h1><h2 class="header_filename break_within"><span class="name">PrimeNumberTheoremAnd</span>.<span class="name">Erdos392</span></h2><form id="search_form"><input type="text" name="q" autocomplete="off"></input>&#32;<button id="search_button" onclick="javascript: form.action='.././search.html';">Search</button></form></header><nav class="internal_nav"><p><a href="#top">return to top</a></p><p class="gh_nav_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean">source</a></p><div class="imports"><details><summary>Imports</summary><ul><li><a href=".././Architect.html">Architect</a></li><li><a href=".././Init.html">Init</a></li><li><a href=".././PrimeNumberTheoremAnd/Consequences.html">PrimeNumberTheoremAnd.Consequences</a></li><li><a href=".././PrimeNumberTheoremAnd/LogTables.html">PrimeNumberTheoremAnd.LogTables</a></li><li><a href=".././Mathlib/NumberTheory/Bertrand.html">Mathlib.NumberTheory.Bertrand</a></li><li><a href=".././Mathlib/Analysis/SpecialFunctions/Stirling.html">Mathlib.Analysis.SpecialFunctions.Stirling</a></li></ul></details><details><summary>Imported by</summary><ul id="imported-by-PrimeNumberTheoremAnd.Erdos392" class="imported-by-list"></ul></details></div><div class="nav_link"><a class="break_within" href="#Erdos392.Factorization"><span class="name">Erdos392</span>.<span class="name">Factorization</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Factorization.sum"><span class="name">Erdos392</span>.<span class="name">Factorization</span>.<span class="name">sum</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Factorization.prod"><span class="name">Erdos392</span>.<span class="name">Factorization</span>.<span class="name">prod</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Factorization.waste"><span class="name">Erdos392</span>.<span class="name">Factorization</span>.<span class="name">waste</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Factorization.balance"><span class="name">Erdos392</span>.<span class="name">Factorization</span>.<span class="name">balance</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Factorization.total_imbalance"><span class="name">Erdos392</span>.<span class="name">Factorization</span>.<span class="name">total_imbalance</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Factorization.zero_total_imbalance"><span class="name">Erdos392</span>.<span class="name">Factorization</span>.<span class="name">zero_total_imbalance</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Factorization.waste_eq"><span class="name">Erdos392</span>.<span class="name">Factorization</span>.<span class="name">waste_eq</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Factorization.score"><span class="name">Erdos392</span>.<span class="name">Factorization</span>.<span class="name">score</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Factorization.score_eq"><span class="name">Erdos392</span>.<span class="name">Factorization</span>.<span class="name">score_eq</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Factorization.replace"><span class="name">Erdos392</span>.<span class="name">Factorization</span>.<span class="name">replace</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Factorization.replace_sum"><span class="name">Erdos392</span>.<span class="name">Factorization</span>.<span class="name">replace_sum</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Factorization.replace_balance"><span class="name">Erdos392</span>.<span class="name">Factorization</span>.<span class="name">replace_balance</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Factorization.replace_div_balance"><span class="name">Erdos392</span>.<span class="name">Factorization</span>.<span class="name">replace_div_balance</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Factorization.replace_div_total_imbalance"><span class="name">Erdos392</span>.<span class="name">Factorization</span>.<span class="name">replace_div_total_imbalance</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Factorization.replace_div_score_le"><span class="name">Erdos392</span>.<span class="name">Factorization</span>.<span class="name">replace_div_score_le</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Factorization.addFactor"><span class="name">Erdos392</span>.<span class="name">Factorization</span>.<span class="name">addFactor</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Factorization.addFactor_balance"><span class="name">Erdos392</span>.<span class="name">Factorization</span>.<span class="name">addFactor_balance</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Factorization.addFactor_waste"><span class="name">Erdos392</span>.<span class="name">Factorization</span>.<span class="name">addFactor_waste</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Factorization.deficitMultiset"><span class="name">Erdos392</span>.<span class="name">Factorization</span>.<span class="name">deficitMultiset</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Factorization.mem_deficitMultiset"><span class="name">Erdos392</span>.<span class="name">Factorization</span>.<span class="name">mem_deficitMultiset</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.exists_submultiset_prod_between"><span class="name">Erdos392</span>.<span class="name">exists_submultiset_prod_between</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Factorization.deficit_implies_le_n"><span class="name">Erdos392</span>.<span class="name">Factorization</span>.<span class="name">deficit_implies_le_n</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.factorization_prod_eq_count"><span class="name">Erdos392</span>.<span class="name">factorization_prod_eq_count</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Factorization.deficitMultiset_prod_pos"><span class="name">Erdos392</span>.<span class="name">Factorization</span>.<span class="name">deficitMultiset_prod_pos</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Factorization.count_deficitMultiset"><span class="name">Erdos392</span>.<span class="name">Factorization</span>.<span class="name">count_deficitMultiset</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Factorization.addFactor_deficit_balance_eq_zero"><span class="name">Erdos392</span>.<span class="name">Factorization</span>.<span class="name">addFactor_deficit_balance_eq_zero</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Factorization.lower_score_3_case1"><span class="name">Erdos392</span>.<span class="name">Factorization</span>.<span class="name">lower_score_3_case1</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Factorization.addFactor_submultiset_total_imbalance"><span class="name">Erdos392</span>.<span class="name">Factorization</span>.<span class="name">addFactor_submultiset_total_imbalance</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Factorization.score_sum_change"><span class="name">Erdos392</span>.<span class="name">Factorization</span>.<span class="name">score_sum_change</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Factorization.score_sum_change_multiset"><span class="name">Erdos392</span>.<span class="name">Factorization</span>.<span class="name">score_sum_change_multiset</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Factorization.score_le_of_add_submultiset"><span class="name">Erdos392</span>.<span class="name">Factorization</span>.<span class="name">score_le_of_add_submultiset</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Factorization.lower_score_1"><span class="name">Erdos392</span>.<span class="name">Factorization</span>.<span class="name">lower_score_1</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Factorization.lower_score_2"><span class="name">Erdos392</span>.<span class="name">Factorization</span>.<span class="name">lower_score_2</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Factorization.lower_score_3_case2a"><span class="name">Erdos392</span>.<span class="name">Factorization</span>.<span class="name">lower_score_3_case2a</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Factorization.lower_score_3_case2b"><span class="name">Erdos392</span>.<span class="name">Factorization</span>.<span class="name">lower_score_3_case2b</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Factorization.lower_score_3_clean"><span class="name">Erdos392</span>.<span class="name">Factorization</span>.<span class="name">lower_score_3_clean</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Factorization.lower_score_3"><span class="name">Erdos392</span>.<span class="name">Factorization</span>.<span class="name">lower_score_3</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Factorization.lowest_score"><span class="name">Erdos392</span>.<span class="name">Factorization</span>.<span class="name">lowest_score</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Factorization.card_bound"><span class="name">Erdos392</span>.<span class="name">Factorization</span>.<span class="name">card_bound</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Params"><span class="name">Erdos392</span>.<span class="name">Params</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Params.initial"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Params.initial.card"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial</span>.<span class="name">card</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Params.initial.mem_range"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial</span>.<span class="name">mem_range</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Params.initial.div_le"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial</span>.<span class="name">div_le</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Params.initial.waste"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial</span>.<span class="name">waste</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Params.initial.balance_large_prime_le"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial</span>.<span class="name">balance_large_prime_le</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Params.initial.factorial_factorization_eq_div"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial</span>.<span class="name">factorial_factorization_eq_div</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Params.initial.balance_large_prime_ge"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial</span>.<span class="name">balance_large_prime_ge</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Params.initial.count_multiples_le"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial</span>.<span class="name">count_multiples_le</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Params.initial.count_bound_aux"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial</span>.<span class="name">count_bound_aux</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Params.initial.sum_valuation_le_M_mul_interval_count"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial</span>.<span class="name">sum_valuation_le_M_mul_interval_count</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Params.initial.balance_medium_prime_le"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial</span>.<span class="name">balance_medium_prime_le</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Params.initial.smooth_of_multiple"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial</span>.<span class="name">smooth_of_multiple</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Params.initial.valuation_eq_one"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial</span>.<span class="name">valuation_eq_one</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Params.initial.count_multiples_lower_bound"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial</span>.<span class="name">count_multiples_lower_bound</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Params.initial.valuation_eq_indicator"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial</span>.<span class="name">valuation_eq_indicator</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Params.initial.sum_valuation_eq"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial</span>.<span class="name">sum_valuation_eq</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Params.initial.balance_medium_prime_ge"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial</span>.<span class="name">balance_medium_prime_ge</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.sum_factorization_eq_sum_multiples"><span class="name">Erdos392</span>.<span class="name">sum_factorization_eq_sum_multiples</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Params.initial.term_bound"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial</span>.<span class="name">term_bound</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Params.initial.sum_valuation_le"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial</span>.<span class="name">sum_valuation_le</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Params.initial.balance_small_prime_le"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial</span>.<span class="name">balance_small_prime_le</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Params.initial.smooth_of_dvd_small_prime"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial</span>.<span class="name">smooth_of_dvd_small_prime</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Params.initial.sum_valuation_eq_small"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial</span>.<span class="name">sum_valuation_eq_small</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Params.initial.balance_ge_neg_M_mul_log"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial</span>.<span class="name">balance_ge_neg_M_mul_log</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Params.initial.balance_small_prime_ge"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial</span>.<span class="name">balance_small_prime_ge</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Params.initial_full"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial_full</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Params.rough_set"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">rough_set</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Params.initial_full_balance_eq"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial_full_balance_eq</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Params.initial.count_multiples_lower_bound_pow"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial</span>.<span class="name">count_multiples_lower_bound_pow</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Params.initial_full_term_bound"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial_full_term_bound</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Params.initial_full_sum_valuation_eq"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial_full_sum_valuation_eq</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Params.initial_full_balance_ge"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial_full_balance_ge</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Params.initial_balance_eq"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial_balance_eq</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Params.exists_large_prime_of_rough"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">exists_large_prime_of_rough</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Params.valuation_eq_one_of_large_prime"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">valuation_eq_one_of_large_prime</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Params.rough_set_structure"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">rough_set_structure</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Params.rough_q"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">rough_q</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Params.rough_k"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">rough_k</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Params.rough_qk_prop"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">rough_qk_prop</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Params.rough_set_card_le"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">rough_set_card_le</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Params.rough_valuation_eq_k_valuation"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">rough_valuation_eq_k_valuation</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Params.rough_valuation_le_log"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">rough_valuation_le_log</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Params.rough_valuation_sum_le"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">rough_valuation_sum_le</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Params.L_sub_log_ge_one"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">L_sub_log_ge_one</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Params.primeCounting_ge_log"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">primeCounting_ge_log</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Params.balance_inequality_aux"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">balance_inequality_aux</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Params.initial.balance_tiny_prime_ge"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial</span>.<span class="name">balance_tiny_prime_ge</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Params.initial.score_bound"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial</span>.<span class="name">score_bound</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Params.initial.bound_score_1"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial</span>.<span class="name">bound_score_1</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Params.initial.bound_score_2"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial</span>.<span class="name">bound_score_2</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Params.initial.bound_score_3"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial</span>.<span class="name">bound_score_3</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.prod_one_sub_one_div_prime_tendsto_zero"><span class="name">Erdos392</span>.<span class="name">prod_one_sub_one_div_prime_tendsto_zero</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.exists_phi_div_self_lt"><span class="name">Erdos392</span>.<span class="name">exists_phi_div_self_lt</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.primeCounting_is_o_id"><span class="name">Erdos392</span>.<span class="name">primeCounting_is_o_id</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Params.initial.bound_score_4"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial</span>.<span class="name">bound_score_4</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.primeCounting_le_bound"><span class="name">Erdos392</span>.<span class="name">primeCounting_le_bound</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.tendsto_primeCounting_div_id_zero"><span class="name">Erdos392</span>.<span class="name">tendsto_primeCounting_div_id_zero</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Params.initial.bound_score_5"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial</span>.<span class="name">bound_score_5</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Params.initial.score"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial</span>.<span class="name">score</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Solution_1"><span class="name">Erdos392</span>.<span class="name">Solution_1</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.pairProd"><span class="name">Erdos392</span>.<span class="name">pairProd</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.pairProd_prod"><span class="name">Erdos392</span>.<span class="name">pairProd_prod</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.pairProd_length"><span class="name">Erdos392</span>.<span class="name">pairProd_length</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.pairProd_bound"><span class="name">Erdos392</span>.<span class="name">pairProd_bound</span></a></div><div class="nav_link"><a class="break_within" href="#Erdos392.Solution_2"><span class="name">Erdos392</span>.<span class="name">Solution_2</span></a></div></nav><main>
<div class="decl" id="Erdos392.Factorization"><div class="structure"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L18-L26">source</a></div><div class="verification_link">
<a href="../../modules/PrimeNumberTheoremAnd_Erdos392.html#Erdos392.Factorization" class="verification-badge comp-datatype" title="Computational datatype">üî∂ coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization"><span class="name">Erdos392</span>.<span class="name">Factorization</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">n</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././foundational_types.html">Type</a></div></div><ul class="structure_fields" id="Erdos392.Factorization.mk"><li id="Erdos392.Factorization.a" class="structure_field"><div class="structure_field_info">a : <span class="fn"><a href=".././Mathlib/Data/Multiset/Defs.html#Multiset">Multiset</a> <a href=".././Init/Prelude.html#Nat">‚Ñï</a></span></div></li><li id="Erdos392.Factorization.ha" class="structure_field"><div class="structure_field_info">ha<span class="decl_args">
<span class="fn">(<span class="fn">m</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
 : <span class="fn"><span class="fn">m</span> <a href=".././Init/Prelude.html#Membership.mem">‚àà</a> <span class="fn"><span class="fn">self</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.a">a</a></span> ‚Üí <span class="fn">m</span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn">n</span></span></div></li><li id="Erdos392.Factorization.hpos" class="structure_field"><div class="structure_field_info">hpos<span class="decl_args">
<span class="fn">(<span class="fn">m</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
 : <span class="fn"><span class="fn">m</span> <a href=".././Init/Prelude.html#Membership.mem">‚àà</a> <span class="fn"><span class="fn">self</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.a">a</a></span> ‚Üí <span class="fn">0</span> <a href=".././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">m</span></span></div></li></ul><details id="instances-for-list-Erdos392.Factorization" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Erdos392.Factorization.sum"><div class="def"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L28-L30">source</a></div><div class="verification_link">
<a href="../../modules/PrimeNumberTheoremAnd_Erdos392.html#Erdos392.Factorization.sum" class="verification-badge comp-operation" title="Computational operation (Bool/decidable)">üî∏ coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.sum"><span class="name">Erdos392</span>.<span class="name">Factorization</span>.<span class="name">sum</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization">Factorization</a> <span class="fn">n</span></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">R</span> : <a href=".././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Mathlib/Algebra/Group/Defs.html#AddCommMonoid">AddCommMonoid</a> <span class="fn">R</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">F</span> : <span class="fn"><a href=".././Init/Prelude.html#Nat">‚Ñï</a> ‚Üí <span class="fn">R</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">R</span></div></div><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-Erdos392.Factorization.sum" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Erdos392.Factorization.prod"><div class="def"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L32-L34">source</a></div><div class="verification_link">
<a href="../../modules/PrimeNumberTheoremAnd_Erdos392.html#Erdos392.Factorization.prod" class="verification-badge comp-operation" title="Computational operation (Bool/decidable)">üî∏ coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.prod"><span class="name">Erdos392</span>.<span class="name">Factorization</span>.<span class="name">prod</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization">Factorization</a> <span class="fn">n</span></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">R</span> : <a href=".././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Mathlib/Algebra/Group/Defs.html#CommMonoid">CommMonoid</a> <span class="fn">R</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">F</span> : <span class="fn"><a href=".././Init/Prelude.html#Nat">‚Ñï</a> ‚Üí <span class="fn">R</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">R</span></div></div><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-Erdos392.Factorization.prod" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Erdos392.Factorization.waste"><div class="def"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L36-L42">source</a></div><div class="verification_link">
<a href="../../modules/PrimeNumberTheoremAnd_Erdos392.html#Erdos392.Factorization.waste" class="verification-badge comp-operation" title="Computational operation (Bool/decidable)">üî∏ coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">noncomputable def</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.waste"><span class="name">Erdos392</span>.<span class="name">Factorization</span>.<span class="name">waste</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization">Factorization</a> <span class="fn">n</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Mathlib/Data/Real/Basic.html#Real">‚Ñù</a></div></div><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-Erdos392.Factorization.waste" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Erdos392.Factorization.balance"><div class="def"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L44-L51">source</a></div><div class="verification_link">
<a href="../../modules/PrimeNumberTheoremAnd_Erdos392.html#Erdos392.Factorization.balance" class="verification-badge comp-operation" title="Computational operation (Bool/decidable)">üî∏ coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.balance"><span class="name">Erdos392</span>.<span class="name">Factorization</span>.<span class="name">balance</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization">Factorization</a> <span class="fn">n</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">p</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Init/Data/Int/Basic.html#Int">‚Ñ§</a></div></div><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-Erdos392.Factorization.balance" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Erdos392.Factorization.total_imbalance"><div class="def"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L53-L60">source</a></div><div class="verification_link">
<a href="../../modules/PrimeNumberTheoremAnd_Erdos392.html#Erdos392.Factorization.total_imbalance" class="verification-badge comp-operation" title="Computational operation (Bool/decidable)">üî∏ coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.total_imbalance"><span class="name">Erdos392</span>.<span class="name">Factorization</span>.<span class="name">total_imbalance</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization">Factorization</a> <span class="fn">n</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Init/Prelude.html#Nat">‚Ñï</a></div></div><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-Erdos392.Factorization.total_imbalance" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Erdos392.Factorization.zero_total_imbalance"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L73-L93">source</a></div><div class="verification_link">
<a href="../../modules/PrimeNumberTheoremAnd_Erdos392.html#Erdos392.Factorization.zero_total_imbalance" class="verification-badge mathematical" title="Mathematical property (specification layer)">üìê coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.zero_total_imbalance"><span class="name">Erdos392</span>.<span class="name">Factorization</span>.<span class="name">zero_total_imbalance</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization">Factorization</a> <span class="fn">n</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hf</span> : <span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.total_imbalance">total_imbalance</a></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">0</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.prod">prod</a></span> <a href=".././Init/Prelude.html#id">id</a></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">n</span>.<a href=".././Mathlib/Data/Nat/Factorial/Basic.html#Nat.factorial">factorial</a></span></div></div></div></div><div class="decl" id="Erdos392.Factorization.waste_eq"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L95-L116">source</a></div><div class="verification_link">
<a href="../../modules/PrimeNumberTheoremAnd_Erdos392.html#Erdos392.Factorization.waste_eq" class="verification-badge mathematical" title="Mathematical property (specification layer)">üìê coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.waste_eq"><span class="name">Erdos392</span>.<span class="name">Factorization</span>.<span class="name">waste_eq</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization">Factorization</a> <span class="fn">n</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hf</span> : <span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.total_imbalance">total_imbalance</a></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">0</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">‚Üë<span class="fn"><span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.a">a</a></span>.<a href=".././Mathlib/Data/Multiset/Defs.html#Multiset.card">card</a></span></span> <a href=".././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><a href=".././Mathlib/Analysis/SpecialFunctions/Log/Basic.html#Real.log">Real.log</a> <span class="fn">‚Üë<span class="fn">n</span></span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><a href=".././Mathlib/Analysis/SpecialFunctions/Log/Basic.html#Real.log">Real.log</a> <span class="fn">‚Üë<span class="fn"><span class="fn">n</span>.<a href=".././Mathlib/Data/Nat/Factorial/Basic.html#Nat.factorial">factorial</a></span></span></span> <a href=".././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.waste">waste</a></span></div></div></div></div><div class="decl" id="Erdos392.Factorization.score"><div class="def"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L118-L132">source</a></div><div class="verification_link">
<a href="../../modules/PrimeNumberTheoremAnd_Erdos392.html#Erdos392.Factorization.score" class="verification-badge comp-operation" title="Computational operation (Bool/decidable)">üî∏ coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">noncomputable def</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.score"><span class="name">Erdos392</span>.<span class="name">Factorization</span>.<span class="name">score</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization">Factorization</a> <span class="fn">n</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">L</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Mathlib/Data/Real/Basic.html#Real">‚Ñù</a></div></div><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-Erdos392.Factorization.score" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Erdos392.Factorization.score_eq"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L134-L142">source</a></div><div class="verification_link">
<a href="../../modules/PrimeNumberTheoremAnd_Erdos392.html#Erdos392.Factorization.score_eq" class="verification-badge mathematical" title="Mathematical property (specification layer)">üìê coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.score_eq"><span class="name">Erdos392</span>.<span class="name">Factorization</span>.<span class="name">score_eq</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">f</span> : <span class="fn"><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization">Factorization</a> <span class="fn">n</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">hf</span> : <span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.total_imbalance">total_imbalance</a></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">0</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">L</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.score">score</a></span> <span class="fn">L</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.waste">waste</a></span></div></div></div></div><div class="decl" id="Erdos392.Factorization.replace"><div class="def"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L144-L158">source</a></div><div class="verification_link">
<a href="../../modules/PrimeNumberTheoremAnd_Erdos392.html#Erdos392.Factorization.replace" class="verification-badge comp-operation" title="Computational operation (Bool/decidable)">üî∏ coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.replace"><span class="name">Erdos392</span>.<span class="name">Factorization</span>.<span class="name">replace</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization">Factorization</a> <span class="fn">n</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">m </span><span class="fn">m'</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">_hm</span> : <span class="fn">m</span> <a href=".././Init/Prelude.html#Membership.mem">‚àà</a> <span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.a">a</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hm'</span> : <span class="fn">m'</span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn">n</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hm'_pos</span> : <span class="fn">0</span> <a href=".././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">m'</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization">Factorization</a> <span class="fn">n</span></span></div></div><p>Given a factorization <code>f</code>, an element <code>m</code> in it, and a new number <code>m' ‚â§ <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></code>,
<code><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.replace">replace</a></code> returns a new factorization with <code>m</code> replaced by <code>m'</code>.</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-Erdos392.Factorization.replace" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Erdos392.Factorization.replace_sum"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L160-L168">source</a></div><div class="verification_link">
<a href="../../modules/PrimeNumberTheoremAnd_Erdos392.html#Erdos392.Factorization.replace_sum" class="verification-badge mathematical" title="Mathematical property (specification layer)">üìê coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.replace_sum"><span class="name">Erdos392</span>.<span class="name">Factorization</span>.<span class="name">replace_sum</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization">Factorization</a> <span class="fn">n</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">m </span><span class="fn">m'</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hm</span> : <span class="fn">m</span> <a href=".././Init/Prelude.html#Membership.mem">‚àà</a> <span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.a">a</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hm'</span> : <span class="fn">m'</span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn">n</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hm'_pos</span> : <span class="fn">0</span> <a href=".././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">m'</span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">R</span> : <a href=".././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Mathlib/Algebra/Group/Defs.html#AddCommGroup">AddCommGroup</a> <span class="fn">R</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">F</span> : <span class="fn"><a href=".././Init/Prelude.html#Nat">‚Ñï</a> ‚Üí <span class="fn">R</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">(<span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.replace">replace</a></span> <span class="fn">m</span> <span class="fn">m'</span> <span class="fn">hm</span> <span class="fn">hm'</span> <span class="fn">hm'_pos</span>)</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.sum">sum</a></span> <span class="fn">F</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.sum">sum</a></span> <span class="fn">F</span></span> <a href=".././Init/Prelude.html#HSub.hSub">-</a> <span class="fn"><span class="fn">F</span> <span class="fn">m</span></span> <a href=".././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn"><span class="fn">F</span> <span class="fn">m'</span></span></div></div><p>The sum of a function <code><a href=".././PrimeNumberTheoremAnd/StrongPNT.html#F">F</a></code> over a factorization after replacing <code>m</code> with <code>m'</code>
equals the original sum minus <code><a href=".././PrimeNumberTheoremAnd/StrongPNT.html#F">F</a> m</code> plus <code><a href=".././PrimeNumberTheoremAnd/StrongPNT.html#F">F</a> m'</code>.</p></div></div><div class="decl" id="Erdos392.Factorization.replace_balance"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L170-L178">source</a></div><div class="verification_link">
<a href="../../modules/PrimeNumberTheoremAnd_Erdos392.html#Erdos392.Factorization.replace_balance" class="verification-badge mathematical" title="Mathematical property (specification layer)">üìê coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.replace_balance"><span class="name">Erdos392</span>.<span class="name">Factorization</span>.<span class="name">replace_balance</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization">Factorization</a> <span class="fn">n</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">m </span><span class="fn">m'</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hm</span> : <span class="fn">m</span> <a href=".././Init/Prelude.html#Membership.mem">‚àà</a> <span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.a">a</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hm'</span> : <span class="fn">m'</span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn">n</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hm'_pos</span> : <span class="fn">0</span> <a href=".././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">m'</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">q</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">(<span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.replace">replace</a></span> <span class="fn">m</span> <span class="fn">m'</span> <span class="fn">hm</span> <span class="fn">hm'</span> <span class="fn">hm'_pos</span>)</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.balance">balance</a></span> <span class="fn">q</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.balance">balance</a></span> <span class="fn">q</span></span> <a href=".././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">‚Üë<span class="fn">(<span class="fn"><span class="fn">m</span>.<a href=".././Mathlib/Data/Nat/Factorization/Defs.html#Nat.factorization">factorization</a></span> <span class="fn">q</span>)</span></span> <a href=".././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">‚Üë<span class="fn">(<span class="fn"><span class="fn">m'</span>.<a href=".././Mathlib/Data/Nat/Factorization/Defs.html#Nat.factorization">factorization</a></span> <span class="fn">q</span>)</span></span></div></div><p>The balance of a prime <code>q</code> after replacing <code>m</code> with <code>m'</code> equals the original balance
minus the exponent of <code>q</code> in <code>m</code> plus the exponent of <code>q</code> in <code>m'</code>.</p></div></div><div class="decl" id="Erdos392.Factorization.replace_div_balance"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L180-L200">source</a></div><div class="verification_link">
<a href="../../modules/PrimeNumberTheoremAnd_Erdos392.html#Erdos392.Factorization.replace_div_balance" class="verification-badge mathematical" title="Mathematical property (specification layer)">üìê coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.replace_div_balance"><span class="name">Erdos392</span>.<span class="name">Factorization</span>.<span class="name">replace_div_balance</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization">Factorization</a> <span class="fn">n</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">m </span><span class="fn">p</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hm</span> : <span class="fn">m</span> <a href=".././Init/Prelude.html#Membership.mem">‚àà</a> <span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.a">a</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_fac_pos</span> : <span class="fn">0</span> <a href=".././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn"><span class="fn">m</span>.<a href=".././Mathlib/Data/Nat/Factorization/Defs.html#Nat.factorization">factorization</a></span> <span class="fn">p</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hp</span> : <span class="fn"><a href=".././Mathlib/Data/Nat/Prime/Defs.html#Nat.Prime">Nat.Prime</a> <span class="fn">p</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">q</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">let <span class="fn">m'</span> := <span class="fn">m</span> <a href=".././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn">p</span>;
<span class="fn">have <span class="fn">hm'</span> := <span class="fn">‚ãØ</span>;
<span class="fn">have <span class="fn">hm'_pos</span> := <span class="fn">‚ãØ</span>;
<span class="fn"><span class="fn"><span class="fn">(<span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.replace">replace</a></span> <span class="fn">m</span> <span class="fn">m'</span> <span class="fn">hm</span> <span class="fn">hm'</span> <span class="fn">hm'_pos</span>)</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.balance">balance</a></span> <span class="fn">q</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <a href=".././Init/Prelude.html#ite">if</a> <span class="fn">q</span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">p</span> <a href=".././Init/Prelude.html#ite">then</a> <span class="fn"><span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.balance">balance</a></span> <span class="fn">q</span></span> <a href=".././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">1</span> <a href=".././Init/Prelude.html#ite">else</a> <span class="fn"><span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.balance">balance</a></span> <span class="fn">q</span></span></span></span></span></div></div><p>If we replace <code>m</code> with <code>m/p</code> where <code>p</code> divides <code>m</code>, the balance of <code>p</code> decreases by 1,
and the balance of any other prime remains unchanged.</p></div></div><div class="decl" id="Erdos392.Factorization.replace_div_total_imbalance"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L202-L218">source</a></div><div class="verification_link">
<a href="../../modules/PrimeNumberTheoremAnd_Erdos392.html#Erdos392.Factorization.replace_div_total_imbalance" class="verification-badge mathematical" title="Mathematical property (specification layer)">üìê coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.replace_div_total_imbalance"><span class="name">Erdos392</span>.<span class="name">Factorization</span>.<span class="name">replace_div_total_imbalance</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization">Factorization</a> <span class="fn">n</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">m </span><span class="fn">p</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hm</span> : <span class="fn">m</span> <a href=".././Init/Prelude.html#Membership.mem">‚àà</a> <span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.a">a</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_fac_pos</span> : <span class="fn">0</span> <a href=".././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn"><span class="fn">m</span>.<a href=".././Mathlib/Data/Nat/Factorization/Defs.html#Nat.factorization">factorization</a></span> <span class="fn">p</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hp</span> : <span class="fn"><a href=".././Mathlib/Data/Nat/Prime/Defs.html#Nat.Prime">Nat.Prime</a> <span class="fn">p</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hp_mem</span> : <span class="fn">p</span> <a href=".././Init/Prelude.html#Membership.mem">‚àà</a> <span class="fn">(<span class="fn">n</span> <a href=".././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>).<a href=".././Mathlib/NumberTheory/SmoothNumbers.html#Nat.primesBelow">primesBelow</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_bal_pos</span> : <span class="fn"><span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.balance">balance</a></span> <span class="fn">p</span></span> <a href=".././Init/Prelude.html#GT.gt">&gt;</a> <span class="fn">0</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">let <span class="fn">m'</span> := <span class="fn">m</span> <a href=".././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn">p</span>;
<span class="fn">have <span class="fn">hm'</span> := <span class="fn">‚ãØ</span>;
<span class="fn">have <span class="fn">hm'_pos</span> := <span class="fn">‚ãØ</span>;
<span class="fn"><span class="fn">(<span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.replace">replace</a></span> <span class="fn">m</span> <span class="fn">m'</span> <span class="fn">hm</span> <span class="fn">hm'</span> <span class="fn">hm'_pos</span>)</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.total_imbalance">total_imbalance</a></span> <a href=".././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.total_imbalance">total_imbalance</a></span></span></span></span></div></div><p>Replacing <code>m</code> with <code>m/p</code> strictly decreases the total imbalance
when <code>p</code> has positive balance.</p></div></div><div class="decl" id="Erdos392.Factorization.replace_div_score_le"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L220-L313">source</a></div><div class="verification_link">
<a href="../../modules/PrimeNumberTheoremAnd_Erdos392.html#Erdos392.Factorization.replace_div_score_le" class="verification-badge mathematical" title="Mathematical property (specification layer)">üìê coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.replace_div_score_le"><span class="name">Erdos392</span>.<span class="name">Factorization</span>.<span class="name">replace_div_score_le</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization">Factorization</a> <span class="fn">n</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">m </span><span class="fn">p</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hm</span> : <span class="fn">m</span> <a href=".././Init/Prelude.html#Membership.mem">‚àà</a> <span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.a">a</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_fac_pos</span> : <span class="fn">0</span> <a href=".././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn"><span class="fn">m</span>.<a href=".././Mathlib/Data/Nat/Factorization/Defs.html#Nat.factorization">factorization</a></span> <span class="fn">p</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hp</span> : <span class="fn"><a href=".././Mathlib/Data/Nat/Prime/Defs.html#Nat.Prime">Nat.Prime</a> <span class="fn">p</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hp_mem</span> : <span class="fn">p</span> <a href=".././Init/Prelude.html#Membership.mem">‚àà</a> <span class="fn">(<span class="fn">n</span> <a href=".././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>).<a href=".././Mathlib/NumberTheory/SmoothNumbers.html#Nat.primesBelow">primesBelow</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">_h_bal_pos</span> : <span class="fn"><span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.balance">balance</a></span> <span class="fn">p</span></span> <a href=".././Init/Prelude.html#GT.gt">&gt;</a> <span class="fn">0</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">L</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">let <span class="fn">m'</span> := <span class="fn">m</span> <a href=".././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn">p</span>;
<span class="fn">have <span class="fn">hm'</span> := <span class="fn">‚ãØ</span>;
<span class="fn">have <span class="fn">hm'_pos</span> := <span class="fn">‚ãØ</span>;
<span class="fn"><span class="fn"><span class="fn">(<span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.replace">replace</a></span> <span class="fn">m</span> <span class="fn">m'</span> <span class="fn">hm</span> <span class="fn">hm'</span> <span class="fn">hm'_pos</span>)</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.score">score</a></span> <span class="fn">L</span></span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn"><span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.score">score</a></span> <span class="fn">L</span></span></span></span></span></div></div><p>Replacing <code>m</code> with <code>m/p</code> decreases the score (or keeps it equal) if <code>p</code> has positive balance.
The waste increases by <code>log p</code>, but the sum term decreases by <code>log p</code>,
and the imbalance term is non-increasing.</p></div></div><div class="decl" id="Erdos392.Factorization.addFactor"><div class="def"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L315-L320">source</a></div><div class="verification_link">
<a href="../../modules/PrimeNumberTheoremAnd_Erdos392.html#Erdos392.Factorization.addFactor" class="verification-badge comp-operation" title="Computational operation (Bool/decidable)">üî∏ coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.addFactor"><span class="name">Erdos392</span>.<span class="name">Factorization</span>.<span class="name">addFactor</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization">Factorization</a> <span class="fn">n</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">m</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hm</span> : <span class="fn">m</span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn">n</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hm_pos</span> : <span class="fn">0</span> <a href=".././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">m</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization">Factorization</a> <span class="fn">n</span></span></div></div><p>Extends a factorization by adding a new factor <code>m</code>.</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-Erdos392.Factorization.addFactor" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Erdos392.Factorization.addFactor_balance"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L322-L326">source</a></div><div class="verification_link">
<a href="../../modules/PrimeNumberTheoremAnd_Erdos392.html#Erdos392.Factorization.addFactor_balance" class="verification-badge mathematical" title="Mathematical property (specification layer)">üìê coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.addFactor_balance"><span class="name">Erdos392</span>.<span class="name">Factorization</span>.<span class="name">addFactor_balance</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization">Factorization</a> <span class="fn">n</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">m</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hm</span> : <span class="fn">m</span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn">n</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hm_pos</span> : <span class="fn">0</span> <a href=".././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">m</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">p</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">(<span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.addFactor">addFactor</a></span> <span class="fn">m</span> <span class="fn">hm</span> <span class="fn">hm_pos</span>)</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.balance">balance</a></span> <span class="fn">p</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.balance">balance</a></span> <span class="fn">p</span></span> <a href=".././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">‚Üë<span class="fn">(<span class="fn"><span class="fn">m</span>.<a href=".././Mathlib/Data/Nat/Factorization/Defs.html#Nat.factorization">factorization</a></span> <span class="fn">p</span>)</span></span></div></div><p>Adding a factor increases balance by the factor's factorization.</p></div></div><div class="decl" id="Erdos392.Factorization.addFactor_waste"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L328-L331">source</a></div><div class="verification_link">
<a href="../../modules/PrimeNumberTheoremAnd_Erdos392.html#Erdos392.Factorization.addFactor_waste" class="verification-badge mathematical" title="Mathematical property (specification layer)">üìê coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.addFactor_waste"><span class="name">Erdos392</span>.<span class="name">Factorization</span>.<span class="name">addFactor_waste</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization">Factorization</a> <span class="fn">n</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">m</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hm</span> : <span class="fn">m</span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn">n</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hm_pos</span> : <span class="fn">0</span> <a href=".././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">m</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">(<span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.addFactor">addFactor</a></span> <span class="fn">m</span> <span class="fn">hm</span> <span class="fn">hm_pos</span>)</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.waste">waste</a></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.waste">waste</a></span> <a href=".././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn"><a href=".././Mathlib/Analysis/SpecialFunctions/Log/Basic.html#Real.log">Real.log</a> (<span class="fn">‚Üë<span class="fn">n</span></span> <a href=".././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn">‚Üë<span class="fn">m</span></span>)</span></div></div><p>Adding a factor increases waste by <code>log (n / m)</code>.</p></div></div><div class="decl" id="Erdos392.Factorization.deficitMultiset"><div class="def"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L333-L336">source</a></div><div class="verification_link">
<a href="../../modules/PrimeNumberTheoremAnd_Erdos392.html#Erdos392.Factorization.deficitMultiset" class="verification-badge comp-operation" title="Computational operation (Bool/decidable)">üî∏ coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.deficitMultiset"><span class="name">Erdos392</span>.<span class="name">Factorization</span>.<span class="name">deficitMultiset</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization">Factorization</a> <span class="fn">n</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">L</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Mathlib/Data/Multiset/Defs.html#Multiset">Multiset</a> <a href=".././Init/Prelude.html#Nat">‚Ñï</a></span></div></div><p>The multiset of deficit primes at most <code><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a></code>, each repeated <code>|balance p|</code> times.</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-Erdos392.Factorization.deficitMultiset" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Erdos392.Factorization.mem_deficitMultiset"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L338-L344">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.mem_deficitMultiset"><span class="name">Erdos392</span>.<span class="name">Factorization</span>.<span class="name">mem_deficitMultiset</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization">Factorization</a> <span class="fn">n</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">L </span><span class="fn">q</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">q</span> <a href=".././Init/Prelude.html#Membership.mem">‚àà</a> <span class="fn"><span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.deficitMultiset">deficitMultiset</a></span> <span class="fn">L</span></span> ‚Üí <span class="fn"><a href=".././Mathlib/Data/Nat/Prime/Defs.html#Nat.Prime">Nat.Prime</a> <span class="fn">q</span></span> <a href=".././Init/Prelude.html#And">‚àß</a> <span class="fn">q</span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn">L</span></span></div></div><p>Elements of the deficit multiset are primes at most <code><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a></code>.</p></div></div><div class="decl" id="Erdos392.exists_submultiset_prod_between"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L346-L359">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.exists_submultiset_prod_between"><span class="name">Erdos392</span>.<span class="name">exists_submultiset_prod_between</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n </span><span class="fn">L</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">D</span> : <span class="fn"><a href=".././Mathlib/Data/Multiset/Defs.html#Multiset">Multiset</a> <a href=".././Init/Prelude.html#Nat">‚Ñï</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hL</span> : <span class="fn">0</span> <a href=".././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">L</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hn</span> : <span class="fn">1</span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn">n</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hD_le</span> : <span class="fn">‚àÄ <span class="fn">p</span> ‚àà <span class="fn">D</span>, <span class="fn">p</span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn">L</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hD_prod</span> : <span class="fn"><span class="fn">D</span>.<a href=".././Mathlib/Algebra/BigOperators/Group/Multiset/Defs.html#Multiset.prod">prod</a></span> <a href=".././Init/Prelude.html#GT.gt">&gt;</a> <span class="fn">n</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">‚àÉ <span class="fn">M</span> ‚â§ <span class="fn">D</span>, <span class="fn">n</span> <a href=".././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn">M</span>.<a href=".././Mathlib/Algebra/BigOperators/Group/Multiset/Defs.html#Multiset.prod">prod</a></span> <a href=".././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">L</span> <a href=".././Init/Prelude.html#And">‚àß</a> <span class="fn"><span class="fn">M</span>.<a href=".././Mathlib/Algebra/BigOperators/Group/Multiset/Defs.html#Multiset.prod">prod</a></span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn">n</span></span></div></div><p>Given a multiset of numbers <code>‚â§ <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a></code> with product <code>&gt; <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></code>, there exists a sub-multiset
whose product <code>m</code> satisfies <code><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a> / <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a> &lt; m ‚â§ <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></code>.</p></div></div><div class="decl" id="Erdos392.Factorization.deficit_implies_le_n"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L361-L364">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.deficit_implies_le_n"><span class="name">Erdos392</span>.<span class="name">Factorization</span>.<span class="name">deficit_implies_le_n</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization">Factorization</a> <span class="fn">n</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">p</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hp</span> : <span class="fn"><span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.balance">balance</a></span> <span class="fn">p</span></span> <a href=".././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">0</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">p</span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn">n</span></div></div><p>A prime with negative balance is at most <code><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></code>.</p></div></div><div class="decl" id="Erdos392.factorization_prod_eq_count"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L366-L378">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.factorization_prod_eq_count"><span class="name">Erdos392</span>.<span class="name">factorization_prod_eq_count</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">D</span> : <span class="fn"><a href=".././Mathlib/Data/Multiset/Defs.html#Multiset">Multiset</a> <a href=".././Init/Prelude.html#Nat">‚Ñï</a></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">hD</span> : <span class="fn">‚àÄ <span class="fn">p</span> ‚àà <span class="fn">D</span>, <span class="fn"><a href=".././Mathlib/Data/Nat/Prime/Defs.html#Nat.Prime">Nat.Prime</a> <span class="fn">p</span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">p</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn"><span class="fn">D</span>.<a href=".././Mathlib/Algebra/BigOperators/Group/Multiset/Defs.html#Multiset.prod">prod</a></span>.<a href=".././Mathlib/Data/Nat/Factorization/Defs.html#Nat.factorization">factorization</a></span> <span class="fn">p</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><a href=".././Mathlib/Data/Multiset/Count.html#Multiset.count">Multiset.count</a> <span class="fn">p</span> <span class="fn">D</span></span></div></div><p>The factorization of a product of primes at <code>p</code> equals the count of <code>p</code> in the multiset.</p></div></div><div class="decl" id="Erdos392.Factorization.deficitMultiset_prod_pos"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L380-L383">source</a></div><div class="verification_link">
<a href="../../modules/PrimeNumberTheoremAnd_Erdos392.html#Erdos392.Factorization.deficitMultiset_prod_pos" class="verification-badge mathematical" title="Mathematical property (specification layer)">üìê coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.deficitMultiset_prod_pos"><span class="name">Erdos392</span>.<span class="name">Factorization</span>.<span class="name">deficitMultiset_prod_pos</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization">Factorization</a> <span class="fn">n</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">L</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">0</span> <a href=".././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn">(<span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.deficitMultiset">deficitMultiset</a></span> <span class="fn">L</span>)</span>.<a href=".././Mathlib/Algebra/BigOperators/Group/Multiset/Defs.html#Multiset.prod">prod</a></span></div></div><p>The product of the deficit multiset is positive.</p></div></div><div class="decl" id="Erdos392.Factorization.count_deficitMultiset"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L385-L392">source</a></div><div class="verification_link">
<a href="../../modules/PrimeNumberTheoremAnd_Erdos392.html#Erdos392.Factorization.count_deficitMultiset" class="verification-badge mathematical" title="Mathematical property (specification layer)">üìê coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.count_deficitMultiset"><span class="name">Erdos392</span>.<span class="name">Factorization</span>.<span class="name">count_deficitMultiset</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization">Factorization</a> <span class="fn">n</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">L </span><span class="fn">p</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Mathlib/Data/Multiset/Count.html#Multiset.count">Multiset.count</a> <span class="fn">p</span> <span class="fn">(<span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.deficitMultiset">deficitMultiset</a></span> <span class="fn">L</span>)</span></span> <a href=".././Init/Prelude.html#Eq">=</a>   <a href=".././Init/Prelude.html#ite">if</a> <span class="fn">p</span> <a href=".././Init/Prelude.html#Membership.mem">‚àà</a> <span class="fn">(<span class="fn">n</span> <a href=".././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>).<a href=".././Mathlib/NumberTheory/SmoothNumbers.html#Nat.primesBelow">primesBelow</a></span> <a href=".././Init/Prelude.html#And">‚àß</a> <span class="fn">p</span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn">L</span> <a href=".././Init/Prelude.html#And">‚àß</a> <span class="fn"><span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.balance">balance</a></span> <span class="fn">p</span></span> <a href=".././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">0</span> <a href=".././Init/Prelude.html#ite">then</a> <span class="fn"><span class="fn">(<span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.balance">balance</a></span> <span class="fn">p</span>)</span>.<a href=".././Init/Data/Int/Basic.html#Int.natAbs">natAbs</a></span> <a href=".././Init/Prelude.html#ite">else</a> <span class="fn">0</span></div></div><p>The count of <code>p</code> in the deficit multiset equals <code>|balance p|</code> if <code>p</code> is a deficit prime
at most <code><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a></code>, and <code>0</code> otherwise.</p></div></div><div class="decl" id="Erdos392.Factorization.addFactor_deficit_balance_eq_zero"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L394-L416">source</a></div><div class="verification_link">
<a href="../../modules/PrimeNumberTheoremAnd_Erdos392.html#Erdos392.Factorization.addFactor_deficit_balance_eq_zero" class="verification-badge mathematical" title="Mathematical property (specification layer)">üìê coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.addFactor_deficit_balance_eq_zero"><span class="name">Erdos392</span>.<span class="name">Factorization</span>.<span class="name">addFactor_deficit_balance_eq_zero</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization">Factorization</a> <span class="fn">n</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">L</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_surplus</span> : <span class="fn">‚àÄ (<span class="fn">p</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>), <span class="fn"><span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.balance">balance</a></span> <span class="fn">p</span></span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn">0</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_deficit_large</span> : <span class="fn">‚àÄ (<span class="fn">p</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>), <span class="fn"><span class="fn"><span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.balance">balance</a></span> <span class="fn">p</span></span> <a href=".././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">0</span> ‚Üí <span class="fn">p</span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn">L</span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">m</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hm</span> : <span class="fn">m</span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn">n</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hm_pos</span> : <span class="fn">0</span> <a href=".././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">m</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_m_def</span> : <span class="fn">m</span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">(<span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.deficitMultiset">deficitMultiset</a></span> <span class="fn">L</span>)</span>.<a href=".././Mathlib/Algebra/BigOperators/Group/Multiset/Defs.html#Multiset.prod">prod</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">p</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">(<span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.addFactor">addFactor</a></span> <span class="fn">m</span> <span class="fn">hm</span> <span class="fn">hm_pos</span>)</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.balance">balance</a></span> <span class="fn">p</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">0</span></div></div><p>Adding the full deficit multiset product to a factorization with no surplus primes and all
deficit primes at most <code><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a></code> results in zero balance for all primes.</p></div></div><div class="decl" id="Erdos392.Factorization.lower_score_3_case1"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L418-L460">source</a></div><div class="verification_link">
<a href="../../modules/PrimeNumberTheoremAnd_Erdos392.html#Erdos392.Factorization.lower_score_3_case1" class="verification-badge mathematical" title="Mathematical property (specification layer)">üìê coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.lower_score_3_case1"><span class="name">Erdos392</span>.<span class="name">Factorization</span>.<span class="name">lower_score_3_case1</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization">Factorization</a> <span class="fn">n</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">L</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_surplus</span> : <span class="fn">‚àÄ (<span class="fn">p</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>), <span class="fn"><span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.balance">balance</a></span> <span class="fn">p</span></span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn">0</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_deficit_large</span> : <span class="fn">‚àÄ (<span class="fn">p</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>), <span class="fn"><span class="fn"><span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.balance">balance</a></span> <span class="fn">p</span></span> <a href=".././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">0</span> ‚Üí <span class="fn">p</span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn">L</span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hf</span> : <span class="fn">‚àÉ <span class="fn">p</span> ‚àà <span class="fn">(<span class="fn">n</span> <a href=".././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>).<a href=".././Mathlib/NumberTheory/SmoothNumbers.html#Nat.primesBelow">primesBelow</a></span>, <span class="fn">p</span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn">L</span> <a href=".././Init/Prelude.html#And">‚àß</a> <span class="fn"><span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.balance">balance</a></span> <span class="fn">p</span></span> <a href=".././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">0</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_prod</span> : <span class="fn"><span class="fn">(<span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.deficitMultiset">deficitMultiset</a></span> <span class="fn">L</span>)</span>.<a href=".././Mathlib/Algebra/BigOperators/Group/Multiset/Defs.html#Multiset.prod">prod</a></span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn">n</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">‚àÉ (<span class="fn">f'</span> : <span class="fn"><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization">Factorization</a> <span class="fn">n</span></span>), <span class="fn"><span class="fn">f'</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.total_imbalance">total_imbalance</a></span> <a href=".././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.total_imbalance">total_imbalance</a></span> <a href=".././Init/Prelude.html#And">‚àß</a> <span class="fn"><span class="fn"><span class="fn">f'</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.score">score</a></span> <span class="fn">L</span></span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn"><span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.score">score</a></span> <span class="fn">L</span></span></span></div></div><p>Case 1 of <code><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.lower_score_3">lower_score_3</a></code>: if the product of deficit primes is <code>‚â§ <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></code>, adding the full
deficit multiset yields a factorization with zero imbalance and lower score.</p></div></div><div class="decl" id="Erdos392.Factorization.addFactor_submultiset_total_imbalance"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L462-L508">source</a></div><div class="verification_link">
<a href="../../modules/PrimeNumberTheoremAnd_Erdos392.html#Erdos392.Factorization.addFactor_submultiset_total_imbalance" class="verification-badge mathematical" title="Mathematical property (specification layer)">üìê coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.addFactor_submultiset_total_imbalance"><span class="name">Erdos392</span>.<span class="name">Factorization</span>.<span class="name">addFactor_submultiset_total_imbalance</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization">Factorization</a> <span class="fn">n</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">L</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_surplus</span> : <span class="fn">‚àÄ (<span class="fn">p</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>), <span class="fn"><span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.balance">balance</a></span> <span class="fn">p</span></span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn">0</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">M</span> : <span class="fn"><a href=".././Mathlib/Data/Multiset/Defs.html#Multiset">Multiset</a> <a href=".././Init/Prelude.html#Nat">‚Ñï</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hM</span> : <span class="fn">M</span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn"><span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.deficitMultiset">deficitMultiset</a></span> <span class="fn">L</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">m</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hm</span> : <span class="fn">m</span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn">n</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hm_pos</span> : <span class="fn">0</span> <a href=".././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">m</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_m_prod</span> : <span class="fn">m</span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">M</span>.<a href=".././Mathlib/Algebra/BigOperators/Group/Multiset/Defs.html#Multiset.prod">prod</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">(<span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.addFactor">addFactor</a></span> <span class="fn">m</span> <span class="fn">hm</span> <span class="fn">hm_pos</span>)</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.total_imbalance">total_imbalance</a></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.total_imbalance">total_imbalance</a></span> <a href=".././Init/Prelude.html#HSub.hSub">-</a> <span class="fn"><span class="fn">M</span>.<a href=".././Mathlib/Data/Multiset/Defs.html#Multiset.card">card</a></span></div></div><p>Adding a submultiset <code><a href=".././PrimeNumberTheoremAnd/Defs.html#M">M</a></code> of deficit primes to a factorization reduces the total imbalance
by <code>M.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.initial.card">card</a></code>.</p></div></div><div class="decl" id="Erdos392.Factorization.score_sum_change"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L510-L530">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.score_sum_change"><span class="name">Erdos392</span>.<span class="name">Factorization</span>.<span class="name">score_sum_change</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f </span><span class="fn">f'</span> : <span class="fn"><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization">Factorization</a> <span class="fn">n</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">L </span><span class="fn">p</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hp_mem</span> : <span class="fn">p</span> <a href=".././Init/Prelude.html#Membership.mem">‚àà</a> <span class="fn">(<span class="fn">n</span> <a href=".././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>).<a href=".././Mathlib/NumberTheory/SmoothNumbers.html#Nat.primesBelow">primesBelow</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hp_le_L</span> : <span class="fn">p</span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn">L</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_bal_p</span> : <span class="fn"><span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.balance">balance</a></span> <span class="fn">p</span></span> <a href=".././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">0</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_bal_p'</span> : <span class="fn"><span class="fn"><span class="fn">f'</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.balance">balance</a></span> <span class="fn">p</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.balance">balance</a></span> <span class="fn">p</span></span> <a href=".././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_bal_eq</span> : <span class="fn">‚àÄ <span class="fn">q</span> ‚àà <span class="fn">(<span class="fn">n</span> <a href=".././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>).<a href=".././Mathlib/NumberTheory/SmoothNumbers.html#Nat.primesBelow">primesBelow</a></span>, <span class="fn"><span class="fn">q</span> <a href=".././Init/Core.html#Ne">‚â†</a> <span class="fn">p</span> ‚Üí <span class="fn"><span class="fn"><span class="fn">f'</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.balance">balance</a></span> <span class="fn">q</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.balance">balance</a></span> <span class="fn">q</span></span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type">(<span class="fn">(‚àë <span class="fn">q</span> ‚àà <span class="fn">(<span class="fn">n</span> <a href=".././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>).<a href=".././Mathlib/NumberTheory/SmoothNumbers.html#Nat.primesBelow">primesBelow</a></span>,
      <a href=".././Init/Prelude.html#ite">if</a> <span class="fn"><span class="fn"><span class="fn">f'</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.balance">balance</a></span> <span class="fn">q</span></span> <a href=".././Init/Prelude.html#GT.gt">&gt;</a> <span class="fn">0</span> <a href=".././Init/Prelude.html#ite">then</a> <span class="fn">‚Üë<span class="fn">(<span class="fn"><span class="fn">f'</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.balance">balance</a></span> <span class="fn">q</span>)</span></span> <a href=".././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><a href=".././Mathlib/Analysis/SpecialFunctions/Log/Basic.html#Real.log">Real.log</a> <span class="fn">‚Üë<span class="fn">q</span></span></span>
      <a href=".././Init/Prelude.html#ite">else</a> <a href=".././Init/Prelude.html#ite">if</a> <span class="fn">q</span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn">L</span> <a href=".././Init/Prelude.html#ite">then</a> <a href=".././Init/Prelude.html#Neg.neg">-</a><span class="fn">‚Üë<span class="fn">(<span class="fn"><span class="fn">f'</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.balance">balance</a></span> <span class="fn">q</span>)</span></span> <a href=".././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><a href=".././Mathlib/Analysis/SpecialFunctions/Log/Basic.html#Real.log">Real.log</a> <span class="fn">‚Üë<span class="fn">L</span></span></span> <a href=".././Init/Prelude.html#ite">else</a> <a href=".././Init/Prelude.html#Neg.neg">-</a><span class="fn">‚Üë<span class="fn">(<span class="fn"><span class="fn">f'</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.balance">balance</a></span> <span class="fn">q</span>)</span></span> <a href=".././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><a href=".././Mathlib/Analysis/SpecialFunctions/Log/Basic.html#Real.log">Real.log</a> (<span class="fn">‚Üë<span class="fn">n</span></span> <a href=".././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn">‚Üë<span class="fn">q</span></span>)</span>)</span> <a href=".././Init/Prelude.html#HSub.hSub">-</a>     <span class="fn">‚àë <span class="fn">q</span> ‚àà <span class="fn">(<span class="fn">n</span> <a href=".././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>).<a href=".././Mathlib/NumberTheory/SmoothNumbers.html#Nat.primesBelow">primesBelow</a></span>,
      <a href=".././Init/Prelude.html#ite">if</a> <span class="fn"><span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.balance">balance</a></span> <span class="fn">q</span></span> <a href=".././Init/Prelude.html#GT.gt">&gt;</a> <span class="fn">0</span> <a href=".././Init/Prelude.html#ite">then</a> <span class="fn">‚Üë<span class="fn">(<span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.balance">balance</a></span> <span class="fn">q</span>)</span></span> <a href=".././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><a href=".././Mathlib/Analysis/SpecialFunctions/Log/Basic.html#Real.log">Real.log</a> <span class="fn">‚Üë<span class="fn">q</span></span></span>
      <a href=".././Init/Prelude.html#ite">else</a> <a href=".././Init/Prelude.html#ite">if</a> <span class="fn">q</span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn">L</span> <a href=".././Init/Prelude.html#ite">then</a> <a href=".././Init/Prelude.html#Neg.neg">-</a><span class="fn">‚Üë<span class="fn">(<span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.balance">balance</a></span> <span class="fn">q</span>)</span></span> <a href=".././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><a href=".././Mathlib/Analysis/SpecialFunctions/Log/Basic.html#Real.log">Real.log</a> <span class="fn">‚Üë<span class="fn">L</span></span></span> <a href=".././Init/Prelude.html#ite">else</a> <a href=".././Init/Prelude.html#Neg.neg">-</a><span class="fn">‚Üë<span class="fn">(<span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.balance">balance</a></span> <span class="fn">q</span>)</span></span> <a href=".././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><a href=".././Mathlib/Analysis/SpecialFunctions/Log/Basic.html#Real.log">Real.log</a> (<span class="fn">‚Üë<span class="fn">n</span></span> <a href=".././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn">‚Üë<span class="fn">q</span></span>)</span></span>) <a href=".././Init/Prelude.html#Eq">=</a>   <a href=".././Init/Prelude.html#Neg.neg">-</a><span class="fn"><a href=".././Mathlib/Analysis/SpecialFunctions/Log/Basic.html#Real.log">Real.log</a> <span class="fn">‚Üë<span class="fn">L</span></span></span></div></div><p>The change in the score sum when one deficit prime <code>p</code> (with <code>p ‚â§ <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a></code>) has its balance
increased by 1 (still <code>‚â§ 0</code>).</p></div></div><div class="decl" id="Erdos392.Factorization.score_sum_change_multiset"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L532-L577">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.score_sum_change_multiset"><span class="name">Erdos392</span>.<span class="name">Factorization</span>.<span class="name">score_sum_change_multiset</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f </span><span class="fn">f'</span> : <span class="fn"><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization">Factorization</a> <span class="fn">n</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">L</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">M</span> : <span class="fn"><a href=".././Mathlib/Data/Multiset/Defs.html#Multiset">Multiset</a> <a href=".././Init/Prelude.html#Nat">‚Ñï</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hM_le</span> : <span class="fn">M</span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn"><span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.deficitMultiset">deficitMultiset</a></span> <span class="fn">L</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_bal_eq</span> : <span class="fn">‚àÄ <span class="fn">p</span> ‚àà <span class="fn">(<span class="fn">n</span> <a href=".././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>).<a href=".././Mathlib/NumberTheory/SmoothNumbers.html#Nat.primesBelow">primesBelow</a></span>, <span class="fn"><span class="fn"><span class="fn">f'</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.balance">balance</a></span> <span class="fn">p</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.balance">balance</a></span> <span class="fn">p</span></span> <a href=".././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">‚Üë<span class="fn">(<a href=".././Mathlib/Data/Multiset/Count.html#Multiset.count">Multiset.count</a> <span class="fn">p</span> <span class="fn">M</span>)</span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type">(<span class="fn">(‚àë <span class="fn">q</span> ‚àà <span class="fn">(<span class="fn">n</span> <a href=".././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>).<a href=".././Mathlib/NumberTheory/SmoothNumbers.html#Nat.primesBelow">primesBelow</a></span>,
      <a href=".././Init/Prelude.html#ite">if</a> <span class="fn"><span class="fn"><span class="fn">f'</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.balance">balance</a></span> <span class="fn">q</span></span> <a href=".././Init/Prelude.html#GT.gt">&gt;</a> <span class="fn">0</span> <a href=".././Init/Prelude.html#ite">then</a> <span class="fn">‚Üë<span class="fn">(<span class="fn"><span class="fn">f'</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.balance">balance</a></span> <span class="fn">q</span>)</span></span> <a href=".././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><a href=".././Mathlib/Analysis/SpecialFunctions/Log/Basic.html#Real.log">Real.log</a> <span class="fn">‚Üë<span class="fn">q</span></span></span>
      <a href=".././Init/Prelude.html#ite">else</a> <a href=".././Init/Prelude.html#ite">if</a> <span class="fn">q</span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn">L</span> <a href=".././Init/Prelude.html#ite">then</a> <a href=".././Init/Prelude.html#Neg.neg">-</a><span class="fn">‚Üë<span class="fn">(<span class="fn"><span class="fn">f'</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.balance">balance</a></span> <span class="fn">q</span>)</span></span> <a href=".././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><a href=".././Mathlib/Analysis/SpecialFunctions/Log/Basic.html#Real.log">Real.log</a> <span class="fn">‚Üë<span class="fn">L</span></span></span> <a href=".././Init/Prelude.html#ite">else</a> <span class="fn">‚Üë(<a href=".././Init/Prelude.html#Neg.neg">-</a><span class="fn"><span class="fn"><span class="fn">f'</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.balance">balance</a></span> <span class="fn">q</span></span>)</span> <a href=".././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><a href=".././Mathlib/Analysis/SpecialFunctions/Log/Basic.html#Real.log">Real.log</a> (<span class="fn">‚Üë<span class="fn">n</span></span> <a href=".././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn">‚Üë<span class="fn">q</span></span>)</span>)</span> <a href=".././Init/Prelude.html#HSub.hSub">-</a>     <span class="fn">‚àë <span class="fn">q</span> ‚àà <span class="fn">(<span class="fn">n</span> <a href=".././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>).<a href=".././Mathlib/NumberTheory/SmoothNumbers.html#Nat.primesBelow">primesBelow</a></span>,
      <a href=".././Init/Prelude.html#ite">if</a> <span class="fn"><span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.balance">balance</a></span> <span class="fn">q</span></span> <a href=".././Init/Prelude.html#GT.gt">&gt;</a> <span class="fn">0</span> <a href=".././Init/Prelude.html#ite">then</a> <span class="fn">‚Üë<span class="fn">(<span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.balance">balance</a></span> <span class="fn">q</span>)</span></span> <a href=".././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><a href=".././Mathlib/Analysis/SpecialFunctions/Log/Basic.html#Real.log">Real.log</a> <span class="fn">‚Üë<span class="fn">q</span></span></span>
      <a href=".././Init/Prelude.html#ite">else</a> <a href=".././Init/Prelude.html#ite">if</a> <span class="fn">q</span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn">L</span> <a href=".././Init/Prelude.html#ite">then</a> <a href=".././Init/Prelude.html#Neg.neg">-</a><span class="fn">‚Üë<span class="fn">(<span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.balance">balance</a></span> <span class="fn">q</span>)</span></span> <a href=".././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><a href=".././Mathlib/Analysis/SpecialFunctions/Log/Basic.html#Real.log">Real.log</a> <span class="fn">‚Üë<span class="fn">L</span></span></span> <a href=".././Init/Prelude.html#ite">else</a> <span class="fn">‚Üë(<a href=".././Init/Prelude.html#Neg.neg">-</a><span class="fn"><span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.balance">balance</a></span> <span class="fn">q</span></span>)</span> <a href=".././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><a href=".././Mathlib/Analysis/SpecialFunctions/Log/Basic.html#Real.log">Real.log</a> (<span class="fn">‚Üë<span class="fn">n</span></span> <a href=".././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn">‚Üë<span class="fn">q</span></span>)</span></span>) <a href=".././Init/Prelude.html#Eq">=</a>   <a href=".././Init/Prelude.html#Neg.neg">-</a><span class="fn">‚Üë<span class="fn"><span class="fn">M</span>.<a href=".././Mathlib/Data/Multiset/Defs.html#Multiset.card">card</a></span></span> <a href=".././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><a href=".././Mathlib/Analysis/SpecialFunctions/Log/Basic.html#Real.log">Real.log</a> <span class="fn">‚Üë<span class="fn">L</span></span></span></div></div><p>The change in the score sum when a submultiset of deficit primes <code><a href=".././PrimeNumberTheoremAnd/Defs.html#M">M</a></code> is added.</p></div></div><div class="decl" id="Erdos392.Factorization.score_le_of_add_submultiset"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L579-L626">source</a></div><div class="verification_link">
<a href="../../modules/PrimeNumberTheoremAnd_Erdos392.html#Erdos392.Factorization.score_le_of_add_submultiset" class="verification-badge mathematical" title="Mathematical property (specification layer)">üìê coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.score_le_of_add_submultiset"><span class="name">Erdos392</span>.<span class="name">Factorization</span>.<span class="name">score_le_of_add_submultiset</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization">Factorization</a> <span class="fn">n</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">L</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">M</span> : <span class="fn"><a href=".././Mathlib/Data/Multiset/Defs.html#Multiset">Multiset</a> <a href=".././Init/Prelude.html#Nat">‚Ñï</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hM_le</span> : <span class="fn">M</span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn"><span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.deficitMultiset">deficitMultiset</a></span> <span class="fn">L</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">m</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hm</span> : <span class="fn">m</span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn">n</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hm_pos</span> : <span class="fn">0</span> <a href=".././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">m</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_m_prod</span> : <span class="fn">m</span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">M</span>.<a href=".././Mathlib/Algebra/BigOperators/Group/Multiset/Defs.html#Multiset.prod">prod</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_prod_gt</span> : <span class="fn">n</span> <a href=".././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">m</span> <a href=".././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">L</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hM_card_pos</span> : <span class="fn">0</span> <a href=".././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn">M</span>.<a href=".././Mathlib/Data/Multiset/Defs.html#Multiset.card">card</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hL_ge_2</span> : <span class="fn">2</span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn">L</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">(<span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.addFactor">addFactor</a></span> <span class="fn">m</span> <span class="fn">hm</span> <span class="fn">hm_pos</span>)</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.score">score</a></span> <span class="fn">L</span></span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn"><span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.score">score</a></span> <span class="fn">L</span></span></div></div><p>Adding a submultiset <code><a href=".././PrimeNumberTheoremAnd/Defs.html#M">M</a></code> of deficit primes reduces the score if <code><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a> &lt; M.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.prod">prod</a> * <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a></code>.</p></div></div><div class="decl" id="Erdos392.Factorization.lower_score_1"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L628-L645">source</a></div><div class="verification_link">
<a href="../../modules/PrimeNumberTheoremAnd_Erdos392.html#Erdos392.Factorization.lower_score_1" class="verification-badge mathematical" title="Mathematical property (specification layer)">üìê coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.lower_score_1"><span class="name">Erdos392</span>.<span class="name">Factorization</span>.<span class="name">lower_score_1</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization">Factorization</a> <span class="fn">n</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">L</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hf</span> : <span class="fn">‚àÉ <span class="fn">p</span> ‚àà <span class="fn">(<span class="fn">n</span> <a href=".././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>).<a href=".././Mathlib/NumberTheory/SmoothNumbers.html#Nat.primesBelow">primesBelow</a></span>, <span class="fn"><span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.balance">balance</a></span> <span class="fn">p</span></span> <a href=".././Init/Prelude.html#GT.gt">&gt;</a> <span class="fn">0</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">‚àÉ (<span class="fn">f'</span> : <span class="fn"><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization">Factorization</a> <span class="fn">n</span></span>), <span class="fn"><span class="fn">f'</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.total_imbalance">total_imbalance</a></span> <a href=".././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.total_imbalance">total_imbalance</a></span> <a href=".././Init/Prelude.html#And">‚àß</a> <span class="fn"><span class="fn"><span class="fn">f'</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.score">score</a></span> <span class="fn">L</span></span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn"><span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.score">score</a></span> <span class="fn">L</span></span></span></div></div></div></div><div class="decl" id="Erdos392.Factorization.lower_score_2"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L647-L722">source</a></div><div class="verification_link">
<a href="../../modules/PrimeNumberTheoremAnd_Erdos392.html#Erdos392.Factorization.lower_score_2" class="verification-badge mathematical" title="Mathematical property (specification layer)">üìê coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.lower_score_2"><span class="name">Erdos392</span>.<span class="name">Factorization</span>.<span class="name">lower_score_2</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization">Factorization</a> <span class="fn">n</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">L</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hf</span> : <span class="fn">‚àÉ <span class="fn">p</span> ‚àà <span class="fn">(<span class="fn">n</span> <a href=".././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>).<a href=".././Mathlib/NumberTheory/SmoothNumbers.html#Nat.primesBelow">primesBelow</a></span>, <span class="fn">p</span> <a href=".././Init/Prelude.html#GT.gt">&gt;</a> <span class="fn">L</span> <a href=".././Init/Prelude.html#And">‚àß</a> <span class="fn"><span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.balance">balance</a></span> <span class="fn">p</span></span> <a href=".././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">0</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">‚àÉ (<span class="fn">f'</span> : <span class="fn"><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization">Factorization</a> <span class="fn">n</span></span>), <span class="fn"><span class="fn">f'</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.total_imbalance">total_imbalance</a></span> <a href=".././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.total_imbalance">total_imbalance</a></span> <a href=".././Init/Prelude.html#And">‚àß</a> <span class="fn"><span class="fn"><span class="fn">f'</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.score">score</a></span> <span class="fn">L</span></span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn"><span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.score">score</a></span> <span class="fn">L</span></span></span></div></div></div></div><div class="decl" id="Erdos392.Factorization.lower_score_3_case2a"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L724-L768">source</a></div><div class="verification_link">
<a href="../../modules/PrimeNumberTheoremAnd_Erdos392.html#Erdos392.Factorization.lower_score_3_case2a" class="verification-badge mathematical" title="Mathematical property (specification layer)">üìê coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.lower_score_3_case2a"><span class="name">Erdos392</span>.<span class="name">Factorization</span>.<span class="name">lower_score_3_case2a</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization">Factorization</a> <span class="fn">n</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">L</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_surplus</span> : <span class="fn">‚àÄ (<span class="fn">p</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>), <span class="fn"><span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.balance">balance</a></span> <span class="fn">p</span></span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn">0</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hf</span> : <span class="fn">‚àÉ <span class="fn">p</span> ‚àà <span class="fn">(<span class="fn">n</span> <a href=".././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>).<a href=".././Mathlib/NumberTheory/SmoothNumbers.html#Nat.primesBelow">primesBelow</a></span>, <span class="fn">p</span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn">L</span> <a href=".././Init/Prelude.html#And">‚àß</a> <span class="fn"><span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.balance">balance</a></span> <span class="fn">p</span></span> <a href=".././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">0</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hL_gt_n</span> : <span class="fn">L</span> <a href=".././Init/Prelude.html#GT.gt">&gt;</a> <span class="fn">n</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">‚àÉ (<span class="fn">f'</span> : <span class="fn"><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization">Factorization</a> <span class="fn">n</span></span>), <span class="fn"><span class="fn">f'</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.total_imbalance">total_imbalance</a></span> <a href=".././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.total_imbalance">total_imbalance</a></span> <a href=".././Init/Prelude.html#And">‚àß</a> <span class="fn"><span class="fn"><span class="fn">f'</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.score">score</a></span> <span class="fn">L</span></span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn"><span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.score">score</a></span> <span class="fn">L</span></span></span></div></div><p>Case 2a of <code><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.lower_score_3">lower_score_3</a></code>: If <code><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a> &gt; <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></code> and there is a deficit prime, we can add it to reduce
the score.</p></div></div><div class="decl" id="Erdos392.Factorization.lower_score_3_case2b"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L770-L789">source</a></div><div class="verification_link">
<a href="../../modules/PrimeNumberTheoremAnd_Erdos392.html#Erdos392.Factorization.lower_score_3_case2b" class="verification-badge mathematical" title="Mathematical property (specification layer)">üìê coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.lower_score_3_case2b"><span class="name">Erdos392</span>.<span class="name">Factorization</span>.<span class="name">lower_score_3_case2b</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization">Factorization</a> <span class="fn">n</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">L</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_surplus</span> : <span class="fn">‚àÄ (<span class="fn">p</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>), <span class="fn"><span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.balance">balance</a></span> <span class="fn">p</span></span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn">0</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hf</span> : <span class="fn">‚àÉ <span class="fn">p</span> ‚àà <span class="fn">(<span class="fn">n</span> <a href=".././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>).<a href=".././Mathlib/NumberTheory/SmoothNumbers.html#Nat.primesBelow">primesBelow</a></span>, <span class="fn">p</span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn">L</span> <a href=".././Init/Prelude.html#And">‚àß</a> <span class="fn"><span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.balance">balance</a></span> <span class="fn">p</span></span> <a href=".././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">0</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_prod</span> : <span class="fn">n</span> <a href=".././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn">(<span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.deficitMultiset">deficitMultiset</a></span> <span class="fn">L</span>)</span>.<a href=".././Mathlib/Algebra/BigOperators/Group/Multiset/Defs.html#Multiset.prod">prod</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hL_le_n</span> : <span class="fn">L</span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn">n</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">‚àÉ (<span class="fn">f'</span> : <span class="fn"><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization">Factorization</a> <span class="fn">n</span></span>), <span class="fn"><span class="fn">f'</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.total_imbalance">total_imbalance</a></span> <a href=".././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.total_imbalance">total_imbalance</a></span> <a href=".././Init/Prelude.html#And">‚àß</a> <span class="fn"><span class="fn"><span class="fn">f'</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.score">score</a></span> <span class="fn">L</span></span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn"><span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.score">score</a></span> <span class="fn">L</span></span></span></div></div><p>Case 2b of <code><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.lower_score_3">lower_score_3</a></code>: If <code><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a> ‚â§ <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></code> and the product of deficit primes is <code>&gt; <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></code>,
we can find a submultiset to add that reduces the score.</p></div></div><div class="decl" id="Erdos392.Factorization.lower_score_3_clean"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L791-L802">source</a></div><div class="verification_link">
<a href="../../modules/PrimeNumberTheoremAnd_Erdos392.html#Erdos392.Factorization.lower_score_3_clean" class="verification-badge mathematical" title="Mathematical property (specification layer)">üìê coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.lower_score_3_clean"><span class="name">Erdos392</span>.<span class="name">Factorization</span>.<span class="name">lower_score_3_clean</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization">Factorization</a> <span class="fn">n</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">L</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_surplus</span> : <span class="fn">‚àÄ (<span class="fn">p</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>), <span class="fn"><span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.balance">balance</a></span> <span class="fn">p</span></span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn">0</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_deficit_large</span> : <span class="fn">‚àÄ (<span class="fn">p</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>), <span class="fn"><span class="fn"><span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.balance">balance</a></span> <span class="fn">p</span></span> <a href=".././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">0</span> ‚Üí <span class="fn">p</span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn">L</span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hf</span> : <span class="fn">‚àÉ <span class="fn">p</span> ‚àà <span class="fn">(<span class="fn">n</span> <a href=".././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>).<a href=".././Mathlib/NumberTheory/SmoothNumbers.html#Nat.primesBelow">primesBelow</a></span>, <span class="fn">p</span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn">L</span> <a href=".././Init/Prelude.html#And">‚àß</a> <span class="fn"><span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.balance">balance</a></span> <span class="fn">p</span></span> <a href=".././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">0</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">‚àÉ (<span class="fn">f'</span> : <span class="fn"><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization">Factorization</a> <span class="fn">n</span></span>), <span class="fn"><span class="fn">f'</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.total_imbalance">total_imbalance</a></span> <a href=".././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.total_imbalance">total_imbalance</a></span> <a href=".././Init/Prelude.html#And">‚àß</a> <span class="fn"><span class="fn"><span class="fn">f'</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.score">score</a></span> <span class="fn">L</span></span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn"><span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.score">score</a></span> <span class="fn">L</span></span></span></div></div><p>The clean case of <code><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.lower_score_3">lower_score_3</a></code>, combining the three subcases.</p></div></div><div class="decl" id="Erdos392.Factorization.lower_score_3"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L804-L835">source</a></div><div class="verification_link">
<a href="../../modules/PrimeNumberTheoremAnd_Erdos392.html#Erdos392.Factorization.lower_score_3" class="verification-badge mathematical" title="Mathematical property (specification layer)">üìê coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.lower_score_3"><span class="name">Erdos392</span>.<span class="name">Factorization</span>.<span class="name">lower_score_3</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization">Factorization</a> <span class="fn">n</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">L</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hf</span> : <span class="fn">‚àÉ <span class="fn">p</span> ‚àà <span class="fn">(<span class="fn">n</span> <a href=".././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>).<a href=".././Mathlib/NumberTheory/SmoothNumbers.html#Nat.primesBelow">primesBelow</a></span>, <span class="fn">p</span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn">L</span> <a href=".././Init/Prelude.html#And">‚àß</a> <span class="fn"><span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.balance">balance</a></span> <span class="fn">p</span></span> <a href=".././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">0</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">‚àÉ (<span class="fn">f'</span> : <span class="fn"><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization">Factorization</a> <span class="fn">n</span></span>), <span class="fn"><span class="fn">f'</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.total_imbalance">total_imbalance</a></span> <a href=".././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.total_imbalance">total_imbalance</a></span> <a href=".././Init/Prelude.html#And">‚àß</a> <span class="fn"><span class="fn"><span class="fn">f'</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.score">score</a></span> <span class="fn">L</span></span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn"><span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.score">score</a></span> <span class="fn">L</span></span></span></div></div></div></div><div class="decl" id="Erdos392.Factorization.lowest_score"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L837-L865">source</a></div><div class="verification_link">
<a href="../../modules/PrimeNumberTheoremAnd_Erdos392.html#Erdos392.Factorization.lowest_score" class="verification-badge mathematical" title="Mathematical property (specification layer)">üìê coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.lowest_score"><span class="name">Erdos392</span>.<span class="name">Factorization</span>.<span class="name">lowest_score</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization">Factorization</a> <span class="fn">n</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">L</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">‚àÉ (<span class="fn">f'</span> : <span class="fn"><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization">Factorization</a> <span class="fn">n</span></span>), <span class="fn"><span class="fn">f'</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.total_imbalance">total_imbalance</a></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">0</span> <a href=".././Init/Prelude.html#And">‚àß</a> <span class="fn"><span class="fn"><span class="fn">f'</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.score">score</a></span> <span class="fn">L</span></span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn"><span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.score">score</a></span> <span class="fn">L</span></span></span></div></div></div></div><div class="decl" id="Erdos392.Factorization.card_bound"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L867-L879">source</a></div><div class="verification_link">
<a href="../../modules/PrimeNumberTheoremAnd_Erdos392.html#Erdos392.Factorization.card_bound" class="verification-badge mathematical" title="Mathematical property (specification layer)">üìê coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.card_bound"><span class="name">Erdos392</span>.<span class="name">Factorization</span>.<span class="name">card_bound</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization">Factorization</a> <span class="fn">n</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">L</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">‚àÉ (<span class="fn">f'</span> : <span class="fn"><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization">Factorization</a> <span class="fn">n</span></span>), <span class="fn"><span class="fn">f'</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.total_imbalance">total_imbalance</a></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">0</span> <a href=".././Init/Prelude.html#And">‚àß</a> <span class="fn">‚Üë<span class="fn"><span class="fn"><span class="fn">f'</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.a">a</a></span>.<a href=".././Mathlib/Data/Multiset/Defs.html#Multiset.card">card</a></span></span> <a href=".././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><a href=".././Mathlib/Analysis/SpecialFunctions/Log/Basic.html#Real.log">Real.log</a> <span class="fn">‚Üë<span class="fn">n</span></span></span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn"><a href=".././Mathlib/Analysis/SpecialFunctions/Log/Basic.html#Real.log">Real.log</a> <span class="fn">‚Üë<span class="fn"><span class="fn">n</span>.<a href=".././Mathlib/Data/Nat/Factorial/Basic.html#Nat.factorial">factorial</a></span></span></span> <a href=".././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn"><span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.score">score</a></span> <span class="fn">L</span></span></span></div></div></div></div><div class="decl" id="Erdos392.Params"><div class="structure"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L881-L892">source</a></div><div class="verification_link">
<a href="../../modules/PrimeNumberTheoremAnd_Erdos392.html#Erdos392.Params" class="verification-badge comp-datatype" title="Computational datatype">üî∂ coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params"><span class="name">Erdos392</span>.<span class="name">Params</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href=".././foundational_types.html">Type</a></div></div><ul class="structure_fields" id="Erdos392.Params.mk"><li id="Erdos392.Params.n" class="structure_field"><div class="structure_field_info">n : <a href=".././Init/Prelude.html#Nat">‚Ñï</a></div></li><li id="Erdos392.Params.M" class="structure_field"><div class="structure_field_info">M : <a href=".././Init/Prelude.html#Nat">‚Ñï</a></div></li><li id="Erdos392.Params.L" class="structure_field"><div class="structure_field_info">L : <a href=".././Init/Prelude.html#Nat">‚Ñï</a></div></li><li id="Erdos392.Params.hM" class="structure_field"><div class="structure_field_info">hM : <span class="fn"><span class="fn">self</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.M">M</a></span> <a href=".././Init/Prelude.html#GT.gt">&gt;</a> <span class="fn">1</span></div></li><li id="Erdos392.Params.hL_pos" class="structure_field"><div class="structure_field_info">hL_pos : <span class="fn"><span class="fn">self</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a></span> <a href=".././Init/Prelude.html#GT.gt">&gt;</a> <span class="fn">0</span></div></li><li id="Erdos392.Params.hL" class="structure_field"><div class="structure_field_info">hL : <span class="fn"><span class="fn">self</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span> <a href=".././Init/Prelude.html#GT.gt">&gt;</a> <span class="fn"><span class="fn">self</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a></span> <a href=".././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><span class="fn">self</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a></span></div></li><li id="Erdos392.Params.hL'" class="structure_field"><div class="structure_field_info">hL' : <span class="fn">‚Üë(<span class="fn"><span class="fn">self</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span> <a href=".././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn"><span class="fn">self</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a></span>)</span> <a href=".././Init/Prelude.html#GT.gt">&gt;</a> <a href=".././Mathlib/Data/Real/Sqrt.html#Real.sqrt">‚àö</a><span class="fn">‚Üë<span class="fn"><span class="fn">self</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span></span></div></li></ul><details id="instances-for-list-Erdos392.Params" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Erdos392.Params.initial"><div class="def"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L894-L911">source</a></div><div class="verification_link">
<a href="../../modules/PrimeNumberTheoremAnd_Erdos392.html#Erdos392.Params.initial" class="verification-badge comp-operation" title="Computational operation (Bool/decidable)">üî∏ coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.initial"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">P</span> : <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params">Params</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization">Factorization</a> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span></span></div></div><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-Erdos392.Params.initial" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Erdos392.Params.initial.card"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L913-L926">source</a></div><div class="verification_link">
<a href="../../modules/PrimeNumberTheoremAnd_Erdos392.html#Erdos392.Params.initial.card" class="verification-badge mathematical" title="Mathematical property (specification layer)">üìê coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.initial.card"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial</span>.<span class="name">card</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">P</span> : <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params">Params</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.initial">initial</a></span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.a">a</a></span>.<a href=".././Mathlib/Data/Multiset/Defs.html#Multiset.card">card</a></span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span></div></div></div></div><div class="decl" id="Erdos392.Params.initial.mem_range"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L928-L933">source</a></div><div class="verification_link">
<a href="../../modules/PrimeNumberTheoremAnd_Erdos392.html#Erdos392.Params.initial.mem_range" class="verification-badge mathematical" title="Mathematical property (specification layer)">üìê coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.initial.mem_range"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial</span>.<span class="name">mem_range</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">P</span> : <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params">Params</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">m</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hm</span> : <span class="fn">m</span> <a href=".././Init/Prelude.html#Membership.mem">‚àà</a> <span class="fn"><span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.initial">initial</a></span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.a">a</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span> <a href=".././Init/Prelude.html#HSub.hSub">-</a> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span> <a href=".././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.M">M</a></span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn">m</span> <a href=".././Init/Prelude.html#And">‚àß</a> <span class="fn">m</span> <a href=".././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span></div></div><p>Elements of the initial factorization lie in the interval <code>[n - n/M, n)</code>.</p></div></div><div class="decl" id="Erdos392.Params.initial.div_le"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L935-L950">source</a></div><div class="verification_link">
<a href="../../modules/PrimeNumberTheoremAnd_Erdos392.html#Erdos392.Params.initial.div_le" class="verification-badge mathematical" title="Mathematical property (specification layer)">üìê coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.initial.div_le"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial</span>.<span class="name">div_le</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">P</span> : <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params">Params</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">m</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hm</span> : <span class="fn">m</span> <a href=".././Init/Prelude.html#Membership.mem">‚àà</a> <span class="fn"><span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.initial">initial</a></span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.a">a</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">‚Üë<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span></span> <a href=".././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn">‚Üë<span class="fn">m</span></span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> (<span class="fn">1</span> <a href=".././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">1</span> <a href=".././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn">‚Üë<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.M">M</a></span></span>)<a href=".././Init/Prelude.html#Inv.inv">‚Åª¬π</a></div></div><p>For elements <code>m</code> in the initial factorization, <code>n/m ‚â§ (1 - 1/M)‚Åª¬π</code>.</p></div></div><div class="decl" id="Erdos392.Params.initial.waste"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L952-L977">source</a></div><div class="verification_link">
<a href="../../modules/PrimeNumberTheoremAnd_Erdos392.html#Erdos392.Params.initial.waste" class="verification-badge mathematical" title="Mathematical property (specification layer)">üìê coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.initial.waste"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial</span>.<span class="name">waste</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">P</span> : <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params">Params</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.initial">initial</a></span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.waste">waste</a></span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn">‚Üë<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span></span> <a href=".././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><a href=".././Mathlib/Analysis/SpecialFunctions/Log/Basic.html#Real.log">Real.log</a> (<span class="fn">1</span> <a href=".././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">1</span> <a href=".././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn">‚Üë<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.M">M</a></span></span>)<a href=".././Init/Prelude.html#Inv.inv">‚Åª¬π</a></span></div></div></div></div><div class="decl" id="Erdos392.Params.initial.balance_large_prime_le"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L979-L994">source</a></div><div class="verification_link">
<a href="../../modules/PrimeNumberTheoremAnd_Erdos392.html#Erdos392.Params.initial.balance_large_prime_le" class="verification-badge mathematical" title="Mathematical property (specification layer)">üìê coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.initial.balance_large_prime_le"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial</span>.<span class="name">balance_large_prime_le</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">P</span> : <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params">Params</a>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">p</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">hp</span> : <span class="fn">p</span> <a href=".././Init/Prelude.html#GE.ge">‚â•</a> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span> <a href=".././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.initial">initial</a></span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.balance">balance</a></span> <span class="fn">p</span></span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn">0</span></div></div></div></div><div class="decl" id="Erdos392.Params.initial.factorial_factorization_eq_div"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L996-L1014">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.initial.factorial_factorization_eq_div"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial</span>.<span class="name">factorial_factorization_eq_div</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n </span><span class="fn">p</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">hp</span> : <span class="fn"><a href=".././Mathlib/Data/Nat/Prime/Defs.html#Nat.Prime">Nat.Prime</a> <span class="fn">p</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_sqrt</span> : <span class="fn">‚Üë<span class="fn">p</span></span> <a href=".././Init/Prelude.html#GT.gt">&gt;</a> <a href=".././Mathlib/Data/Real/Sqrt.html#Real.sqrt">‚àö</a><span class="fn">‚Üë<span class="fn">n</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn"><span class="fn">n</span>.<a href=".././Mathlib/Data/Nat/Factorial/Basic.html#Nat.factorial">factorial</a></span>.<a href=".././Mathlib/Data/Nat/Factorization/Defs.html#Nat.factorization">factorization</a></span> <span class="fn">p</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">n</span> <a href=".././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn">p</span></div></div><p>For primes <code>p &gt; ‚àön</code>, the <code>p</code>-adic valuation of <code>n!</code> equals <code>‚åän/p‚åã</code>. This follows from
Legendre's formula since <code>p¬≤ &gt; <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></code> implies all higher power terms vanish.</p></div></div><div class="decl" id="Erdos392.Params.initial.balance_large_prime_ge"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L1016-L1047">source</a></div><div class="verification_link">
<a href="../../modules/PrimeNumberTheoremAnd_Erdos392.html#Erdos392.Params.initial.balance_large_prime_ge" class="verification-badge mathematical" title="Mathematical property (specification layer)">üìê coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.initial.balance_large_prime_ge"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial</span>.<span class="name">balance_large_prime_ge</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">P</span> : <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params">Params</a>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">p</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">hp</span> : <span class="fn">p</span> <a href=".././Init/Prelude.html#GE.ge">‚â•</a> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span> <a href=".././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.initial">initial</a></span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.balance">balance</a></span> <span class="fn">p</span></span> <a href=".././Init/Prelude.html#GE.ge">‚â•</a> <a href=".././Init/Prelude.html#Neg.neg">-</a>(<span class="fn">‚Üë<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span></span> <a href=".././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn">‚Üë<span class="fn">p</span></span>)</div></div></div></div><div class="decl" id="Erdos392.Params.initial.count_multiples_le"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L1049-L1069">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.initial.count_multiples_le"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial</span>.<span class="name">count_multiples_le</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">A </span><span class="fn">B </span><span class="fn">p</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hp</span> : <span class="fn">p</span> <a href=".././Init/Prelude.html#GT.gt">&gt;</a> <span class="fn">0</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">{<span class="fn">x</span> ‚àà <span class="fn"><a href=".././Mathlib/Order/Interval/Finset/Defs.html#Finset.Ico">Finset.Ico</a> <span class="fn">A</span> <span class="fn">B</span></span> | <span class="fn">p</span> <a href=".././Init/Prelude.html#Dvd.dvd">‚à£</a> <span class="fn">x</span>}</span>.<a href=".././Mathlib/Data/Finset/Card.html#Finset.card">card</a></span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> (<span class="fn">B</span> <a href=".././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">A</span> <a href=".././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">p</span> <a href=".././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">1</span>) <a href=".././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn">p</span></div></div><p>The number of multiples of <code>p</code> in <code>[A, B)</code> is at most <code>‚åà(B - A)/p‚åâ</code>, computed as
<code>(B - A + p - 1) / p</code>.</p></div></div><div class="decl" id="Erdos392.Params.initial.count_bound_aux"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L1071-L1081">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.initial.count_bound_aux"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial</span>.<span class="name">count_bound_aux</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">n </span><span class="fn">M </span><span class="fn">p</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hp</span> : <span class="fn">p</span> <a href=".././Init/Prelude.html#GT.gt">&gt;</a> <span class="fn">0</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">M</span> <a href=".././Init/Prelude.html#HMul.hMul">*</a> ((<span class="fn">n</span> <a href=".././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn">M</span> <a href=".././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">p</span> <a href=".././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">1</span>) <a href=".././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn">p</span>) <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn">n</span> <a href=".././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn">p</span> <a href=".././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">M</span></div></div><p>An auxiliary bound <code><a href=".././PrimeNumberTheoremAnd/Defs.html#M">M</a> ¬∑ ‚åà(n/M)/p‚åâ ‚â§ ‚åän/p‚åã + <a href=".././PrimeNumberTheoremAnd/Defs.html#M">M</a></code>, where the ceiling is computed as
<code>(n/M + p - 1) / p</code>.</p></div></div><div class="decl" id="Erdos392.Params.initial.sum_valuation_le_M_mul_interval_count"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L1083-L1111">source</a></div><div class="verification_link">
<a href="../../modules/PrimeNumberTheoremAnd_Erdos392.html#Erdos392.Params.initial.sum_valuation_le_M_mul_interval_count" class="verification-badge mathematical" title="Mathematical property (specification layer)">üìê coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.initial.sum_valuation_le_M_mul_interval_count"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial</span>.<span class="name">sum_valuation_le_M_mul_interval_count</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">P</span> : <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params">Params</a>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">p</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">hp'</span> : <span class="fn">‚Üë<span class="fn">p</span></span> <a href=".././Init/Prelude.html#GT.gt">&gt;</a> <a href=".././Mathlib/Data/Real/Sqrt.html#Real.sqrt">‚àö</a><span class="fn">‚Üë<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">(<a href=".././Mathlib/Data/Multiset/MapFold.html#Multiset.map">Multiset.map</a> <span class="fn">(fun (<span class="fn">x</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>) =&gt; <span class="fn"><span class="fn"><span class="fn">x</span>.<a href=".././Mathlib/Data/Nat/Factorization/Defs.html#Nat.factorization">factorization</a></span> <span class="fn">p</span></span>)</span> <span class="fn"><span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.initial">initial</a></span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.a">a</a></span>)</span>.<a href=".././Mathlib/Algebra/BigOperators/Group/Multiset/Defs.html#Multiset.sum">sum</a></span> <a href=".././Init/Prelude.html#LE.le">‚â§</a>   <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.M">M</a></span> <a href=".././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><span class="fn">{<span class="fn">x</span> ‚àà <span class="fn"><a href=".././Mathlib/Order/Interval/Finset/Defs.html#Finset.Ico">Finset.Ico</a> (<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span> <a href=".././Init/Prelude.html#HSub.hSub">-</a> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span> <a href=".././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.M">M</a></span>) <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span></span> | <span class="fn">p</span> <a href=".././Init/Prelude.html#Dvd.dvd">‚à£</a> <span class="fn">x</span>}</span>.<a href=".././Mathlib/Data/Finset/Card.html#Finset.card">card</a></span></div></div><p>For primes <code>p &gt; ‚àön</code>, the sum of <code>p</code>-adic valuations in the initial factorization is bounded by
<code><a href=".././PrimeNumberTheoremAnd/Defs.html#M">M</a></code> times the count of multiples of <code>p</code> in <code>[n - n/M, n)</code>.</p></div></div><div class="decl" id="Erdos392.Params.initial.balance_medium_prime_le"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L1113-L1131">source</a></div><div class="verification_link">
<a href="../../modules/PrimeNumberTheoremAnd_Erdos392.html#Erdos392.Params.initial.balance_medium_prime_le" class="verification-badge mathematical" title="Mathematical property (specification layer)">üìê coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.initial.balance_medium_prime_le"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial</span>.<span class="name">balance_medium_prime_le</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">P</span> : <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params">Params</a>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">p</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">hp</span> : <span class="fn">‚Üë<span class="fn">p</span></span> <a href=".././Init/Prelude.html#GT.gt">&gt;</a> <a href=".././Mathlib/Data/Real/Sqrt.html#Real.sqrt">‚àö</a><span class="fn">‚Üë<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.initial">initial</a></span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.balance">balance</a></span> <span class="fn">p</span></span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn">‚Üë<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.M">M</a></span></span></div></div></div></div><div class="decl" id="Erdos392.Params.initial.smooth_of_multiple"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L1133-L1146">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.initial.smooth_of_multiple"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial</span>.<span class="name">smooth_of_multiple</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">P</span> : <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params">Params</a>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">p </span><span class="fn">m</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">hp</span> : <span class="fn">‚Üë<span class="fn">p</span></span> <a href=".././Init/Prelude.html#GT.gt">&gt;</a> <a href=".././Mathlib/Data/Real/Sqrt.html#Real.sqrt">‚àö</a><span class="fn">‚Üë<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hps</span> : <span class="fn">p</span> <a href=".././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span> <a href=".././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hm</span> : <span class="fn">m</span> <a href=".././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hm0</span> : <span class="fn">m</span> <a href=".././Init/Core.html#Ne">‚â†</a> <span class="fn">0</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hpm</span> : <span class="fn">p</span> <a href=".././Init/Prelude.html#Dvd.dvd">‚à£</a> <span class="fn">m</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">m</span> <a href=".././Init/Prelude.html#Membership.mem">‚àà</a> <span class="fn">(<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span> <a href=".././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a></span>).<a href=".././Mathlib/NumberTheory/SmoothNumbers.html#Nat.smoothNumbers">smoothNumbers</a></span></div></div><p>If <code>‚àön &lt; p &lt; n/L</code> and <code>p ‚à£ m</code> with <code>0 &lt; m &lt; <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></code>, then <code>m</code> is <code>(n/L)</code>-smooth.</p></div></div><div class="decl" id="Erdos392.Params.initial.valuation_eq_one"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L1148-L1157">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.initial.valuation_eq_one"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial</span>.<span class="name">valuation_eq_one</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">P</span> : <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params">Params</a>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">p </span><span class="fn">m</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">hp</span> : <span class="fn"><a href=".././Mathlib/Data/Nat/Prime/Defs.html#Nat.Prime">Nat.Prime</a> <span class="fn">p</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hp'</span> : <span class="fn">‚Üë<span class="fn">p</span></span> <a href=".././Init/Prelude.html#GT.gt">&gt;</a> <a href=".././Mathlib/Data/Real/Sqrt.html#Real.sqrt">‚àö</a><span class="fn">‚Üë<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hm</span> : <span class="fn">m</span> <a href=".././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hm0</span> : <span class="fn">m</span> <a href=".././Init/Core.html#Ne">‚â†</a> <span class="fn">0</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hpm</span> : <span class="fn">p</span> <a href=".././Init/Prelude.html#Dvd.dvd">‚à£</a> <span class="fn">m</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">m</span>.<a href=".././Mathlib/Data/Nat/Factorization/Defs.html#Nat.factorization">factorization</a></span> <span class="fn">p</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">1</span></div></div><p>For <code>‚àön &lt; p</code> prime and <code>p ‚à£ m</code> with <code>0 &lt; m &lt; <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></code>, we have <code>ŒΩ_p(m) = 1</code> since <code>p¬≤ &gt; <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a> ‚â• m</code>.</p></div></div><div class="decl" id="Erdos392.Params.initial.count_multiples_lower_bound"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L1159-L1191">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.initial.count_multiples_lower_bound"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial</span>.<span class="name">count_multiples_lower_bound</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">n </span><span class="fn">M </span><span class="fn">p</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hM</span> : <span class="fn">M</span> <a href=".././Init/Prelude.html#GT.gt">&gt;</a> <span class="fn">0</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hp</span> : <span class="fn">p</span> <a href=".././Init/Prelude.html#GT.gt">&gt;</a> <span class="fn">0</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">M</span> <a href=".././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><span class="fn">{<span class="fn">x</span> ‚àà <span class="fn"><a href=".././Mathlib/Order/Interval/Finset/Defs.html#Finset.Ico">Finset.Ico</a> (<span class="fn">n</span> <a href=".././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">n</span> <a href=".././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn">M</span>) <span class="fn">n</span></span> | <span class="fn">p</span> <a href=".././Init/Prelude.html#Dvd.dvd">‚à£</a> <span class="fn">x</span>}</span>.<a href=".././Mathlib/Data/Finset/Card.html#Finset.card">card</a></span> <a href=".././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">M</span> <a href=".././Init/Prelude.html#GE.ge">‚â•</a> <span class="fn">n</span> <a href=".././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn">p</span></div></div><p>The interval <code>[n - n/M, n)</code> contains at least <code>‚åän/M‚åã/p</code> multiples of <code>p</code>.</p></div></div><div class="decl" id="Erdos392.Params.initial.valuation_eq_indicator"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L1193-L1201">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.initial.valuation_eq_indicator"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial</span>.<span class="name">valuation_eq_indicator</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">P</span> : <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params">Params</a>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">p </span><span class="fn">m</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">hp</span> : <span class="fn"><a href=".././Mathlib/Data/Nat/Prime/Defs.html#Nat.Prime">Nat.Prime</a> <span class="fn">p</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hp'</span> : <span class="fn">‚Üë<span class="fn">p</span></span> <a href=".././Init/Prelude.html#GT.gt">&gt;</a> <a href=".././Mathlib/Data/Real/Sqrt.html#Real.sqrt">‚àö</a><span class="fn">‚Üë<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hps</span> : <span class="fn">p</span> <a href=".././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span> <a href=".././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hm</span> : <span class="fn">m</span> <a href=".././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hm0</span> : <span class="fn">m</span> <a href=".././Init/Core.html#Ne">‚â†</a> <span class="fn">0</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type">(<a href=".././Init/Prelude.html#ite">if</a> <span class="fn">m</span> <a href=".././Init/Prelude.html#Membership.mem">‚àà</a> <span class="fn">(<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span> <a href=".././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a></span>).<a href=".././Mathlib/NumberTheory/SmoothNumbers.html#Nat.smoothNumbers">smoothNumbers</a></span> <a href=".././Init/Prelude.html#ite">then</a> <span class="fn"><span class="fn"><span class="fn">m</span>.<a href=".././Mathlib/Data/Nat/Factorization/Defs.html#Nat.factorization">factorization</a></span> <span class="fn">p</span></span> <a href=".././Init/Prelude.html#ite">else</a> <span class="fn">0</span>) <a href=".././Init/Prelude.html#Eq">=</a> <a href=".././Init/Prelude.html#ite">if</a> <span class="fn">p</span> <a href=".././Init/Prelude.html#Dvd.dvd">‚à£</a> <span class="fn">m</span> <a href=".././Init/Prelude.html#ite">then</a> <span class="fn">1</span> <a href=".././Init/Prelude.html#ite">else</a> <span class="fn">0</span></div></div><p>For <code>‚àön &lt; p &lt; n/L</code> and <code>0 &lt; m &lt; <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></code>: smooth <code>m</code> has <code>ŒΩ_p(m) = 1</code> iff <code>p ‚à£ m</code>.</p></div></div><div class="decl" id="Erdos392.Params.initial.sum_valuation_eq"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L1203-L1224">source</a></div><div class="verification_link">
<a href="../../modules/PrimeNumberTheoremAnd_Erdos392.html#Erdos392.Params.initial.sum_valuation_eq" class="verification-badge mathematical" title="Mathematical property (specification layer)">üìê coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.initial.sum_valuation_eq"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial</span>.<span class="name">sum_valuation_eq</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">P</span> : <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params">Params</a>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">p</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">hp</span> : <span class="fn"><a href=".././Mathlib/Data/Nat/Prime/Defs.html#Nat.Prime">Nat.Prime</a> <span class="fn">p</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hp'</span> : <span class="fn">‚Üë<span class="fn">p</span></span> <a href=".././Init/Prelude.html#GT.gt">&gt;</a> <a href=".././Mathlib/Data/Real/Sqrt.html#Real.sqrt">‚àö</a><span class="fn">‚Üë<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hps</span> : <span class="fn">p</span> <a href=".././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span> <a href=".././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">(<a href=".././Mathlib/Data/Multiset/MapFold.html#Multiset.map">Multiset.map</a> <span class="fn">(fun (<span class="fn">x</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>) =&gt; <span class="fn"><span class="fn"><span class="fn">x</span>.<a href=".././Mathlib/Data/Nat/Factorization/Defs.html#Nat.factorization">factorization</a></span> <span class="fn">p</span></span>)</span> <span class="fn"><span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.initial">initial</a></span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.a">a</a></span>)</span>.<a href=".././Mathlib/Algebra/BigOperators/Group/Multiset/Defs.html#Multiset.sum">sum</a></span> <a href=".././Init/Prelude.html#Eq">=</a>   <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.M">M</a></span> <a href=".././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><span class="fn">{<span class="fn">x</span> ‚àà <span class="fn"><a href=".././Mathlib/Order/Interval/Finset/Defs.html#Finset.Ico">Finset.Ico</a> (<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span> <a href=".././Init/Prelude.html#HSub.hSub">-</a> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span> <a href=".././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.M">M</a></span>) <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span></span> | <span class="fn">p</span> <a href=".././Init/Prelude.html#Dvd.dvd">‚à£</a> <span class="fn">x</span>}</span>.<a href=".././Mathlib/Data/Finset/Card.html#Finset.card">card</a></span></div></div><p>For <code>‚àön &lt; p &lt; n/L</code>, <code>‚àë_{a ‚àà initial.a} ŒΩ_p(a) = <a href=".././PrimeNumberTheoremAnd/Defs.html#M">M</a> ¬∑ #{m ‚àà [n-n/M, n) : p ‚à£ m}</code>.</p></div></div><div class="decl" id="Erdos392.Params.initial.balance_medium_prime_ge"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L1226-L1241">source</a></div><div class="verification_link">
<a href="../../modules/PrimeNumberTheoremAnd_Erdos392.html#Erdos392.Params.initial.balance_medium_prime_ge" class="verification-badge mathematical" title="Mathematical property (specification layer)">üìê coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.initial.balance_medium_prime_ge"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial</span>.<span class="name">balance_medium_prime_ge</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">P</span> : <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params">Params</a>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">p</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">hp</span> : <span class="fn">p</span> <a href=".././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span> <a href=".././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hp'</span> : <span class="fn">‚Üë<span class="fn">p</span></span> <a href=".././Init/Prelude.html#GT.gt">&gt;</a> <a href=".././Mathlib/Data/Real/Sqrt.html#Real.sqrt">‚àö</a><span class="fn">‚Üë<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.initial">initial</a></span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.balance">balance</a></span> <span class="fn">p</span></span> <a href=".././Init/Prelude.html#GE.ge">‚â•</a> <a href=".././Init/Prelude.html#Neg.neg">-</a><span class="fn">‚Üë<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.M">M</a></span></span></div></div></div></div><div class="decl" id="Erdos392.sum_factorization_eq_sum_multiples"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L1243-L1261">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.sum_factorization_eq_sum_multiples"><span class="name">Erdos392</span>.<span class="name">sum_factorization_eq_sum_multiples</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">A </span><span class="fn">B </span><span class="fn">p</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">hp</span> : <span class="fn"><a href=".././Mathlib/Data/Nat/Prime/Defs.html#Nat.Prime">Nat.Prime</a> <span class="fn">p</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hA</span> : <span class="fn">0</span> <a href=".././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">A</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">‚àë <span class="fn">m</span> ‚àà <span class="fn"><a href=".././Mathlib/Order/Interval/Finset/Defs.html#Finset.Ico">Finset.Ico</a> <span class="fn">A</span> <span class="fn">B</span></span>, <span class="fn"><span class="fn"><span class="fn">m</span>.<a href=".././Mathlib/Data/Nat/Factorization/Defs.html#Nat.factorization">factorization</a></span> <span class="fn">p</span></span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">‚àë <span class="fn">k</span> ‚àà <span class="fn"><a href=".././Mathlib/Order/Interval/Finset/Defs.html#Finset.Ico">Finset.Ico</a> <span class="fn">1</span> <span class="fn">B</span></span>, <span class="fn"><span class="fn">{<span class="fn">x</span> ‚àà <span class="fn"><a href=".././Mathlib/Order/Interval/Finset/Defs.html#Finset.Ico">Finset.Ico</a> <span class="fn">A</span> <span class="fn">B</span></span> | <span class="fn">p</span> <a href=".././Init/Prelude.html#HPow.hPow">^</a> <span class="fn">k</span> <a href=".././Init/Prelude.html#Dvd.dvd">‚à£</a> <span class="fn">x</span>}</span>.<a href=".././Mathlib/Data/Finset/Card.html#Finset.card">card</a></span></span></div></div><p>The sum of <code>p</code>-adic valuations of numbers in an interval equals the sum over <code>k</code> of the count of
multiples of <code>p^k</code> in that interval.</p></div></div><div class="decl" id="Erdos392.Params.initial.term_bound"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L1263-L1278">source</a></div><div class="verification_link">
<a href="../../modules/PrimeNumberTheoremAnd_Erdos392.html#Erdos392.Params.initial.term_bound" class="verification-badge mathematical" title="Mathematical property (specification layer)">üìê coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.initial.term_bound"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial</span>.<span class="name">term_bound</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">P</span> : <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params">Params</a>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">p </span><span class="fn">k</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">hp</span> : <span class="fn"><a href=".././Mathlib/Data/Nat/Prime/Defs.html#Nat.Prime">Nat.Prime</a> <span class="fn">p</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.M">M</a></span> <a href=".././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><span class="fn">{<span class="fn">x</span> ‚àà <span class="fn"><a href=".././Mathlib/Order/Interval/Finset/Defs.html#Finset.Ico">Finset.Ico</a> (<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span> <a href=".././Init/Prelude.html#HSub.hSub">-</a> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span> <a href=".././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.M">M</a></span>) <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span></span> | <span class="fn">p</span> <a href=".././Init/Prelude.html#HPow.hPow">^</a> <span class="fn">k</span> <a href=".././Init/Prelude.html#Dvd.dvd">‚à£</a> <span class="fn">x</span>}</span>.<a href=".././Mathlib/Data/Finset/Card.html#Finset.card">card</a></span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span> <a href=".././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn">p</span> <a href=".././Init/Prelude.html#HPow.hPow">^</a> <span class="fn">k</span> <a href=".././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.M">M</a></span></div></div><p>The contribution of the <code>k</code>-th power of <code>p</code> to the balance is bounded by <code><a href=".././PrimeNumberTheoremAnd/Defs.html#M">M</a></code>.
Specifically, <code><a href=".././PrimeNumberTheoremAnd/Defs.html#M">M</a> * count(p^k) ‚â§ floor(n/p^k) + <a href=".././PrimeNumberTheoremAnd/Defs.html#M">M</a></code>.</p></div></div><div class="decl" id="Erdos392.Params.initial.sum_valuation_le"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L1280-L1301">source</a></div><div class="verification_link">
<a href="../../modules/PrimeNumberTheoremAnd_Erdos392.html#Erdos392.Params.initial.sum_valuation_le" class="verification-badge mathematical" title="Mathematical property (specification layer)">üìê coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.initial.sum_valuation_le"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial</span>.<span class="name">sum_valuation_le</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">P</span> : <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params">Params</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">p</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">(<span class="fn"><span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.initial">initial</a></span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.sum">sum</a></span> <span class="fn">fun (<span class="fn">m</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>) =&gt; <span class="fn"><span class="fn"><span class="fn">m</span>.<a href=".././Mathlib/Data/Nat/Factorization/Defs.html#Nat.factorization">factorization</a></span> <span class="fn">p</span></span></span>)</span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.M">M</a></span> <a href=".././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">‚àë <span class="fn">m</span> ‚àà <span class="fn"><a href=".././Mathlib/Order/Interval/Finset/Defs.html#Finset.Ico">Finset.Ico</a> (<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span> <a href=".././Init/Prelude.html#HSub.hSub">-</a> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span> <a href=".././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.M">M</a></span>) <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span></span>, <span class="fn"><span class="fn"><span class="fn">m</span>.<a href=".././Mathlib/Data/Nat/Factorization/Defs.html#Nat.factorization">factorization</a></span> <span class="fn">p</span></span></span></div></div><p>The sum of valuations in the initial factorization is bounded by <code><a href=".././PrimeNumberTheoremAnd/Defs.html#M">M</a></code> times the sum of
valuations in the interval. This is because the initial factorization is a subset of <code><a href=".././PrimeNumberTheoremAnd/Defs.html#M">M</a></code> copies
of the interval.</p></div></div><div class="decl" id="Erdos392.Params.initial.balance_small_prime_le"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L1303-L1370">source</a></div><div class="verification_link">
<a href="../../modules/PrimeNumberTheoremAnd_Erdos392.html#Erdos392.Params.initial.balance_small_prime_le" class="verification-badge mathematical" title="Mathematical property (specification layer)">üìê coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.initial.balance_small_prime_le"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial</span>.<span class="name">balance_small_prime_le</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">P</span> : <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params">Params</a>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">p</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">‚Üë<span class="fn">(<span class="fn"><span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.initial">initial</a></span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.balance">balance</a></span> <span class="fn">p</span>)</span></span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn">‚Üë<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.M">M</a></span></span> <a href=".././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><a href=".././Mathlib/Analysis/SpecialFunctions/Log/Basic.html#Real.log">Real.log</a> <span class="fn">‚Üë<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span></span></span> <a href=".././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn"><a href=".././Mathlib/Analysis/SpecialFunctions/Log/Basic.html#Real.log">Real.log</a> <span class="fn">2</span></span></div></div></div></div><div class="decl" id="Erdos392.Params.initial.smooth_of_dvd_small_prime"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L1372-L1396">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.initial.smooth_of_dvd_small_prime"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial</span>.<span class="name">smooth_of_dvd_small_prime</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">P</span> : <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params">Params</a>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">p </span><span class="fn">m</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">hp</span> : <span class="fn">‚Üë<span class="fn">p</span></span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <a href=".././Mathlib/Data/Real/Sqrt.html#Real.sqrt">‚àö</a><span class="fn">‚Üë<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hpL</span> : <span class="fn">p</span> <a href=".././Init/Prelude.html#GT.gt">&gt;</a> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hm</span> : <span class="fn">m</span> <a href=".././Init/Prelude.html#Membership.mem">‚àà</a> <span class="fn"><a href=".././Mathlib/Order/Interval/Finset/Defs.html#Finset.Ico">Finset.Ico</a> (<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span> <a href=".././Init/Prelude.html#HSub.hSub">-</a> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span> <a href=".././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.M">M</a></span>) <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hpm</span> : <span class="fn">p</span> <a href=".././Init/Prelude.html#Dvd.dvd">‚à£</a> <span class="fn">m</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">m</span> <a href=".././Init/Prelude.html#Membership.mem">‚àà</a> <span class="fn">(<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span> <a href=".././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a></span>).<a href=".././Mathlib/NumberTheory/SmoothNumbers.html#Nat.smoothNumbers">smoothNumbers</a></span></div></div><p>If <code>p</code> is a small prime (<code><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a> &lt; p ‚â§ ‚àön</code>) and <code>m</code> is in the initial interval and divisible by <code>p</code>,
then <code>m</code> is <code>(n/L)</code>-smooth.</p></div></div><div class="decl" id="Erdos392.Params.initial.sum_valuation_eq_small"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L1398-L1455">source</a></div><div class="verification_link">
<a href="../../modules/PrimeNumberTheoremAnd_Erdos392.html#Erdos392.Params.initial.sum_valuation_eq_small" class="verification-badge mathematical" title="Mathematical property (specification layer)">üìê coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.initial.sum_valuation_eq_small"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial</span>.<span class="name">sum_valuation_eq_small</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">P</span> : <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params">Params</a>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">p</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">hp</span> : <span class="fn"><a href=".././Mathlib/Data/Nat/Prime/Defs.html#Nat.Prime">Nat.Prime</a> <span class="fn">p</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hp_le</span> : <span class="fn">‚Üë<span class="fn">p</span></span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <a href=".././Mathlib/Data/Real/Sqrt.html#Real.sqrt">‚àö</a><span class="fn">‚Üë<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hp_gt</span> : <span class="fn">p</span> <a href=".././Init/Prelude.html#GT.gt">&gt;</a> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">(<a href=".././Mathlib/Data/Multiset/MapFold.html#Multiset.map">Multiset.map</a> <span class="fn">(fun (<span class="fn">x</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>) =&gt; <span class="fn"><span class="fn"><span class="fn">x</span>.<a href=".././Mathlib/Data/Nat/Factorization/Defs.html#Nat.factorization">factorization</a></span> <span class="fn">p</span></span>)</span> <span class="fn"><span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.initial">initial</a></span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.a">a</a></span>)</span>.<a href=".././Mathlib/Algebra/BigOperators/Group/Multiset/Defs.html#Multiset.sum">sum</a></span> <a href=".././Init/Prelude.html#Eq">=</a>   <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.M">M</a></span> <a href=".././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">‚àë <span class="fn">k</span> ‚àà <span class="fn"><a href=".././Mathlib/Order/Interval/Finset/Defs.html#Finset.Ico">Finset.Ico</a> <span class="fn">1</span> (<span class="fn"><a href=".././Mathlib/Data/Nat/Log.html#Nat.log">Nat.log</a> <span class="fn">p</span> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span></span> <a href=".././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>)</span>, <span class="fn"><span class="fn">{<span class="fn">x</span> ‚àà <span class="fn"><a href=".././Mathlib/Order/Interval/Finset/Defs.html#Finset.Ico">Finset.Ico</a> (<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span> <a href=".././Init/Prelude.html#HSub.hSub">-</a> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span> <a href=".././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.M">M</a></span>) <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span></span> | <span class="fn">p</span> <a href=".././Init/Prelude.html#HPow.hPow">^</a> <span class="fn">k</span> <a href=".././Init/Prelude.html#Dvd.dvd">‚à£</a> <span class="fn">x</span>}</span>.<a href=".././Mathlib/Data/Finset/Card.html#Finset.card">card</a></span></span></div></div><p>For a small prime <code>p</code>, the sum of <code>p</code>-adic valuations in the initial factorization equals <code><a href=".././PrimeNumberTheoremAnd/Defs.html#M">M</a></code>
times the sum over <code>k</code> of the count of multiples of <code>p^k</code> in the interval.</p></div></div><div class="decl" id="Erdos392.Params.initial.balance_ge_neg_M_mul_log"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L1457-L1471">source</a></div><div class="verification_link">
<a href="../../modules/PrimeNumberTheoremAnd_Erdos392.html#Erdos392.Params.initial.balance_ge_neg_M_mul_log" class="verification-badge mathematical" title="Mathematical property (specification layer)">üìê coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.initial.balance_ge_neg_M_mul_log"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial</span>.<span class="name">balance_ge_neg_M_mul_log</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">P</span> : <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params">Params</a>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">p</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">hp</span> : <span class="fn"><a href=".././Mathlib/Data/Nat/Prime/Defs.html#Nat.Prime">Nat.Prime</a> <span class="fn">p</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hp_le</span> : <span class="fn">‚Üë<span class="fn">p</span></span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <a href=".././Mathlib/Data/Real/Sqrt.html#Real.sqrt">‚àö</a><span class="fn">‚Üë<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hp_gt</span> : <span class="fn">p</span> <a href=".././Init/Prelude.html#GT.gt">&gt;</a> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.initial">initial</a></span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.balance">balance</a></span> <span class="fn">p</span></span> <a href=".././Init/Prelude.html#GE.ge">‚â•</a> <a href=".././Init/Prelude.html#Neg.neg">-</a>(<span class="fn">‚Üë<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.M">M</a></span></span> <a href=".././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">‚Üë<span class="fn">(<a href=".././Mathlib/Data/Nat/Log.html#Nat.log">Nat.log</a> <span class="fn">p</span> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span>)</span></span>)</div></div><p>The balance of a small prime <code>p</code> is at least <code>-M * floor(log_p n)</code>.</p></div></div><div class="decl" id="Erdos392.Params.initial.balance_small_prime_ge"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L1473-L1501">source</a></div><div class="verification_link">
<a href="../../modules/PrimeNumberTheoremAnd_Erdos392.html#Erdos392.Params.initial.balance_small_prime_ge" class="verification-badge mathematical" title="Mathematical property (specification layer)">üìê coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.initial.balance_small_prime_ge"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial</span>.<span class="name">balance_small_prime_ge</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">P</span> : <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params">Params</a>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">p</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">hp</span> : <span class="fn">‚Üë<span class="fn">p</span></span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <a href=".././Mathlib/Data/Real/Sqrt.html#Real.sqrt">‚àö</a><span class="fn">‚Üë<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hp'</span> : <span class="fn">p</span> <a href=".././Init/Prelude.html#GT.gt">&gt;</a> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">‚Üë<span class="fn">(<span class="fn"><span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.initial">initial</a></span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.balance">balance</a></span> <span class="fn">p</span>)</span></span> <a href=".././Init/Prelude.html#GE.ge">‚â•</a> <a href=".././Init/Prelude.html#Neg.neg">-</a><span class="fn">‚Üë<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.M">M</a></span></span> <a href=".././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><a href=".././Mathlib/Analysis/SpecialFunctions/Log/Basic.html#Real.log">Real.log</a> <span class="fn">‚Üë<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span></span></span> <a href=".././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn"><a href=".././Mathlib/Analysis/SpecialFunctions/Log/Basic.html#Real.log">Real.log</a> <span class="fn">2</span></span></div></div></div></div><div class="decl" id="Erdos392.Params.initial_full"><div class="def"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L1503-L1514">source</a></div><div class="verification_link">
<a href="../../modules/PrimeNumberTheoremAnd_Erdos392.html#Erdos392.Params.initial_full" class="verification-badge comp-operation" title="Computational operation (Bool/decidable)">üî∏ coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.initial_full"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial_full</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">P</span> : <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params">Params</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization">Factorization</a> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span></span></div></div><p>The factorization consisting of <code><a href=".././PrimeNumberTheoremAnd/Defs.html#M">M</a></code> copies of <code>[n - n/M, n)</code>, without filtering for smooth
numbers.</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-Erdos392.Params.initial_full" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Erdos392.Params.rough_set"><div class="def"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L1516-L1518">source</a></div><div class="verification_link">
<a href="../../modules/PrimeNumberTheoremAnd_Erdos392.html#Erdos392.Params.rough_set" class="verification-badge comp-operation" title="Computational operation (Bool/decidable)">üî∏ coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.rough_set"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">rough_set</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">P</span> : <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params">Params</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Mathlib/Data/Finset/Defs.html#Finset">Finset</a> <a href=".././Init/Prelude.html#Nat">‚Ñï</a></span></div></div><p>The set of numbers in <code>[n - n/M, n)</code> that are not <code>(n/L)</code>-smooth.</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-Erdos392.Params.rough_set" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Erdos392.Params.initial_full_balance_eq"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L1520-L1526">source</a></div><div class="verification_link">
<a href="../../modules/PrimeNumberTheoremAnd_Erdos392.html#Erdos392.Params.initial_full_balance_eq" class="verification-badge mathematical" title="Mathematical property (specification layer)">üìê coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.initial_full_balance_eq"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial_full_balance_eq</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">P</span> : <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params">Params</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">p</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.initial_full">initial_full</a></span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.balance">balance</a></span> <span class="fn">p</span></span> <a href=".././Init/Prelude.html#Eq">=</a>   <span class="fn">‚Üë<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.M">M</a></span></span> <a href=".././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">‚àë <span class="fn">m</span> ‚àà <span class="fn"><a href=".././Mathlib/Order/Interval/Finset/Defs.html#Finset.Ico">Finset.Ico</a> (<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span> <a href=".././Init/Prelude.html#HSub.hSub">-</a> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span> <a href=".././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.M">M</a></span>) <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span></span>, <span class="fn">‚Üë<span class="fn">(<span class="fn"><span class="fn">m</span>.<a href=".././Mathlib/Data/Nat/Factorization/Defs.html#Nat.factorization">factorization</a></span> <span class="fn">p</span>)</span></span></span> <a href=".././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">‚Üë<span class="fn">(<span class="fn"><span class="fn"><span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span>.<a href=".././Mathlib/Data/Nat/Factorial/Basic.html#Nat.factorial">factorial</a></span>.<a href=".././Mathlib/Data/Nat/Factorization/Defs.html#Nat.factorization">factorization</a></span> <span class="fn">p</span>)</span></span></div></div><p>The balance of <code><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.initial_full">initial_full</a></code> at prime <code>p</code> is <code><a href=".././PrimeNumberTheoremAnd/Defs.html#M">M</a></code> times the sum of valuations in the interval,
minus the valuation of <code>n!</code>.</p></div></div><div class="decl" id="Erdos392.Params.initial.count_multiples_lower_bound_pow"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L1528-L1531">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.initial.count_multiples_lower_bound_pow"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial</span>.<span class="name">count_multiples_lower_bound_pow</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">n </span><span class="fn">M </span><span class="fn">p </span><span class="fn">k</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hM</span> : <span class="fn">M</span> <a href=".././Init/Prelude.html#GT.gt">&gt;</a> <span class="fn">0</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hp</span> : <span class="fn">p</span> <a href=".././Init/Prelude.html#GT.gt">&gt;</a> <span class="fn">0</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">M</span> <a href=".././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><span class="fn">{<span class="fn">x</span> ‚àà <span class="fn"><a href=".././Mathlib/Order/Interval/Finset/Defs.html#Finset.Ico">Finset.Ico</a> (<span class="fn">n</span> <a href=".././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">n</span> <a href=".././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn">M</span>) <span class="fn">n</span></span> | <span class="fn">p</span> <a href=".././Init/Prelude.html#HPow.hPow">^</a> <span class="fn">k</span> <a href=".././Init/Prelude.html#Dvd.dvd">‚à£</a> <span class="fn">x</span>}</span>.<a href=".././Mathlib/Data/Finset/Card.html#Finset.card">card</a></span> <a href=".././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">M</span> <a href=".././Init/Prelude.html#GE.ge">‚â•</a> <span class="fn">n</span> <a href=".././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn">p</span> <a href=".././Init/Prelude.html#HPow.hPow">^</a> <span class="fn">k</span></div></div><p>The number of multiples of <code>p^k</code> in <code>[n - n/M, n)</code> times <code><a href=".././PrimeNumberTheoremAnd/Defs.html#M">M</a></code> is at least <code><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a> / p^k - <a href=".././PrimeNumberTheoremAnd/Defs.html#M">M</a></code>.</p></div></div><div class="decl" id="Erdos392.Params.initial_full_term_bound"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L1533-L1539">source</a></div><div class="verification_link">
<a href="../../modules/PrimeNumberTheoremAnd_Erdos392.html#Erdos392.Params.initial_full_term_bound" class="verification-badge mathematical" title="Mathematical property (specification layer)">üìê coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.initial_full_term_bound"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial_full_term_bound</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">P</span> : <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params">Params</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">p </span><span class="fn">k</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hp</span> : <span class="fn">p</span> <a href=".././Init/Prelude.html#GT.gt">&gt;</a> <span class="fn">0</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">‚Üë<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.M">M</a></span></span> <a href=".././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">‚Üë<span class="fn"><span class="fn">{<span class="fn">x</span> ‚àà <span class="fn"><a href=".././Mathlib/Order/Interval/Finset/Defs.html#Finset.Ico">Finset.Ico</a> (<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span> <a href=".././Init/Prelude.html#HSub.hSub">-</a> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span> <a href=".././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.M">M</a></span>) <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span></span> | <span class="fn">p</span> <a href=".././Init/Prelude.html#HPow.hPow">^</a> <span class="fn">k</span> <a href=".././Init/Prelude.html#Dvd.dvd">‚à£</a> <span class="fn">x</span>}</span>.<a href=".././Mathlib/Data/Finset/Card.html#Finset.card">card</a></span></span> <a href=".././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">‚Üë<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span></span> <a href=".././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn">‚Üë<span class="fn">p</span></span> <a href=".././Init/Prelude.html#HPow.hPow">^</a> <span class="fn">k</span> <a href=".././Init/Prelude.html#GE.ge">‚â•</a> <a href=".././Init/Prelude.html#Neg.neg">-</a><span class="fn">‚Üë<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.M">M</a></span></span></div></div><p>The term-wise bound <code><a href=".././PrimeNumberTheoremAnd/Defs.html#M">M</a> ¬∑ C‚Çñ - ‚åän/p^k‚åã ‚â• -M</code>.</p></div></div><div class="decl" id="Erdos392.Params.initial_full_sum_valuation_eq"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L1541-L1560">source</a></div><div class="verification_link">
<a href="../../modules/PrimeNumberTheoremAnd_Erdos392.html#Erdos392.Params.initial_full_sum_valuation_eq" class="verification-badge mathematical" title="Mathematical property (specification layer)">üìê coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.initial_full_sum_valuation_eq"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial_full_sum_valuation_eq</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">P</span> : <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params">Params</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">p</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hp</span> : <span class="fn"><a href=".././Mathlib/Data/Nat/Prime/Defs.html#Nat.Prime">Nat.Prime</a> <span class="fn">p</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">‚àë <span class="fn">m</span> ‚àà <span class="fn"><a href=".././Mathlib/Order/Interval/Finset/Defs.html#Finset.Ico">Finset.Ico</a> (<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span> <a href=".././Init/Prelude.html#HSub.hSub">-</a> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span> <a href=".././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.M">M</a></span>) <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span></span>, <span class="fn">‚Üë<span class="fn">(<span class="fn"><span class="fn">m</span>.<a href=".././Mathlib/Data/Nat/Factorization/Defs.html#Nat.factorization">factorization</a></span> <span class="fn">p</span>)</span></span></span> <a href=".././Init/Prelude.html#Eq">=</a>   <span class="fn">‚àë <span class="fn">k</span> ‚àà <span class="fn"><a href=".././Mathlib/Order/Interval/Finset/Defs.html#Finset.Ico">Finset.Ico</a> <span class="fn">1</span> (<span class="fn"><a href=".././Mathlib/Data/Nat/Log.html#Nat.log">Nat.log</a> <span class="fn">p</span> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span></span> <a href=".././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>)</span>, <span class="fn">‚Üë<span class="fn"><span class="fn">{<span class="fn">x</span> ‚àà <span class="fn"><a href=".././Mathlib/Order/Interval/Finset/Defs.html#Finset.Ico">Finset.Ico</a> (<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span> <a href=".././Init/Prelude.html#HSub.hSub">-</a> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span> <a href=".././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.M">M</a></span>) <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span></span> | <span class="fn">p</span> <a href=".././Init/Prelude.html#HPow.hPow">^</a> <span class="fn">k</span> <a href=".././Init/Prelude.html#Dvd.dvd">‚à£</a> <span class="fn">x</span>}</span>.<a href=".././Mathlib/Data/Finset/Card.html#Finset.card">card</a></span></span></span></div></div><p>The sum of valuations in <code>[n - n/M, n)</code> equals <code>‚àë k ‚àà [1, log_p n], #{m ‚àà I | p^k ‚à£ m}</code>.</p></div></div><div class="decl" id="Erdos392.Params.initial_full_balance_ge"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L1562-L1592">source</a></div><div class="verification_link">
<a href="../../modules/PrimeNumberTheoremAnd_Erdos392.html#Erdos392.Params.initial_full_balance_ge" class="verification-badge mathematical" title="Mathematical property (specification layer)">üìê coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.initial_full_balance_ge"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial_full_balance_ge</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">P</span> : <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params">Params</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">p</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hp</span> : <span class="fn"><a href=".././Mathlib/Data/Nat/Prime/Defs.html#Nat.Prime">Nat.Prime</a> <span class="fn">p</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">‚Üë<span class="fn">(<span class="fn"><span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.initial_full">initial_full</a></span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.balance">balance</a></span> <span class="fn">p</span>)</span></span> <a href=".././Init/Prelude.html#GE.ge">‚â•</a> <a href=".././Init/Prelude.html#Neg.neg">-</a><span class="fn">‚Üë<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.M">M</a></span></span> <a href=".././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><a href=".././Mathlib/Analysis/SpecialFunctions/Log/Basic.html#Real.log">Real.log</a> <span class="fn">‚Üë<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span></span></span> <a href=".././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn"><a href=".././Mathlib/Analysis/SpecialFunctions/Log/Basic.html#Real.log">Real.log</a> <span class="fn">2</span></span></div></div><p>The balance of <code><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.initial_full">initial_full</a></code> is at least <code>-M ¬∑ log <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a> / log 2</code>.</p></div></div><div class="decl" id="Erdos392.Params.initial_balance_eq"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L1594-L1622">source</a></div><div class="verification_link">
<a href="../../modules/PrimeNumberTheoremAnd_Erdos392.html#Erdos392.Params.initial_balance_eq" class="verification-badge mathematical" title="Mathematical property (specification layer)">üìê coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.initial_balance_eq"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial_balance_eq</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">P</span> : <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params">Params</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">p</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.initial">initial</a></span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.balance">balance</a></span> <span class="fn">p</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.initial_full">initial_full</a></span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.balance">balance</a></span> <span class="fn">p</span></span> <a href=".././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">‚Üë<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.M">M</a></span></span> <a href=".././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">‚àë <span class="fn">m</span> ‚àà <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.rough_set">rough_set</a></span>, <span class="fn">‚Üë<span class="fn">(<span class="fn"><span class="fn">m</span>.<a href=".././Mathlib/Data/Nat/Factorization/Defs.html#Nat.factorization">factorization</a></span> <span class="fn">p</span>)</span></span></span></div></div><p>The balance of <code><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.initial">initial</a></code> equals that of <code><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.initial_full">initial_full</a></code> minus <code><a href=".././PrimeNumberTheoremAnd/Defs.html#M">M</a></code> times the sum of valuations
in <code><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.rough_set">rough_set</a></code>.</p></div></div><div class="decl" id="Erdos392.Params.exists_large_prime_of_rough"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L1624-L1632">source</a></div><div class="verification_link">
<a href="../../modules/PrimeNumberTheoremAnd_Erdos392.html#Erdos392.Params.exists_large_prime_of_rough" class="verification-badge mathematical" title="Mathematical property (specification layer)">üìê coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.exists_large_prime_of_rough"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">exists_large_prime_of_rough</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">P</span> : <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params">Params</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">m</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hm</span> : <span class="fn">m</span> <a href=".././Init/Prelude.html#Membership.mem">‚àà</a> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.rough_set">rough_set</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">‚àÉ (<span class="fn">q</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>), <span class="fn"><a href=".././Mathlib/Data/Nat/Prime/Defs.html#Nat.Prime">Nat.Prime</a> <span class="fn">q</span></span> <a href=".././Init/Prelude.html#And">‚àß</a> <span class="fn">q</span> <a href=".././Init/Prelude.html#GE.ge">‚â•</a> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span> <a href=".././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a></span> <a href=".././Init/Prelude.html#And">‚àß</a> <span class="fn">q</span> <a href=".././Init/Prelude.html#Dvd.dvd">‚à£</a> <span class="fn">m</span></span></div></div><p>If <code>m</code> is in the rough set, it has a prime factor <code>q ‚â• <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a> / <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a></code>.</p></div></div><div class="decl" id="Erdos392.Params.valuation_eq_one_of_large_prime"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L1634-L1643">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.valuation_eq_one_of_large_prime"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">valuation_eq_one_of_large_prime</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">P</span> : <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params">Params</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">m </span><span class="fn">q</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hm</span> : <span class="fn">m</span> <a href=".././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hm_pos</span> : <span class="fn">m</span> <a href=".././Init/Core.html#Ne">‚â†</a> <span class="fn">0</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hq</span> : <span class="fn"><a href=".././Mathlib/Data/Nat/Prime/Defs.html#Nat.Prime">Nat.Prime</a> <span class="fn">q</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hq_ge</span> : <span class="fn">q</span> <a href=".././Init/Prelude.html#GE.ge">‚â•</a> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span> <a href=".././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hdiv</span> : <span class="fn">q</span> <a href=".././Init/Prelude.html#Dvd.dvd">‚à£</a> <span class="fn">m</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">m</span>.<a href=".././Mathlib/Data/Nat/Factorization/Defs.html#Nat.factorization">factorization</a></span> <span class="fn">q</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">1</span></div></div><p>If a prime <code>q ‚â• <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a> / <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a></code> divides <code>m &lt; <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></code>, then its valuation in <code>m</code> is <code>1</code>.</p></div></div><div class="decl" id="Erdos392.Params.rough_set_structure"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L1645-L1665">source</a></div><div class="verification_link">
<a href="../../modules/PrimeNumberTheoremAnd_Erdos392.html#Erdos392.Params.rough_set_structure" class="verification-badge mathematical" title="Mathematical property (specification layer)">üìê coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.rough_set_structure"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">rough_set_structure</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">P</span> : <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params">Params</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">m</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hm</span> : <span class="fn">m</span> <a href=".././Init/Prelude.html#Membership.mem">‚àà</a> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.rough_set">rough_set</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">‚àÉ (<span class="fn">q</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>) (<span class="fn">k</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>), <span class="fn"><a href=".././Mathlib/Data/Nat/Prime/Defs.html#Nat.Prime">Nat.Prime</a> <span class="fn">q</span></span> <a href=".././Init/Prelude.html#And">‚àß</a> <span class="fn">q</span> <a href=".././Init/Prelude.html#GE.ge">‚â•</a> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span> <a href=".././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a></span> <a href=".././Init/Prelude.html#And">‚àß</a> <span class="fn">k</span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a></span> <a href=".././Init/Prelude.html#And">‚àß</a> <span class="fn">m</span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">q</span> <a href=".././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">k</span> <a href=".././Init/Prelude.html#And">‚àß</a> <span class="fn"><span class="fn"><span class="fn">m</span>.<a href=".././Mathlib/Data/Nat/Factorization/Defs.html#Nat.factorization">factorization</a></span> <span class="fn">q</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">1</span></span></div></div><p>Any <code>m</code> in the rough set can be written as <code>q * k</code> where <code>q</code> is a prime <code>‚â• <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a> / <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a></code> and
<code>k ‚â§ <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a></code>, with <code>m.<a href=".././Mathlib/RingTheory/UniqueFactorizationDomain/Finsupp.html#factorization">factorization</a> q = 1</code>.</p></div></div><div class="decl" id="Erdos392.Params.rough_q"><div class="def"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L1667-L1669">source</a></div><div class="verification_link">
<a href="../../modules/PrimeNumberTheoremAnd_Erdos392.html#Erdos392.Params.rough_q" class="verification-badge comp-operation" title="Computational operation (Bool/decidable)">üî∏ coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">noncomputable def</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.rough_q"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">rough_q</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">P</span> : <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params">Params</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">m</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Init/Prelude.html#Nat">‚Ñï</a></div></div><p>The prime factor <code>q ‚â• <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a> / <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a></code> of an element of <code><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.rough_set">rough_set</a></code>, chosen via <code><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.rough_set_structure">rough_set_structure</a></code>.</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-Erdos392.Params.rough_q" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Erdos392.Params.rough_k"><div class="def"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L1671-L1673">source</a></div><div class="verification_link">
<a href="../../modules/PrimeNumberTheoremAnd_Erdos392.html#Erdos392.Params.rough_k" class="verification-badge comp-operation" title="Computational operation (Bool/decidable)">üî∏ coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">noncomputable def</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.rough_k"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">rough_k</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">P</span> : <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params">Params</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">m</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Init/Prelude.html#Nat">‚Ñï</a></div></div><p>The cofactor <code>k ‚â§ <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a></code> of an element of <code><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.rough_set">rough_set</a></code>, chosen via <code><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.rough_set_structure">rough_set_structure</a></code>.</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-Erdos392.Params.rough_k" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Erdos392.Params.rough_qk_prop"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L1675-L1682">source</a></div><div class="verification_link">
<a href="../../modules/PrimeNumberTheoremAnd_Erdos392.html#Erdos392.Params.rough_qk_prop" class="verification-badge mathematical" title="Mathematical property (specification layer)">üìê coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.rough_qk_prop"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">rough_qk_prop</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">P</span> : <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params">Params</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">m</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn">m</span> <a href=".././Init/Prelude.html#Membership.mem">‚àà</a> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.rough_set">rough_set</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">have <span class="fn">q</span> := <span class="fn"><span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.rough_q">rough_q</a></span> <span class="fn">m</span></span>;
<span class="fn">have <span class="fn">k</span> := <span class="fn"><span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.rough_k">rough_k</a></span> <span class="fn">m</span></span>;
<span class="fn"><a href=".././Mathlib/Data/Nat/Prime/Defs.html#Nat.Prime">Nat.Prime</a> <span class="fn">q</span></span> <a href=".././Init/Prelude.html#And">‚àß</a> <span class="fn">q</span> <a href=".././Init/Prelude.html#GE.ge">‚â•</a> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span> <a href=".././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a></span> <a href=".././Init/Prelude.html#And">‚àß</a> <span class="fn">k</span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a></span> <a href=".././Init/Prelude.html#And">‚àß</a> <span class="fn">m</span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">q</span> <a href=".././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">k</span> <a href=".././Init/Prelude.html#And">‚àß</a> <span class="fn"><span class="fn"><span class="fn">m</span>.<a href=".././Mathlib/Data/Nat/Factorization/Defs.html#Nat.factorization">factorization</a></span> <span class="fn">q</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">1</span></span></span></div></div><p>Properties of <code><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.rough_q">rough_q</a></code> and <code><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.rough_k">rough_k</a></code>: the prime <code>q</code> satisfies <code>q ‚â• <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a> / <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a></code>, the cofactor <code>k</code>
satisfies <code>k ‚â§ <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a></code>, we have <code>m = q * k</code>, and <code>m.<a href=".././Mathlib/RingTheory/UniqueFactorizationDomain/Finsupp.html#factorization">factorization</a> q = 1</code>.</p></div></div><div class="decl" id="Erdos392.Params.rough_set_card_le"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L1684-L1711">source</a></div><div class="verification_link">
<a href="../../modules/PrimeNumberTheoremAnd_Erdos392.html#Erdos392.Params.rough_set_card_le" class="verification-badge mathematical" title="Mathematical property (specification layer)">üìê coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.rough_set_card_le"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">rough_set_card_le</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">P</span> : <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params">Params</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.rough_set">rough_set</a></span>.<a href=".././Mathlib/Data/Finset/Card.html#Finset.card">card</a></span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn"><span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span>.<a href=".././Mathlib/NumberTheory/PrimeCounting.html#Nat.primeCounting">primeCounting</a></span> <a href=".././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a></span></div></div><p>The cardinality of <code><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.rough_set">rough_set</a></code> is at most <code>œÄ(n) * <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a></code>.</p></div></div><div class="decl" id="Erdos392.Params.rough_valuation_eq_k_valuation"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L1713-L1732">source</a></div><div class="verification_link">
<a href="../../modules/PrimeNumberTheoremAnd_Erdos392.html#Erdos392.Params.rough_valuation_eq_k_valuation" class="verification-badge mathematical" title="Mathematical property (specification layer)">üìê coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.rough_valuation_eq_k_valuation"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">rough_valuation_eq_k_valuation</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">P</span> : <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params">Params</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">m</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hm</span> : <span class="fn">m</span> <a href=".././Init/Prelude.html#Membership.mem">‚àà</a> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.rough_set">rough_set</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">p</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hp</span> : <span class="fn">p</span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">m</span>.<a href=".././Mathlib/Data/Nat/Factorization/Defs.html#Nat.factorization">factorization</a></span> <span class="fn">p</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">(<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.rough_k">rough_k</a></span> <span class="fn">m</span>)</span>.<a href=".././Mathlib/Data/Nat/Factorization/Defs.html#Nat.factorization">factorization</a></span> <span class="fn">p</span></span></div></div><p>For <code>m ‚àà <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.rough_set">rough_set</a></code> and <code>p ‚â§ <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a></code>, <code>v‚Çö(m) = v‚Çö(k)</code>.</p></div></div><div class="decl" id="Erdos392.Params.rough_valuation_le_log"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L1734-L1743">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.rough_valuation_le_log"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">rough_valuation_le_log</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">P</span> : <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params">Params</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">m</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hm</span> : <span class="fn">m</span> <a href=".././Init/Prelude.html#Membership.mem">‚àà</a> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.rough_set">rough_set</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">p</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hp</span> : <span class="fn">p</span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hp_prime</span> : <span class="fn"><a href=".././Mathlib/Data/Nat/Prime/Defs.html#Nat.Prime">Nat.Prime</a> <span class="fn">p</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">m</span>.<a href=".././Mathlib/Data/Nat/Factorization/Defs.html#Nat.factorization">factorization</a></span> <span class="fn">p</span></span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn"><a href=".././Mathlib/Data/Nat/Log.html#Nat.log">Nat.log</a> <span class="fn">p</span> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a></span></span></div></div><p>For <code>m ‚àà <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.rough_set">rough_set</a></code> and <code>p ‚â§ <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a></code>, <code>v‚Çö(m) ‚â§ log‚Çö <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a></code>.</p></div></div><div class="decl" id="Erdos392.Params.rough_valuation_sum_le"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L1745-L1751">source</a></div><div class="verification_link">
<a href="../../modules/PrimeNumberTheoremAnd_Erdos392.html#Erdos392.Params.rough_valuation_sum_le" class="verification-badge mathematical" title="Mathematical property (specification layer)">üìê coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.rough_valuation_sum_le"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">rough_valuation_sum_le</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">P</span> : <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params">Params</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">p</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hp</span> : <span class="fn">p</span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hp_prime</span> : <span class="fn"><a href=".././Mathlib/Data/Nat/Prime/Defs.html#Nat.Prime">Nat.Prime</a> <span class="fn">p</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">‚àë <span class="fn">m</span> ‚àà <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.rough_set">rough_set</a></span>, <span class="fn"><span class="fn"><span class="fn">m</span>.<a href=".././Mathlib/Data/Nat/Factorization/Defs.html#Nat.factorization">factorization</a></span> <span class="fn">p</span></span></span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn"><span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span>.<a href=".././Mathlib/NumberTheory/PrimeCounting.html#Nat.primeCounting">primeCounting</a></span> <a href=".././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a></span> <a href=".././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><a href=".././Mathlib/Data/Nat/Log.html#Nat.log">Nat.log</a> <span class="fn">p</span> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a></span></span></div></div><p>The sum of valuations of <code>p</code> in <code><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.rough_set">rough_set</a></code> is at most <code>œÄ(n) * <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a> * log‚Çö <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a></code>.</p></div></div><div class="decl" id="Erdos392.Params.L_sub_log_ge_one"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L1753-L1758">source</a></div><div class="verification_link">
<a href="../../modules/PrimeNumberTheoremAnd_Erdos392.html#Erdos392.Params.L_sub_log_ge_one" class="verification-badge mathematical" title="Mathematical property (specification layer)">üìê coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L_sub_log_ge_one"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">L_sub_log_ge_one</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">P</span> : <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params">Params</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">p</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hp</span> : <span class="fn"><a href=".././Mathlib/Data/Nat/Prime/Defs.html#Nat.Prime">Nat.Prime</a> <span class="fn">p</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">‚Üë<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a></span></span> <a href=".././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">‚Üë<span class="fn">(<a href=".././Mathlib/Data/Nat/Log.html#Nat.log">Nat.log</a> <span class="fn">p</span> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a></span>)</span></span> <a href=".././Init/Prelude.html#GE.ge">‚â•</a> <span class="fn">1</span></div></div><p>Since <code>p ‚â• 2</code> and <code><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a> ‚â• 1</code>, <code>log‚Çö <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a> &lt; <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a></code>, so <code><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a> - log‚Çö <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a> ‚â• 1</code>.</p></div></div><div class="decl" id="Erdos392.Params.primeCounting_ge_log"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L1760-L1823">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.primeCounting_ge_log"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">primeCounting_ge_log</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">n</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hn</span> : <span class="fn">n</span> <a href=".././Init/Prelude.html#GE.ge">‚â•</a> <span class="fn">2</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">‚Üë<span class="fn"><span class="fn">n</span>.<a href=".././Mathlib/NumberTheory/PrimeCounting.html#Nat.primeCounting">primeCounting</a></span></span> <a href=".././Init/Prelude.html#GE.ge">‚â•</a> <span class="fn"><a href=".././Mathlib/Analysis/SpecialFunctions/Log/Basic.html#Real.log">Real.log</a> <span class="fn">‚Üë<span class="fn">n</span></span></span></div></div><p><code>œÄ(n) ‚â• log <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></code> for <code><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a> ‚â• 2</code>.</p></div></div><div class="decl" id="Erdos392.Params.balance_inequality_aux"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L1825-L1836">source</a></div><div class="verification_link">
<a href="../../modules/PrimeNumberTheoremAnd_Erdos392.html#Erdos392.Params.balance_inequality_aux" class="verification-badge mathematical" title="Mathematical property (specification layer)">üìê coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.balance_inequality_aux"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">balance_inequality_aux</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">P</span> : <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params">Params</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">p</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hp_prime</span> : <span class="fn"><a href=".././Mathlib/Data/Nat/Prime/Defs.html#Nat.Prime">Nat.Prime</a> <span class="fn">p</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">‚Üë<span class="fn"><span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span>.<a href=".././Mathlib/NumberTheory/PrimeCounting.html#Nat.primeCounting">primeCounting</a></span></span> <a href=".././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">‚Üë<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a></span></span> <a href=".././Init/Prelude.html#HMul.hMul">*</a> (<span class="fn">‚Üë<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a></span></span> <a href=".././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">‚Üë<span class="fn">(<a href=".././Mathlib/Data/Nat/Log.html#Nat.log">Nat.log</a> <span class="fn">p</span> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a></span>)</span></span>) <a href=".././Init/Prelude.html#GE.ge">‚â•</a> <span class="fn"><a href=".././Mathlib/Analysis/SpecialFunctions/Log/Basic.html#Real.log">Real.log</a> <span class="fn">‚Üë<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span></span></span> <a href=".././Init/Prelude.html#HMul.hMul">*</a> (<span class="fn">1</span> <a href=".././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn"><a href=".././Mathlib/Analysis/SpecialFunctions/Log/Basic.html#Real.log">Real.log</a> <span class="fn">2</span></span> <a href=".././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">1</span>)</div></div><p><code>œÄ(n) * <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a> * (L - log‚Çö L) ‚â• log <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a> * (1 / log 2 - 1)</code>.</p></div></div><div class="decl" id="Erdos392.Params.initial.balance_tiny_prime_ge"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L1838-L1861">source</a></div><div class="verification_link">
<a href="../../modules/PrimeNumberTheoremAnd_Erdos392.html#Erdos392.Params.initial.balance_tiny_prime_ge" class="verification-badge mathematical" title="Mathematical property (specification layer)">üìê coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.initial.balance_tiny_prime_ge"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial</span>.<span class="name">balance_tiny_prime_ge</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">P</span> : <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params">Params</a>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">p</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">hp</span> : <span class="fn">p</span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">‚Üë<span class="fn">(<span class="fn"><span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.initial">initial</a></span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.balance">balance</a></span> <span class="fn">p</span>)</span></span> <a href=".././Init/Prelude.html#GE.ge">‚â•</a> <a href=".././Init/Prelude.html#Neg.neg">-</a><span class="fn">‚Üë<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.M">M</a></span></span> <a href=".././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><a href=".././Mathlib/Analysis/SpecialFunctions/Log/Basic.html#Real.log">Real.log</a> <span class="fn">‚Üë<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span></span></span> <a href=".././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">‚Üë<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.M">M</a></span></span> <a href=".././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">‚Üë<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a></span></span> <a href=".././Init/Prelude.html#HPow.hPow">^</a> <span class="fn">2</span> <a href=".././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">‚Üë<span class="fn"><span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span>.<a href=".././Mathlib/NumberTheory/PrimeCounting.html#Nat.primeCounting">primeCounting</a></span></span></div></div></div></div><div class="decl sorried" id="Erdos392.Params.initial.score_bound"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L1863-L1887">source</a></div><div class="verification_link">
<a href="../../modules/PrimeNumberTheoremAnd_Erdos392.html#Erdos392.Params.initial.score_bound" class="verification-badge mathematical" title="Mathematical property (specification layer)">üìê coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name" title="declaration uses 'sorry'"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.initial.score_bound"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial</span>.<span class="name">score_bound</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">P</span> : <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params">Params</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.initial">initial</a></span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.score">score</a></span> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a></span></span> <a href=".././Init/Prelude.html#LE.le">‚â§</a>   <span class="fn">‚Üë<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span></span> <a href=".././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><a href=".././Mathlib/Analysis/SpecialFunctions/Log/Basic.html#Real.log">Real.log</a> (<span class="fn">1</span> <a href=".././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">1</span> <a href=".././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn">‚Üë<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.M">M</a></span></span>)<a href=".././Init/Prelude.html#Inv.inv">‚Åª¬π</a></span> <a href=".././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">‚àë <span class="fn">p</span> ‚àà <span class="fn"><a href=".././Mathlib/Order/Interval/Finset/Defs.html#Finset.Iic">Finset.Iic</a> (<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span> <a href=".././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a></span>)</span> with <span class="fn"><a href=".././Mathlib/Data/Nat/Prime/Defs.html#Nat.Prime">Nat.Prime</a> <span class="fn">p</span></span>, <span class="fn">‚Üë<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.M">M</a></span></span> <a href=".././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><a href=".././Mathlib/Analysis/SpecialFunctions/Log/Basic.html#Real.log">Real.log</a> <span class="fn">‚Üë<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span></span></span></span> <a href=".././Init/Prelude.html#HAdd.hAdd">+</a>         <span class="fn">‚àë <span class="fn">p</span> ‚àà <span class="fn"><a href=".././Mathlib/Order/Interval/Finset/Defs.html#Finset.Iic">Finset.Iic</a> <a href=".././Mathlib/Algebra/Order/Floor/Defs.html#Nat.floor">‚åä</a><a href=".././Mathlib/Data/Real/Sqrt.html#Real.sqrt">‚àö</a><span class="fn">‚Üë<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span></span><a href=".././Mathlib/Algebra/Order/Floor/Defs.html#Nat.floor">‚åã‚Çä</a></span> with <span class="fn"><a href=".././Mathlib/Data/Nat/Prime/Defs.html#Nat.Prime">Nat.Prime</a> <span class="fn">p</span></span>, <span class="fn">‚Üë<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.M">M</a></span></span> <a href=".././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><a href=".././Mathlib/Analysis/SpecialFunctions/Log/Basic.html#Real.log">Real.log</a> <span class="fn">‚Üë<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span></span></span> <a href=".././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><a href=".././Mathlib/Analysis/SpecialFunctions/Log/Basic.html#Real.log">Real.log</a> <span class="fn">‚Üë<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span></span></span> <a href=".././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn"><a href=".././Mathlib/Analysis/SpecialFunctions/Log/Basic.html#Real.log">Real.log</a> <span class="fn">2</span></span></span> <a href=".././Init/Prelude.html#HAdd.hAdd">+</a>       <span class="fn">‚àë <span class="fn">p</span> ‚àà <span class="fn"><a href=".././Mathlib/Order/Interval/Finset/Defs.html#Finset.Icc">Finset.Icc</a> (<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span> <a href=".././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a></span> <a href=".././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>) <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span></span> with <span class="fn"><a href=".././Mathlib/Data/Nat/Prime/Defs.html#Nat.Prime">Nat.Prime</a> <span class="fn">p</span></span>, <span class="fn">‚Üë<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span></span> <a href=".././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn">‚Üë<span class="fn">p</span></span> <a href=".././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><a href=".././Mathlib/Analysis/SpecialFunctions/Log/Basic.html#Real.log">Real.log</a> (<span class="fn">‚Üë<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span></span> <a href=".././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn">‚Üë<span class="fn">p</span></span>)</span></span> <a href=".././Init/Prelude.html#HAdd.hAdd">+</a>     <span class="fn">‚àë <span class="fn">p</span> ‚àà <span class="fn"><a href=".././Mathlib/Order/Interval/Finset/Defs.html#Finset.Iic">Finset.Iic</a> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a></span></span> with <span class="fn"><a href=".././Mathlib/Data/Nat/Prime/Defs.html#Nat.Prime">Nat.Prime</a> <span class="fn">p</span></span>, (<span class="fn">‚Üë<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.M">M</a></span></span> <a href=".././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><a href=".././Mathlib/Analysis/SpecialFunctions/Log/Basic.html#Real.log">Real.log</a> <span class="fn">‚Üë<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span></span></span> <a href=".././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">‚Üë<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.M">M</a></span></span> <a href=".././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">‚Üë<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a></span></span> <a href=".././Init/Prelude.html#HPow.hPow">^</a> <span class="fn">2</span> <a href=".././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">‚Üë<span class="fn"><span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span>.<a href=".././Mathlib/NumberTheory/PrimeCounting.html#Nat.primeCounting">primeCounting</a></span></span>) <a href=".././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><a href=".././Mathlib/Analysis/SpecialFunctions/Log/Basic.html#Real.log">Real.log</a> <span class="fn">‚Üë<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a></span></span></span></span></div></div></div></div><div class="decl" id="Erdos392.Params.initial.bound_score_1"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L1889-L1923">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.initial.bound_score_1"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial</span>.<span class="name">bound_score_1</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">Œµ</span> : <a href=".././Mathlib/Data/Real/Basic.html#Real">‚Ñù</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hŒµ</span> : <span class="fn">Œµ</span> <a href=".././Init/Prelude.html#GT.gt">&gt;</a> <span class="fn">0</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Mathlib/Order/Filter/Defs.html#Filter.Eventually">‚àÄ·∂†</a> (<span class="fn">M</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>) <a href=".././Mathlib/Order/Filter/Defs.html#Filter.Eventually">in</a> <a href=".././Mathlib/Order/Filter/AtTopBot/Defs.html#Filter.atTop">Filter.atTop</a><a href=".././Mathlib/Order/Filter/Defs.html#Filter.Eventually">,</a> <span class="fn">‚àÄ (<span class="fn">P</span> : <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params">Params</a>), <span class="fn"><span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.M">M</a></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">M</span> ‚Üí <span class="fn">‚Üë<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span></span> <a href=".././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><a href=".././Mathlib/Analysis/SpecialFunctions/Log/Basic.html#Real.log">Real.log</a> (<span class="fn">1</span> <a href=".././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">1</span> <a href=".././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn">‚Üë<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.M">M</a></span></span>)<a href=".././Init/Prelude.html#Inv.inv">‚Åª¬π</a></span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn">Œµ</span> <a href=".././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">‚Üë<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span></span></span></span></span></div></div></div></div><div class="decl" id="Erdos392.Params.initial.bound_score_2"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L1925-L2007">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.initial.bound_score_2"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial</span>.<span class="name">bound_score_2</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">Œµ</span> : <a href=".././Mathlib/Data/Real/Basic.html#Real">‚Ñù</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hŒµ</span> : <span class="fn">Œµ</span> <a href=".././Init/Prelude.html#GT.gt">&gt;</a> <span class="fn">0</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">M</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Mathlib/Order/Filter/Defs.html#Filter.Eventually">‚àÄ·∂†</a> (<span class="fn">L</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>) (<span class="fn">n</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>) <a href=".././Mathlib/Order/Filter/Defs.html#Filter.Eventually">in</a> <a href=".././Mathlib/Order/Filter/AtTopBot/Defs.html#Filter.atTop">Filter.atTop</a><a href=".././Mathlib/Order/Filter/Defs.html#Filter.Eventually">,</a>   <span class="fn">‚àÄ (<span class="fn">P</span> : <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params">Params</a>),
    <span class="fn"><span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">L</span> ‚Üí <span class="fn"><span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">n</span> ‚Üí <span class="fn"><span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.M">M</a></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">M</span> ‚Üí <span class="fn">‚àë <span class="fn">_p</span> ‚àà <span class="fn"><a href=".././Mathlib/Order/Interval/Finset/Defs.html#Finset.Iic">Finset.Iic</a> (<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span> <a href=".././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a></span>)</span> with <span class="fn"><a href=".././Mathlib/Data/Nat/Prime/Defs.html#Nat.Prime">Nat.Prime</a> <span class="fn">_p</span></span>, <span class="fn">‚Üë<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.M">M</a></span></span> <a href=".././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><a href=".././Mathlib/Analysis/SpecialFunctions/Log/Basic.html#Real.log">Real.log</a> <span class="fn">‚Üë<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span></span></span></span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn">Œµ</span> <a href=".././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">‚Üë<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span></span></span></span></span></span></span></div></div></div></div><div class="decl" id="Erdos392.Params.initial.bound_score_3"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L2009-L2084">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.initial.bound_score_3"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial</span>.<span class="name">bound_score_3</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">Œµ</span> : <a href=".././Mathlib/Data/Real/Basic.html#Real">‚Ñù</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hŒµ</span> : <span class="fn">Œµ</span> <a href=".././Init/Prelude.html#GT.gt">&gt;</a> <span class="fn">0</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">M</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Mathlib/Order/Filter/Defs.html#Filter.Eventually">‚àÄ·∂†</a> (<span class="fn">n</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>) <a href=".././Mathlib/Order/Filter/Defs.html#Filter.Eventually">in</a> <a href=".././Mathlib/Order/Filter/AtTopBot/Defs.html#Filter.atTop">Filter.atTop</a><a href=".././Mathlib/Order/Filter/Defs.html#Filter.Eventually">,</a>   <span class="fn">‚àÄ (<span class="fn">P</span> : <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params">Params</a>),
    <span class="fn"><span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.M">M</a></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">M</span> ‚Üí
      <span class="fn"><span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">n</span> ‚Üí
        <span class="fn">‚àë <span class="fn">_p</span> ‚àà <span class="fn"><a href=".././Mathlib/Order/Interval/Finset/Defs.html#Finset.Iic">Finset.Iic</a> <a href=".././Mathlib/Algebra/Order/Floor/Defs.html#Nat.floor">‚åä</a><a href=".././Mathlib/Data/Real/Sqrt.html#Real.sqrt">‚àö</a><span class="fn">‚Üë<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span></span><a href=".././Mathlib/Algebra/Order/Floor/Defs.html#Nat.floor">‚åã‚Çä</a></span> with <span class="fn"><a href=".././Mathlib/Data/Nat/Prime/Defs.html#Nat.Prime">Nat.Prime</a> <span class="fn">_p</span></span>, <span class="fn">‚Üë<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.M">M</a></span></span> <a href=".././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><a href=".././Mathlib/Analysis/SpecialFunctions/Log/Basic.html#Real.log">Real.log</a> <span class="fn">‚Üë<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span></span></span> <a href=".././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><a href=".././Mathlib/Analysis/SpecialFunctions/Log/Basic.html#Real.log">Real.log</a> <span class="fn">‚Üë<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span></span></span> <a href=".././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn"><a href=".././Mathlib/Analysis/SpecialFunctions/Log/Basic.html#Real.log">Real.log</a> <span class="fn">2</span></span></span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn">Œµ</span> <a href=".././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">‚Üë<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span></span></span></span></span></span></div></div></div></div><div class="decl" id="Erdos392.prod_one_sub_one_div_prime_tendsto_zero"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L2086-L2109">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.prod_one_sub_one_div_prime_tendsto_zero"><span class="name">Erdos392</span>.<span class="name">prod_one_sub_one_div_prime_tendsto_zero</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Mathlib/Order/Filter/Defs.html#Filter.Tendsto">Filter.Tendsto</a> <span class="fn">(fun (<span class="fn">n</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>) =&gt; <span class="fn">‚àè <span class="fn">p</span> ‚àà <span class="fn"><a href=".././Mathlib/Data/Finset/Range.html#Finset.range">Finset.range</a> <span class="fn">n</span></span> with <a href=".././Mathlib/Data/Nat/Prime/Defs.html#Nat.Prime">Nat.Prime</a> <span class="fn">p</span>, (<span class="fn">1</span> <a href=".././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">1</span> <a href=".././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn">‚Üë<span class="fn">p</span></span>)</span>)</span> <a href=".././Mathlib/Order/Filter/AtTopBot/Defs.html#Filter.atTop">Filter.atTop</a> <span class="fn">(<a href=".././Mathlib/Topology/Defs/Filter.html#nhds">nhds</a> <span class="fn">0</span>)</span></span></div></div><p>The product <code>‚àè p ‚â§ n, (1 - 1/p)</code> over primes tends to zero as <code><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a> ‚Üí ‚àû</code>.</p></div></div><div class="decl" id="Erdos392.exists_phi_div_self_lt"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L2111-L2125">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.exists_phi_div_self_lt"><span class="name">Erdos392</span>.<span class="name">exists_phi_div_self_lt</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">Œµ</span> : <a href=".././Mathlib/Data/Real/Basic.html#Real">‚Ñù</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">hŒµ</span> : <span class="fn">0</span> <a href=".././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">Œµ</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">‚àÉ (<span class="fn">a</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>), <span class="fn">a</span> <a href=".././Init/Core.html#Ne">‚â†</a> <span class="fn">0</span> <a href=".././Init/Prelude.html#And">‚àß</a> <span class="fn">‚Üë<span class="fn"><span class="fn">a</span>.<a href=".././Mathlib/Data/Nat/Totient.html#Nat.totient">totient</a></span></span> <a href=".././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn">‚Üë<span class="fn">a</span></span> <a href=".././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">Œµ</span></span></div></div><p>For any <code>Œµ &gt; 0</code>, there exists <code><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.a">a</a> ‚â† 0</code> with <code>œÜ(a)/a &lt; Œµ</code>.</p></div></div><div class="decl" id="Erdos392.primeCounting_is_o_id"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L2127-L2168">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.primeCounting_is_o_id"><span class="name">Erdos392</span>.<span class="name">primeCounting_is_o_id</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">(fun (<span class="fn">n</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>) =&gt; <span class="fn">‚Üë<span class="fn"><span class="fn">n</span>.<a href=".././Mathlib/NumberTheory/PrimeCounting.html#Nat.primeCounting">primeCounting</a></span></span>)</span> <a href=".././Mathlib/Analysis/Asymptotics/Defs.html#Asymptotics.IsLittleO">=o[</a><a href=".././Mathlib/Order/Filter/AtTopBot/Defs.html#Filter.atTop">Filter.atTop</a><a href=".././Mathlib/Analysis/Asymptotics/Defs.html#Asymptotics.IsLittleO">]</a> <span class="fn">fun (<span class="fn">n</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>) =&gt; <span class="fn">‚Üë<span class="fn">n</span></span></span></div></div></div></div><div class="decl" id="Erdos392.Params.initial.bound_score_4"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L2170-L2216">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.initial.bound_score_4"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial</span>.<span class="name">bound_score_4</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">Œµ</span> : <a href=".././Mathlib/Data/Real/Basic.html#Real">‚Ñù</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hŒµ</span> : <span class="fn">Œµ</span> <a href=".././Init/Prelude.html#GT.gt">&gt;</a> <span class="fn">0</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">L</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Mathlib/Order/Filter/Defs.html#Filter.Eventually">‚àÄ·∂†</a> (<span class="fn">n</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>) <a href=".././Mathlib/Order/Filter/Defs.html#Filter.Eventually">in</a> <a href=".././Mathlib/Order/Filter/AtTopBot/Defs.html#Filter.atTop">Filter.atTop</a><a href=".././Mathlib/Order/Filter/Defs.html#Filter.Eventually">,</a>   <span class="fn">‚àÄ (<span class="fn">P</span> : <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params">Params</a>),
    <span class="fn"><span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">L</span> ‚Üí
      <span class="fn"><span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">n</span> ‚Üí <span class="fn">‚àë <span class="fn">p</span> ‚àà <span class="fn"><a href=".././Mathlib/Order/Interval/Finset/Defs.html#Finset.Icc">Finset.Icc</a> (<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span> <a href=".././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a></span> <a href=".././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>) <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span></span> with <span class="fn"><a href=".././Mathlib/Data/Nat/Prime/Defs.html#Nat.Prime">Nat.Prime</a> <span class="fn">p</span></span>, <span class="fn">‚Üë<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span></span> <a href=".././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn">‚Üë<span class="fn">p</span></span> <a href=".././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><a href=".././Mathlib/Analysis/SpecialFunctions/Log/Basic.html#Real.log">Real.log</a> (<span class="fn">‚Üë<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span></span> <a href=".././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn">‚Üë<span class="fn">p</span></span>)</span></span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn">Œµ</span> <a href=".././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">‚Üë<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span></span></span></span></span></span></div></div></div></div><div class="decl" id="Erdos392.primeCounting_le_bound"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L2218-L2271">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.primeCounting_le_bound"><span class="name">Erdos392</span>.<span class="name">primeCounting_le_bound</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">n</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hn</span> : <span class="fn">2</span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn">n</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">‚Üë<span class="fn"><span class="fn">n</span>.<a href=".././Mathlib/NumberTheory/PrimeCounting.html#Nat.primeCounting">primeCounting</a></span></span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <a href=".././Mathlib/Data/Real/Sqrt.html#Real.sqrt">‚àö</a><span class="fn">‚Üë<span class="fn">n</span></span> <a href=".././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">2</span> <a href=".././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">‚Üë<span class="fn">n</span></span> <a href=".././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><a href=".././Mathlib/Analysis/SpecialFunctions/Log/Basic.html#Real.log">Real.log</a> <span class="fn">4</span></span> <a href=".././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn"><a href=".././Mathlib/Analysis/SpecialFunctions/Log/Basic.html#Real.log">Real.log</a> <span class="fn">‚Üë<span class="fn">n</span></span></span></div></div></div></div><div class="decl" id="Erdos392.tendsto_primeCounting_div_id_zero"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L2273-L2288">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.tendsto_primeCounting_div_id_zero"><span class="name">Erdos392</span>.<span class="name">tendsto_primeCounting_div_id_zero</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Mathlib/Order/Filter/Defs.html#Filter.Tendsto">Filter.Tendsto</a> <span class="fn">(fun (<span class="fn">n</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>) =&gt; <span class="fn">‚Üë<span class="fn"><span class="fn">n</span>.<a href=".././Mathlib/NumberTheory/PrimeCounting.html#Nat.primeCounting">primeCounting</a></span></span> <a href=".././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn">‚Üë<span class="fn">n</span></span>)</span> <a href=".././Mathlib/Order/Filter/AtTopBot/Defs.html#Filter.atTop">Filter.atTop</a> <span class="fn">(<a href=".././Mathlib/Topology/Defs/Filter.html#nhds">nhds</a> <span class="fn">0</span>)</span></span></div></div><p>The ratio <code>œÄ(n) / <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a> ‚Üí 0</code> as <code><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a> ‚Üí ‚àû</code>.</p></div></div><div class="decl" id="Erdos392.Params.initial.bound_score_5"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L2290-L2325">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.initial.bound_score_5"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial</span>.<span class="name">bound_score_5</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">Œµ</span> : <a href=".././Mathlib/Data/Real/Basic.html#Real">‚Ñù</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hŒµ</span> : <span class="fn">Œµ</span> <a href=".././Init/Prelude.html#GT.gt">&gt;</a> <span class="fn">0</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">M </span><span class="fn">L</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Mathlib/Order/Filter/Defs.html#Filter.Eventually">‚àÄ·∂†</a> (<span class="fn">n</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>) <a href=".././Mathlib/Order/Filter/Defs.html#Filter.Eventually">in</a> <a href=".././Mathlib/Order/Filter/AtTopBot/Defs.html#Filter.atTop">Filter.atTop</a><a href=".././Mathlib/Order/Filter/Defs.html#Filter.Eventually">,</a>   <span class="fn">‚àÄ (<span class="fn">P</span> : <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params">Params</a>),
    <span class="fn"><span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.M">M</a></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">M</span> ‚Üí
      <span class="fn"><span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">L</span> ‚Üí
        <span class="fn"><span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">n</span> ‚Üí
          <span class="fn">‚àë <span class="fn">_p</span> ‚àà <span class="fn"><a href=".././Mathlib/Order/Interval/Finset/Defs.html#Finset.Iic">Finset.Iic</a> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a></span></span> with <span class="fn"><a href=".././Mathlib/Data/Nat/Prime/Defs.html#Nat.Prime">Nat.Prime</a> <span class="fn">_p</span></span>,
              (<span class="fn">‚Üë<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.M">M</a></span></span> <a href=".././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><a href=".././Mathlib/Analysis/SpecialFunctions/Log/Basic.html#Real.log">Real.log</a> <span class="fn">‚Üë<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span></span></span> <a href=".././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">‚Üë<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.M">M</a></span></span> <a href=".././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">‚Üë<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a></span></span> <a href=".././Init/Prelude.html#HPow.hPow">^</a> <span class="fn">2</span> <a href=".././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">‚Üë<span class="fn"><span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span>.<a href=".././Mathlib/NumberTheory/PrimeCounting.html#Nat.primeCounting">primeCounting</a></span></span>) <a href=".././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><a href=".././Mathlib/Analysis/SpecialFunctions/Log/Basic.html#Real.log">Real.log</a> <span class="fn">‚Üë<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a></span></span></span></span> <a href=".././Init/Prelude.html#LE.le">‚â§</a>             <span class="fn">Œµ</span> <a href=".././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">‚Üë<span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span></span></span></span></span></span></span></div></div></div></div><div class="decl" id="Erdos392.Params.initial.score"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L2327-L2386">source</a></div><div class="verification_link">
<a href="../../modules/PrimeNumberTheoremAnd_Erdos392.html#Erdos392.Params.initial.score" class="verification-badge mathematical" title="Mathematical property (specification layer)">üìê coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.initial.score"><span class="name">Erdos392</span>.<span class="name">Params</span>.<span class="name">initial</span>.<span class="name">score</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">Œµ</span> : <a href=".././Mathlib/Data/Real/Basic.html#Real">‚Ñù</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hŒµ</span> : <span class="fn">Œµ</span> <a href=".././Init/Prelude.html#GT.gt">&gt;</a> <span class="fn">0</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Mathlib/Order/Filter/Defs.html#Filter.Eventually">‚àÄ·∂†</a> (<span class="fn">n</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>) <a href=".././Mathlib/Order/Filter/Defs.html#Filter.Eventually">in</a> <a href=".././Mathlib/Order/Filter/AtTopBot/Defs.html#Filter.atTop">Filter.atTop</a><a href=".././Mathlib/Order/Filter/Defs.html#Filter.Eventually">,</a> <span class="fn">‚àÉ (<span class="fn">P</span> : <a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params">Params</a>), <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">n</span> <a href=".././Init/Prelude.html#And">‚àß</a> <span class="fn"><span class="fn"><span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.initial">initial</a></span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.score">score</a></span> <span class="fn"><span class="fn">P</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.L">L</a></span></span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn">Œµ</span> <a href=".././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">‚Üë<span class="fn">n</span></span></span></span></div></div></div></div><div class="decl" id="Erdos392.Solution_1"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L2388-L2457">source</a></div><div class="verification_link">
<a href="../../modules/PrimeNumberTheoremAnd_Erdos392.html#Erdos392.Solution_1" class="verification-badge mathematical" title="Mathematical property (specification layer)">üìê coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Solution_1"><span class="name">Erdos392</span>.<span class="name">Solution_1</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">Œµ</span> : <a href=".././Mathlib/Data/Real/Basic.html#Real">‚Ñù</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hŒµ</span> : <span class="fn">Œµ</span> <a href=".././Init/Prelude.html#GT.gt">&gt;</a> <span class="fn">0</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Mathlib/Order/Filter/Defs.html#Filter.Eventually">‚àÄ·∂†</a> (<span class="fn">n</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>) <a href=".././Mathlib/Order/Filter/Defs.html#Filter.Eventually">in</a> <a href=".././Mathlib/Order/Filter/AtTopBot/Defs.html#Filter.atTop">Filter.atTop</a><a href=".././Mathlib/Order/Filter/Defs.html#Filter.Eventually">,</a>   <span class="fn">‚àÉ (<span class="fn">f</span> : <span class="fn"><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization">Factorization</a> <span class="fn">n</span></span>), <span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.total_imbalance">total_imbalance</a></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">0</span> <a href=".././Init/Prelude.html#And">‚àß</a> <span class="fn">‚Üë<span class="fn"><span class="fn"><span class="fn">f</span>.<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Factorization.a">a</a></span>.<a href=".././Mathlib/Data/Multiset/Defs.html#Multiset.card">card</a></span></span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn">‚Üë<span class="fn">n</span></span> <a href=".././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">‚Üë<span class="fn">n</span></span> <a href=".././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn"><a href=".././Mathlib/Analysis/SpecialFunctions/Log/Basic.html#Real.log">Real.log</a> <span class="fn">‚Üë<span class="fn">n</span></span></span> <a href=".././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">Œµ</span> <a href=".././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">‚Üë<span class="fn">n</span></span> <a href=".././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn"><a href=".././Mathlib/Analysis/SpecialFunctions/Log/Basic.html#Real.log">Real.log</a> <span class="fn">‚Üë<span class="fn">n</span></span></span></span></span></div></div></div></div><div class="decl" id="Erdos392.pairProd"><div class="def"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L2459-L2463">source</a></div><div class="verification_link">
<a href="../../modules/PrimeNumberTheoremAnd_Erdos392.html#Erdos392.pairProd" class="verification-badge comp-operation" title="Computational operation (Bool/decidable)">üî∏ coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.pairProd"><span class="name">Erdos392</span>.<span class="name">pairProd</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><a href=".././Init/Prelude.html#List">List</a> <a href=".././Init/Prelude.html#Nat">‚Ñï</a></span> ‚Üí <span class="fn"><a href=".././Init/Prelude.html#List">List</a> <a href=".././Init/Prelude.html#Nat">‚Ñï</a></span></span></div></div><p>Pair up elements of a list by multiplying consecutive pairs.</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-Erdos392.pairProd" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Erdos392.pairProd_prod"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L2465-L2470">source</a></div><div class="verification_link">
<a href="../../modules/PrimeNumberTheoremAnd_Erdos392.html#Erdos392.pairProd_prod" class="verification-badge mathematical" title="Mathematical property (specification layer)">üìê coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.pairProd_prod"><span class="name">Erdos392</span>.<span class="name">pairProd_prod</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">l</span> : <span class="fn"><a href=".././Init/Prelude.html#List">List</a> <a href=".././Init/Prelude.html#Nat">‚Ñï</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">l</span>.<a href=".././Batteries/Data/List/Basic.html#List.prod">prod</a></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">(<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.pairProd">pairProd</a> <span class="fn">l</span>)</span>.<a href=".././Batteries/Data/List/Basic.html#List.prod">prod</a></span></div></div><p>The product of a list equals the product of its paired version.</p></div></div><div class="decl" id="Erdos392.pairProd_length"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L2472-L2477">source</a></div><div class="verification_link">
<a href="../../modules/PrimeNumberTheoremAnd_Erdos392.html#Erdos392.pairProd_length" class="verification-badge mathematical" title="Mathematical property (specification layer)">üìê coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.pairProd_length"><span class="name">Erdos392</span>.<span class="name">pairProd_length</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">l</span> : <span class="fn"><a href=".././Init/Prelude.html#List">List</a> <a href=".././Init/Prelude.html#Nat">‚Ñï</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">(<a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.pairProd">pairProd</a> <span class="fn">l</span>)</span>.<a href=".././Init/Prelude.html#List.length">length</a></span> <a href=".././Init/Prelude.html#Eq">=</a> (<span class="fn"><span class="fn">l</span>.<a href=".././Init/Prelude.html#List.length">length</a></span> <a href=".././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>) <a href=".././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn">2</span></div></div><p>The length of the paired list is <code>‚åàl.length / 2‚åâ = (l.length + 1) / 2</code>.</p></div></div><div class="decl" id="Erdos392.pairProd_bound"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L2479-L2496">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.pairProd_bound"><span class="name">Erdos392</span>.<span class="name">pairProd_bound</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">l</span> : <span class="fn"><a href=".././Init/Prelude.html#List">List</a> <a href=".././Init/Prelude.html#Nat">‚Ñï</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">n</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hl</span> : <span class="fn">‚àÄ <span class="fn">x</span> ‚àà <span class="fn">l</span>, <span class="fn">x</span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn">n</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">x</span> <a href=".././Init/Prelude.html#Membership.mem">‚àà</a> <span class="fn"><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.pairProd">pairProd</a> <span class="fn">l</span></span> ‚Üí <span class="fn">x</span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn">n</span> <a href=".././Init/Prelude.html#HPow.hPow">^</a> <span class="fn">2</span></span></div></div><p>If all elements of <code>l</code> are at most <code><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Params.n">n</a></code>, then all elements of <code><a href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.pairProd">pairProd</a> l</code> are at most <code>n¬≤</code>.</p></div></div><div class="decl" id="Erdos392.Solution_2"><div class="theorem"><div class="gh_link"><a href="https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/blob/8f55113c6e5c85bbbcc0cfbfe42b3f20423e15e3/PrimeNumberTheoremAnd/Erdos392.lean#L2498-L2543">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href=".././PrimeNumberTheoremAnd/Erdos392.html#Erdos392.Solution_2"><span class="name">Erdos392</span>.<span class="name">Solution_2</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">Œµ</span> : <a href=".././Mathlib/Data/Real/Basic.html#Real">‚Ñù</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hŒµ</span> : <span class="fn">Œµ</span> <a href=".././Init/Prelude.html#GT.gt">&gt;</a> <span class="fn">0</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Mathlib/Order/Filter/Defs.html#Filter.Eventually">‚àÄ·∂†</a> (<span class="fn">n</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>) <a href=".././Mathlib/Order/Filter/Defs.html#Filter.Eventually">in</a> <a href=".././Mathlib/Order/Filter/AtTopBot/Defs.html#Filter.atTop">Filter.atTop</a><a href=".././Mathlib/Order/Filter/Defs.html#Filter.Eventually">,</a>   <span class="fn">‚àÉ (<span class="fn">t</span> : <a href=".././Init/Prelude.html#Nat">‚Ñï</a>) (<span class="fn">a</span> : <span class="fn"><span class="fn"><a href=".././Init/Prelude.html#Fin">Fin</a> <span class="fn">t</span></span> ‚Üí <a href=".././Init/Prelude.html#Nat">‚Ñï</a></span>),
    <span class="fn">‚àè <span class="fn">i</span> : <span class="fn"><a href=".././Init/Prelude.html#Fin">Fin</a> <span class="fn">t</span></span>, <span class="fn"><span class="fn">a</span> <span class="fn">i</span></span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">n</span>.<a href=".././Mathlib/Data/Nat/Factorial/Basic.html#Nat.factorial">factorial</a></span> <a href=".././Init/Prelude.html#And">‚àß</a>       <span class="fn">‚àÄ (<span class="fn">i</span> : <span class="fn"><a href=".././Init/Prelude.html#Fin">Fin</a> <span class="fn">t</span></span>), <span class="fn"><span class="fn">a</span> <span class="fn">i</span></span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn">n</span> <a href=".././Init/Prelude.html#HPow.hPow">^</a> <span class="fn">2</span> <a href=".././Init/Prelude.html#And">‚àß</a> <span class="fn">‚Üë<span class="fn">t</span></span> <a href=".././Init/Prelude.html#LE.le">‚â§</a> <span class="fn">‚Üë<span class="fn">n</span></span> <a href=".././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn">2</span> <a href=".././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">‚Üë<span class="fn">n</span></span> <a href=".././Init/Prelude.html#HDiv.hDiv">/</a> (<span class="fn">2</span> <a href=".././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><a href=".././Mathlib/Analysis/SpecialFunctions/Log/Basic.html#Real.log">Real.log</a> <span class="fn">‚Üë<span class="fn">n</span></span></span>) <a href=".././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">Œµ</span> <a href=".././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">‚Üë<span class="fn">n</span></span> <a href=".././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn"><a href=".././Mathlib/Analysis/SpecialFunctions/Log/Basic.html#Real.log">Real.log</a> <span class="fn">‚Üë<span class="fn">n</span></span></span></span></span></span></div></div></div></div></main>
<nav class="nav"><iframe src=".././navbar.html" class="navframe" frameBorder="0"></iframe></nav></body></html>