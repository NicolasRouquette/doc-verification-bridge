<html lang="en"><head><meta charset="UTF-8"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><link rel="stylesheet" href="../../.././style.css"></link><link rel="icon" href="../../.././favicon.svg"></link><link rel="mask-icon" href="../../.././favicon.svg" color="#000000"></link><link rel="prefetch" href="../../.././/declarations/declaration-data.bmp" as="image"></link><title>PhysLean.Relativity.Tensors.Elab</title><script defer="true" src="../../.././mathjax-config.js"></script><script defer="true" src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script><script defer="true" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script><script>const SITE_ROOT="../../.././";</script><script>const MODULE_NAME="PhysLean.Relativity.Tensors.Elab";</script><script type="module" src="../../.././jump-src.js"></script><script type="module" src="../../.././search.js"></script><script type="module" src="../../.././expand-nav.js"></script><script type="module" src="../../.././how-about.js"></script><script type="module" src="../../.././instances.js"></script><script type="module" src="../../.././importedBy.js"></script></head><body><input id="nav_toggle" type="checkbox"></input><header><h1><label for="nav_toggle"></label><span>Documentation</span></h1><h2 class="header_filename break_within"><span class="name">PhysLean</span>.<span class="name">Relativity</span>.<span class="name">Tensors</span>.<span class="name">Elab</span></h2><form id="search_form"><input type="text" name="q" autocomplete="off"></input>&#32;<button id="search_button" onclick="javascript: form.action='../../.././search.html';">Search</button></form></header><nav class="internal_nav"><p><a href="#top">return to top</a></p><p class="gh_nav_link"><a href="https://github.com/HEPLean/PhysLean">source</a></p><div class="imports"><details><summary>Imports</summary><ul><li><a href="../../.././Init.html">Init</a></li><li><a href="../../.././PhysLean/Relativity/Tensors/Evaluation.html">PhysLean.Relativity.Tensors.Evaluation</a></li><li><a href="../../.././PhysLean/Relativity/Tensors/Tensorial.html">PhysLean.Relativity.Tensors.Tensorial</a></li><li><a href="../../.././PhysLean/Relativity/Tensors/Contraction/Basic.html">PhysLean.Relativity.Tensors.Contraction.Basic</a></li></ul></details><details><summary>Imported by</summary><ul id="imported-by-PhysLean.Relativity.Tensors.Elab" class="imported-by-list"></ul></details></div><div class="nav_link"><a class="break_within" href="#TensorSpecies.Tensor.indexExpr.quot"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">indexExpr</span>.<span class="name">quot</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Parser.Category.indexExpr"><span class="name">Lean</span>.<span class="name">Parser</span>.<span class="name">Category</span>.<span class="name">indexExpr</span></a></div><div class="nav_link"><a class="break_within" href="#TensorSpecies.Tensor.indexExpr_"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">indexExpr_</span></a></div><div class="nav_link"><a class="break_within" href="#TensorSpecies.Tensor.indexExpr__1"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">indexExpr__1</span></a></div><div class="nav_link"><a class="break_within" href="#TensorSpecies.Tensor.«indexExprτ(_)»"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">«indexExprτ(_)»</span></a></div><div class="nav_link"><a class="break_within" href="#TensorSpecies.Tensor.indexExprIsNum"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">indexExprIsNum</span></a></div><div class="nav_link"><a class="break_within" href="#TensorSpecies.Tensor.indexToNum"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">indexToNum</span></a></div><div class="nav_link"><a class="break_within" href="#TensorSpecies.Tensor.indexToIdent"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">indexToIdent</span></a></div><div class="nav_link"><a class="break_within" href="#TensorSpecies.Tensor.indexPosEq"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">indexPosEq</span></a></div><div class="nav_link"><a class="break_within" href="#TensorSpecies.Tensor.indexToDual"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">indexToDual</span></a></div><div class="nav_link"><a class="break_within" href="#TensorSpecies.Tensor.evalAdjustPos"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">evalAdjustPos</span></a></div><div class="nav_link"><a class="break_within" href="#TensorSpecies.Tensor.getEvalPos"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">getEvalPos</span></a></div><div class="nav_link"><a class="break_within" href="#TensorSpecies.Tensor.getContrPos"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">getContrPos</span></a></div><div class="nav_link"><a class="break_within" href="#TensorSpecies.Tensor.withoutContrEval"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">withoutContrEval</span></a></div><div class="nav_link"><a class="break_within" href="#TensorSpecies.Tensor.toPairs"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">toPairs</span></a></div><div class="nav_link"><a class="break_within" href="#TensorSpecies.Tensor.contrListAdjust"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">contrListAdjust</span></a></div><div class="nav_link"><a class="break_within" href="#TensorSpecies.Tensor.getPermutation"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">getPermutation</span></a></div><div class="nav_link"><a class="break_within" href="#TensorSpecies.Tensor.stringToTerm"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">stringToTerm</span></a></div><div class="nav_link"><a class="break_within" href="#TensorSpecies.Tensor.getPermutationTerm"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">getPermutationTerm</span></a></div><div class="nav_link"><a class="break_within" href="#TensorSpecies.Tensor.tensorExpr.quot"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">tensorExpr</span>.<span class="name">quot</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Parser.Category.tensorExpr"><span class="name">Lean</span>.<span class="name">Parser</span>.<span class="name">Category</span>.<span class="name">tensorExpr</span></a></div><div class="nav_link"><a class="break_within" href="#TensorSpecies.Tensor.«tensorExpr_|__»"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">«tensorExpr_|__»</span></a></div><div class="nav_link"><a class="break_within" href="#TensorSpecies.Tensor.«tensorExpr_=_»"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">«tensorExpr_=_»</span></a></div><div class="nav_link"><a class="break_within" href="#TensorSpecies.Tensor.«tensorExpr_⊗_»"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">«tensorExpr_⊗_»</span></a></div><div class="nav_link"><a class="break_within" href="#TensorSpecies.Tensor.«tensorExpr_+_»"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">«tensorExpr_+_»</span></a></div><div class="nav_link"><a class="break_within" href="#TensorSpecies.Tensor.«tensorExpr(_)»"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">«tensorExpr(_)»</span></a></div><div class="nav_link"><a class="break_within" href="#TensorSpecies.Tensor.«tensorExpr_•ₜ_»"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">«tensorExpr_•ₜ_»</span></a></div><div class="nav_link"><a class="break_within" href="#TensorSpecies.Tensor.«tensorExpr_•ₐ_»"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">«tensorExpr_•ₐ_»</span></a></div><div class="nav_link"><a class="break_within" href="#TensorSpecies.Tensor.«tensorExpr-_»"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">«tensorExpr-_»</span></a></div><div class="nav_link"><a class="break_within" href="#TensorSpecies.Tensor.getNumIndicesExact"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">getNumIndicesExact</span></a></div><div class="nav_link"><a class="break_within" href="#TensorSpecies.Tensor.getAllIndices"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">getAllIndices</span></a></div><div class="nav_link"><a class="break_within" href="#TensorSpecies.Tensor.getProdIndices"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">getProdIndices</span></a></div><div class="nav_link"><a class="break_within" href="#TensorSpecies.Tensor.getIndicesFull"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">getIndicesFull</span></a></div><div class="nav_link"><a class="break_within" href="#TensorSpecies.Tensor.getIndicesLeft"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">getIndicesLeft</span></a></div><div class="nav_link"><a class="break_within" href="#TensorSpecies.Tensor.getIndicesRight"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">getIndicesRight</span></a></div><div class="nav_link"><a class="break_within" href="#TensorSpecies.Tensor.getIndicesLeftEq"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">getIndicesLeftEq</span></a></div><div class="nav_link"><a class="break_within" href="#TensorSpecies.Tensor.getIndicesRightEq"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">getIndicesRightEq</span></a></div><div class="nav_link"><a class="break_within" href="#TensorSpecies.Tensor.nodeTermMap"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">nodeTermMap</span></a></div><div class="nav_link"><a class="break_within" href="#TensorSpecies.Tensor.evalTermMap"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">evalTermMap</span></a></div><div class="nav_link"><a class="break_within" href="#TensorSpecies.Tensor.contrTermMap"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">contrTermMap</span></a></div><div class="nav_link"><a class="break_within" href="#TensorSpecies.Tensor.prodTermMap"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">prodTermMap</span></a></div><div class="nav_link"><a class="break_within" href="#TensorSpecies.Tensor.negTermMap"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">negTermMap</span></a></div><div class="nav_link"><a class="break_within" href="#TensorSpecies.Tensor.smulTermMap"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">smulTermMap</span></a></div><div class="nav_link"><a class="break_within" href="#TensorSpecies.Tensor.actionTermMap"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">actionTermMap</span></a></div><div class="nav_link"><a class="break_within" href="#TensorSpecies.Tensor.addTermMap"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">addTermMap</span></a></div><div class="nav_link"><a class="break_within" href="#TensorSpecies.Tensor.equalTermMap"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">equalTermMap</span></a></div><div class="nav_link"><a class="break_within" href="#TensorSpecies.Tensor.syntaxFull"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">syntaxFull</span></a></div><div class="nav_link"><a class="break_within" href="#TensorSpecies.Tensor.elaborateTensorNode"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">elaborateTensorNode</span></a></div><div class="nav_link"><a class="break_within" href="#TensorSpecies.Tensor.tensorExprSyntax"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">tensorExprSyntax</span></a></div></nav><main>
<div class="mod_doc"><h1 class="markdown-heading" id="Elaboration-of-tensor-expressions">Elaboration of tensor expressions <a class="hover-link" href="#Elaboration-of-tensor-expressions">#</a></h1><ul>
<li>Syntax in Lean allows us to represent tensor expressions in a way close to what we expect to
see on pen-and-paper.</li>
<li>The elaborator turns this syntax into a tensor tree.</li>
</ul><h2 class="markdown-heading" id="Examples">Examples <a class="hover-link" href="#Examples">#</a></h2><ul>
<li>Suppose <code>T</code> and <code>T'</code> are tensors <code>S.F (OverColor.mk ![c1, c2])</code>.</li>
<li><code>{T | μ ν}ᵀ</code> is <code>tensorNode T</code>.</li>
<li>We can also write e.g. <code>{T | μ ν}ᵀ.tensor</code> to get the tensor itself.</li>
<li><code>{- T | μ ν}ᵀ</code> is <code>neg (tensorNode T)</code>.</li>
<li><code>{T | 0 ν}ᵀ</code> is <code>eval 0 0 (tensorNode T)</code>.</li>
<li><code>{T | μ ν + T' | μ ν}ᵀ</code> is <code>addNode (tensorNode T) (perm _ (tensorNode T'))</code>, where
here <code>_</code> will be the identity permutation so does nothing.</li>
<li><code>{T | μ ν = T' | μ ν}ᵀ</code> is <code>(tensorNode T).tensor = (perm _ (tensorNode T')).tensor</code>.</li>
<li>If <code>a ∈ k</code> then <code>{a •ₜ T | μ ν}ᵀ</code> is <code>smulNode a (tensorNode T)</code>.</li>
<li>If <code>g ∈ S.G</code> then <code>{g •ₐ T | μ ν}ᵀ</code> is <code>actionNode g (tensorNode T)</code>.</li>
<li>Suppose <code>T2</code> is a tensor <code>S.F (OverColor.mk ![c3])</code>.
Then <code>{T | μ ν ⊗ T2 | σ}ᵀ</code> is <code>prodNode (tensorNode T1) (tensorNode T2)</code>.</li>
<li>If <code>T3</code> is a tensor <code>S.F (OverColor.mk ![S.τ c1, S.τ c2])</code>, then
<code>{T | μ ν ⊗ T3 | μ σ}ᵀ</code> is <code>contr 0 1 _ (prodNode (tensorNode T1) (tensorNode T3))</code>.
<code>{T | μ ν ⊗ T3 | μ ν }ᵀ</code> is
<code>contr 0 0 _ (contr 0 1 _ (prodNode (tensorNode T1) (tensorNode T3)))</code>.</li>
<li>If <code>T4</code> is a tensor <code>S.F (OverColor.mk ![c2, c1])</code> then
<code>{T | μ ν + T4 | ν μ }ᵀ</code>is <code>addNode (tensorNode T) (perm _ (tensorNode T4))</code> where <code>_</code>
is the permutation of the two indices of <code>T4</code>.
<code>{T | μ ν = T4 | ν μ }ᵀ</code> is <code>(tensorNode T).tensor = (perm _ (tensorNode T4)).tensor</code> is the
permutation of the two indices of <code>T4</code>.</li>
</ul><h2 class="markdown-heading" id="Comments">Comments <a class="hover-link" href="#Comments">#</a></h2><ul>
<li>In all of these expressions <code>μ</code>, <code>ν</code> etc are free. It does not matter what they are called,
Lean will elaborate them in the same way. In other words, <code>{T | μ ν ⊗ T3 | μ ν }ᵀ</code> is exactly
the same to Lean as <code>{T | α β ⊗ T3 | α β }ᵀ</code>.</li>
<li>Note that compared to ordinary index notation, we do not rise or lower the indices.
This is for two reasons: 1) It is difficult to make this general for all tensor species,
2) It is a redundancy in ordinary index notation, since the tensor <code>T</code> itself already tells you
this information.</li>
</ul></div><div class="mod_doc"><h2 class="markdown-heading" id="Indices">Indices <a class="hover-link" href="#Indices">#</a></h2></div><div class="decl" id="TensorSpecies.Tensor.indexExpr.quot"><div class="def"><div class="gh_link"><a href="https://github.com/HEPLean/PhysLean#L62-L63">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././PhysLean/Relativity/Tensors/Elab.html#TensorSpecies.Tensor.indexExpr.quot"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">indexExpr</span>.<span class="name">quot</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#Lean.ParserDescr">Lean.ParserDescr</a></div></div><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-TensorSpecies.Tensor.indexExpr.quot" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Parser.Category.indexExpr"><div class="def"><div class="gh_link"><a href="https://github.com/HEPLean/PhysLean#L62-L63">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././PhysLean/Relativity/Tensors/Elab.html#Lean.Parser.Category.indexExpr"><span class="name">Lean</span>.<span class="name">Parser</span>.<span class="name">Category</span>.<span class="name">indexExpr</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Notation.html#Lean.Parser.Category">Category</a></div></div><p>A syntax category for indices of tensor expressions.</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-Lean.Parser.Category.indexExpr" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="TensorSpecies.Tensor.indexExpr_"><div class="def"><div class="gh_link"><a href="https://github.com/HEPLean/PhysLean#L65-L66">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././PhysLean/Relativity/Tensors/Elab.html#TensorSpecies.Tensor.indexExpr_"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">indexExpr_</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#Lean.ParserDescr">Lean.ParserDescr</a></div></div><p>A basic index is a ident.</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-TensorSpecies.Tensor.indexExpr_" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="TensorSpecies.Tensor.indexExpr__1"><div class="def"><div class="gh_link"><a href="https://github.com/HEPLean/PhysLean#L68-L69">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././PhysLean/Relativity/Tensors/Elab.html#TensorSpecies.Tensor.indexExpr__1"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">indexExpr__1</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#Lean.ParserDescr">Lean.ParserDescr</a></div></div><p>An index can be a num, which will be used to evaluate the tensor.</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-TensorSpecies.Tensor.indexExpr__1" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="TensorSpecies.Tensor.«indexExprτ(_)»"><div class="def"><div class="gh_link"><a href="https://github.com/HEPLean/PhysLean#L71-L72">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././PhysLean/Relativity/Tensors/Elab.html#TensorSpecies.Tensor.«indexExprτ(_)»"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">«indexExprτ(_)»</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#Lean.ParserDescr">Lean.ParserDescr</a></div></div><p>Notation to describe the jiggle of a tensor index.</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-TensorSpecies.Tensor.«indexExprτ(_)»" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="TensorSpecies.Tensor.indexExprIsNum"><div class="def"><div class="gh_link"><a href="https://github.com/HEPLean/PhysLean#L74-L78">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././PhysLean/Relativity/Tensors/Elab.html#TensorSpecies.Tensor.indexExprIsNum"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">indexExprIsNum</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">stx</span> : <a href="../../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#Bool">Bool</a></div></div><p>Bool which is true if an index is a num.</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-TensorSpecies.Tensor.indexExprIsNum" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="TensorSpecies.Tensor.indexToNum"><div class="def"><div class="gh_link"><a href="https://github.com/HEPLean/PhysLean#L80-L88">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././PhysLean/Relativity/Tensors/Elab.html#TensorSpecies.Tensor.indexToNum"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">indexToNum</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">stx</span> : <a href="../../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <a href="../../.././Init/Prelude.html#Nat">ℕ</a></span></div></div><p>If an index is a num - the underlying natural number.</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-TensorSpecies.Tensor.indexToNum" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="TensorSpecies.Tensor.indexToIdent"><div class="def"><div class="gh_link"><a href="https://github.com/HEPLean/PhysLean#L90-L96">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././PhysLean/Relativity/Tensors/Elab.html#TensorSpecies.Tensor.indexToIdent"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">indexToIdent</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">stx</span> : <a href="../../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <a href="../../.././Init/Meta/Defs.html#Lean.Syntax.Ident">Lean.Ident</a></span></div></div><p>When an index is not a num, the corresponding ident.</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-TensorSpecies.Tensor.indexToIdent" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="TensorSpecies.Tensor.indexPosEq"><div class="def"><div class="gh_link"><a href="https://github.com/HEPLean/PhysLean#L98-L106">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././PhysLean/Relativity/Tensors/Elab.html#TensorSpecies.Tensor.indexPosEq"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">indexPosEq</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">a </span><span class="fn">b</span> : <a href="../../.././Init/Prelude.html#Lean.TSyntax">Lean.TSyntax</a> <span class="fn">`indexExpr</span> <a href="../../.././Init/Prelude.html#Prod">×</a> <a href="../../.././Init/Prelude.html#Nat">ℕ</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <span class="fn">(<a href="../../.././Init/Prelude.html#Option">Option</a> (<a href="../../.././Init/Prelude.html#Nat">ℕ</a> <a href="../../.././Init/Prelude.html#Prod">×</a> <a href="../../.././Init/Prelude.html#Nat">ℕ</a>))</span></span></div></div><p>Takes a pair <code>a b : ℕ × TSyntax `indexExpr</code>. If <code>a.1 &lt; b.1</code> and <code>a.2 = b.2</code> then
outputs <code>some (a.1, b.1)</code>, otherwise <code>none</code>.</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-TensorSpecies.Tensor.indexPosEq" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="TensorSpecies.Tensor.indexToDual"><div class="def"><div class="gh_link"><a href="https://github.com/HEPLean/PhysLean#L108-L112">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././PhysLean/Relativity/Tensors/Elab.html#TensorSpecies.Tensor.indexToDual"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">indexToDual</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">stx</span> : <a href="../../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#Bool">Bool</a></div></div><p>Bool which is true if an index is of the form τ(i) that is, to be dualed.</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-TensorSpecies.Tensor.indexToDual" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="mod_doc"><h2 class="markdown-heading" id="Manipulation-of-lists-of-indexExpr">Manipulation of lists of indexExpr <a class="hover-link" href="#Manipulation-of-lists-of-indexExpr">#</a></h2></div><div class="decl" id="TensorSpecies.Tensor.evalAdjustPos"><div class="def"><div class="gh_link"><a href="https://github.com/HEPLean/PhysLean#L120-L128">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././PhysLean/Relativity/Tensors/Elab.html#TensorSpecies.Tensor.evalAdjustPos"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">evalAdjustPos</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">l</span> : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <a href="../../.././Init/Prelude.html#Nat">ℕ</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <a href="../../.././Init/Prelude.html#Nat">ℕ</a></span></div></div><p>Adjusts a list <code><a href="../../.././Init/Prelude.html#List">List</a> ℕ</code> by subtracting from each natural number the number
of elements before it in the list which are less than itself. This is used
to form a list of pairs which can be used for evaluating indices.</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-TensorSpecies.Tensor.evalAdjustPos" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="TensorSpecies.Tensor.getEvalPos"><div class="def"><div class="gh_link"><a href="https://github.com/HEPLean/PhysLean#L130-L141">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././PhysLean/Relativity/Tensors/Elab.html#TensorSpecies.Tensor.getEvalPos"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">getEvalPos</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">ind</span> : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> (<a href="../../.././Init/Prelude.html#Lean.TSyntax">Lean.TSyntax</a> <span class="fn">`indexExpr</span>)</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <span class="fn">(<a href="../../.././Init/Prelude.html#List">List</a> (<a href="../../.././Init/Prelude.html#Nat">ℕ</a> <a href="../../.././Init/Prelude.html#Prod">×</a> <a href="../../.././Init/Prelude.html#Nat">ℕ</a>))</span></span></div></div><p>For list of <code><a href="../../.././PhysLean/Relativity/Tensors/Elab.html#Lean.Parser.Category.indexExpr">indexExpr</a></code> e.g. <code>[α, 3, β, 2, γ]</code>, <code><a href="../../.././PhysLean/Relativity/Tensors/Elab.html#TensorSpecies.Tensor.getEvalPos">getEvalPos</a></code>
returns a list of pairs <code>ℕ × ℕ</code> related to indices which are numbers.
The second element of each pair is the number corresponding to that index.
The first element is the position of that number in the list of indices when
all other numbered indices before it are removed. Thus for the example given
<code><a href="../../.././PhysLean/Relativity/Tensors/Elab.html#TensorSpecies.Tensor.getEvalPos">getEvalPos</a></code> outputs <code>[(1, 3), (2, 2)]</code>.</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-TensorSpecies.Tensor.getEvalPos" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="TensorSpecies.Tensor.getContrPos"><div class="def"><div class="gh_link"><a href="https://github.com/HEPLean/PhysLean#L143-L155">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././PhysLean/Relativity/Tensors/Elab.html#TensorSpecies.Tensor.getContrPos"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">getContrPos</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">ind</span> : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> (<a href="../../.././Init/Prelude.html#Lean.TSyntax">Lean.TSyntax</a> <span class="fn">`indexExpr</span>)</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <span class="fn">(<a href="../../.././Init/Prelude.html#List">List</a> (<a href="../../.././Init/Prelude.html#Nat">ℕ</a> <a href="../../.././Init/Prelude.html#Prod">×</a> <a href="../../.././Init/Prelude.html#Nat">ℕ</a>))</span></span></div></div><p>For list of <code><a href="../../.././PhysLean/Relativity/Tensors/Elab.html#Lean.Parser.Category.indexExpr">indexExpr</a></code> e.g. <code>[α, 3, β, α, 2, γ]</code>, <code><a href="../../.././PhysLean/Relativity/Tensors/Elab.html#TensorSpecies.Tensor.getContrPos">getContrPos</a></code>
first removes all indices which are numbers (e.g. <code>[α, β, α, γ]</code>).
It then outputs pairs <code>(a, b)</code> in <code>ℕ × ℕ</code> of positions of this list with <code>a &lt; b</code>
such that the index at <code>a</code> is equal to the index at <code>b</code>. It checks whether or not
an element is contracted more then once.</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-TensorSpecies.Tensor.getContrPos" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="TensorSpecies.Tensor.withoutContrEval"><div class="def"><div class="gh_link"><a href="https://github.com/HEPLean/PhysLean#L157-L160">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././PhysLean/Relativity/Tensors/Elab.html#TensorSpecies.Tensor.withoutContrEval"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">withoutContrEval</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">ind</span> : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> (<a href="../../.././Init/Prelude.html#Lean.TSyntax">Lean.TSyntax</a> <span class="fn">`indexExpr</span>)</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <span class="fn">(<a href="../../.././Init/Prelude.html#List">List</a> (<a href="../../.././Init/Prelude.html#Lean.TSyntax">Lean.TSyntax</a> <span class="fn">`indexExpr</span>))</span></span></div></div><p>The list of indices after contraction or evaluation.</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-TensorSpecies.Tensor.withoutContrEval" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="TensorSpecies.Tensor.toPairs"><div class="def"><div class="gh_link"><a href="https://github.com/HEPLean/PhysLean#L162-L168">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././PhysLean/Relativity/Tensors/Elab.html#TensorSpecies.Tensor.toPairs"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">toPairs</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">l</span> : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <a href="../../.././Init/Prelude.html#Nat">ℕ</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> (<a href="../../.././Init/Prelude.html#Nat">ℕ</a> <a href="../../.././Init/Prelude.html#Prod">×</a> <a href="../../.././Init/Prelude.html#Nat">ℕ</a>)</span></div></div><p>Takes a list and puts consecutive elements into pairs.
e.g. [0, 1, 2, 3] becomes [(0, 1), (2, 3)].</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-TensorSpecies.Tensor.toPairs" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="TensorSpecies.Tensor.contrListAdjust"><div class="def"><div class="gh_link"><a href="https://github.com/HEPLean/PhysLean#L170-L178">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././PhysLean/Relativity/Tensors/Elab.html#TensorSpecies.Tensor.contrListAdjust"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">contrListAdjust</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">l</span> : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> (<a href="../../.././Init/Prelude.html#Nat">ℕ</a> <a href="../../.././Init/Prelude.html#Prod">×</a> <a href="../../.././Init/Prelude.html#Nat">ℕ</a>)</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> (<a href="../../.././Init/Prelude.html#Nat">ℕ</a> <a href="../../.././Init/Prelude.html#Prod">×</a> <a href="../../.././Init/Prelude.html#Nat">ℕ</a>)</span></div></div><p>Adjusts a list <code><a href="../../.././Init/Prelude.html#List">List</a> (ℕ × ℕ)</code> by subtracting from each natural number the number
of elements before it in the list which are less than itself. This is used
to form a list of pairs which can be used for contracting indices.</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-TensorSpecies.Tensor.contrListAdjust" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="mod_doc"><h2 class="markdown-heading" id="Permutations-of-indices">Permutations of indices <a class="hover-link" href="#Permutations-of-indices">#</a></h2></div><div class="decl" id="TensorSpecies.Tensor.getPermutation"><div class="def"><div class="gh_link"><a href="https://github.com/HEPLean/PhysLean#L186-L198">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././PhysLean/Relativity/Tensors/Elab.html#TensorSpecies.Tensor.getPermutation"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">getPermutation</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">l1 </span><span class="fn">l2</span> : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> (<a href="../../.././Init/Prelude.html#Lean.TSyntax">Lean.TSyntax</a> <span class="fn">`indexExpr</span>)</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <span class="fn">(<a href="../../.././Init/Prelude.html#List">List</a> <a href="../../.././Init/Prelude.html#Nat">ℕ</a>)</span></span></div></div><p>Given two lists of indices, all of which are indent,
returns the <code><a href="../../.././Init/Prelude.html#List">List</a> (ℕ)</code> representing the how one list
permutes into the other.</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-TensorSpecies.Tensor.getPermutation" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="TensorSpecies.Tensor.stringToTerm"><div class="def"><div class="gh_link"><a href="https://github.com/HEPLean/PhysLean#L200-L208">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././PhysLean/Relativity/Tensors/Elab.html#TensorSpecies.Tensor.stringToTerm"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">stringToTerm</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">str</span> : <a href="../../.././Init/Prelude.html#String">String</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <a href="../../.././Init/Meta/Defs.html#Lean.Syntax.Term">Lean.Term</a></span></div></div><p>The construction of an expression corresponding to the type of a given string once parsed.</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-TensorSpecies.Tensor.stringToTerm" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="TensorSpecies.Tensor.getPermutationTerm"><div class="def"><div class="gh_link"><a href="https://github.com/HEPLean/PhysLean#L210-L219">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././PhysLean/Relativity/Tensors/Elab.html#TensorSpecies.Tensor.getPermutationTerm"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">getPermutationTerm</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">l1 </span><span class="fn">l2</span> : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> (<a href="../../.././Init/Prelude.html#Lean.TSyntax">Lean.TSyntax</a> <span class="fn">`indexExpr</span>)</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <a href="../../.././Init/Meta/Defs.html#Lean.Syntax.Term">Lean.Term</a></span></div></div><p>Given two lists of indices returns the permutation between them based on <code>finMapToEquiv</code>.</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-TensorSpecies.Tensor.getPermutationTerm" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="mod_doc"><h2 class="markdown-heading" id="Syntax-for-tensor-expressions">Syntax for tensor expressions. <a class="hover-link" href="#Syntax-for-tensor-expressions">#</a></h2></div><div class="decl" id="TensorSpecies.Tensor.tensorExpr.quot"><div class="def"><div class="gh_link"><a href="https://github.com/HEPLean/PhysLean#L227-L228">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././PhysLean/Relativity/Tensors/Elab.html#TensorSpecies.Tensor.tensorExpr.quot"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">tensorExpr</span>.<span class="name">quot</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#Lean.ParserDescr">Lean.ParserDescr</a></div></div><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-TensorSpecies.Tensor.tensorExpr.quot" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Parser.Category.tensorExpr"><div class="def"><div class="gh_link"><a href="https://github.com/HEPLean/PhysLean#L227-L228">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././PhysLean/Relativity/Tensors/Elab.html#Lean.Parser.Category.tensorExpr"><span class="name">Lean</span>.<span class="name">Parser</span>.<span class="name">Category</span>.<span class="name">tensorExpr</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Notation.html#Lean.Parser.Category">Category</a></div></div><p>A syntax category for tensor expressions.</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-Lean.Parser.Category.tensorExpr" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="TensorSpecies.Tensor.«tensorExpr_|__»"><div class="def"><div class="gh_link"><a href="https://github.com/HEPLean/PhysLean#L230-L231">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././PhysLean/Relativity/Tensors/Elab.html#TensorSpecies.Tensor.«tensorExpr_|__»"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">«tensorExpr_|__»</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#Lean.ParserDescr">Lean.ParserDescr</a></div></div><p>The syntax for a tensor node.</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-TensorSpecies.Tensor.«tensorExpr_|__»" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="TensorSpecies.Tensor.«tensorExpr_=_»"><div class="def"><div class="gh_link"><a href="https://github.com/HEPLean/PhysLean#L233-L234">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././PhysLean/Relativity/Tensors/Elab.html#TensorSpecies.Tensor.«tensorExpr_=_»"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">«tensorExpr_=_»</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#Lean.TrailingParserDescr">Lean.TrailingParserDescr</a></div></div><p>Equality.</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-TensorSpecies.Tensor.«tensorExpr_=_»" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="TensorSpecies.Tensor.«tensorExpr_⊗_»"><div class="def"><div class="gh_link"><a href="https://github.com/HEPLean/PhysLean#L236-L237">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././PhysLean/Relativity/Tensors/Elab.html#TensorSpecies.Tensor.«tensorExpr_⊗_»"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">«tensorExpr_⊗_»</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#Lean.TrailingParserDescr">Lean.TrailingParserDescr</a></div></div><p>The syntax for tensor prod two tensor nodes.</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-TensorSpecies.Tensor.«tensorExpr_⊗_»" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="TensorSpecies.Tensor.«tensorExpr_+_»"><div class="def"><div class="gh_link"><a href="https://github.com/HEPLean/PhysLean#L239-L240">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././PhysLean/Relativity/Tensors/Elab.html#TensorSpecies.Tensor.«tensorExpr_+_»"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">«tensorExpr_+_»</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#Lean.TrailingParserDescr">Lean.TrailingParserDescr</a></div></div><p>The syntax for tensor addition.</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-TensorSpecies.Tensor.«tensorExpr_+_»" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="TensorSpecies.Tensor.«tensorExpr(_)»"><div class="def"><div class="gh_link"><a href="https://github.com/HEPLean/PhysLean#L242-L243">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././PhysLean/Relativity/Tensors/Elab.html#TensorSpecies.Tensor.«tensorExpr(_)»"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">«tensorExpr(_)»</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#Lean.ParserDescr">Lean.ParserDescr</a></div></div><p>Allowing brackets to be used in a tensor expression.</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-TensorSpecies.Tensor.«tensorExpr(_)»" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="TensorSpecies.Tensor.«tensorExpr_•ₜ_»"><div class="def"><div class="gh_link"><a href="https://github.com/HEPLean/PhysLean#L245-L246">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././PhysLean/Relativity/Tensors/Elab.html#TensorSpecies.Tensor.«tensorExpr_•ₜ_»"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">«tensorExpr_•ₜ_»</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#Lean.ParserDescr">Lean.ParserDescr</a></div></div><p>Scalar multiplication for tensors.</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-TensorSpecies.Tensor.«tensorExpr_•ₜ_»" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="TensorSpecies.Tensor.«tensorExpr_•ₐ_»"><div class="def"><div class="gh_link"><a href="https://github.com/HEPLean/PhysLean#L248-L249">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././PhysLean/Relativity/Tensors/Elab.html#TensorSpecies.Tensor.«tensorExpr_•ₐ_»"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">«tensorExpr_•ₐ_»</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#Lean.ParserDescr">Lean.ParserDescr</a></div></div><p>group action for tensors.</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-TensorSpecies.Tensor.«tensorExpr_•ₐ_»" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="TensorSpecies.Tensor.«tensorExpr-_»"><div class="def"><div class="gh_link"><a href="https://github.com/HEPLean/PhysLean#L251-L252">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././PhysLean/Relativity/Tensors/Elab.html#TensorSpecies.Tensor.«tensorExpr-_»"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">«tensorExpr-_»</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#Lean.ParserDescr">Lean.ParserDescr</a></div></div><p>Negation of a tensor tree.</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-TensorSpecies.Tensor.«tensorExpr-_»" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="mod_doc"><h2 class="markdown-heading" id="Syntax-of-tensor-expressions-to-indices">Syntax of tensor expressions to indices. <a class="hover-link" href="#Syntax-of-tensor-expressions-to-indices">#</a></h2></div><div class="decl" id="TensorSpecies.Tensor.getNumIndicesExact"><div class="def"><div class="gh_link"><a href="https://github.com/HEPLean/PhysLean#L260-L272">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././PhysLean/Relativity/Tensors/Elab.html#TensorSpecies.Tensor.getNumIndicesExact"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">getNumIndicesExact</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">stx</span> : <a href="../../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <a href="../../.././Init/Prelude.html#Nat">ℕ</a></span></div></div><p>For syntax of the form <code>T</code> where <code>T</code> is <code>S.F.obj (OverColor.mk c)</code> this returns
the value of <code><a href="../../.././PhysLean/Relativity/Tensors/TensorSpecies/Basic.html#TensorSpecies.numIndices">TensorSpecies.numIndices</a> T</code>. That is, the exact number of indices
associated with that tensor.</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-TensorSpecies.Tensor.getNumIndicesExact" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="TensorSpecies.Tensor.getAllIndices"><div class="def"><div class="gh_link"><a href="https://github.com/HEPLean/PhysLean#L274-L284">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././PhysLean/Relativity/Tensors/Elab.html#TensorSpecies.Tensor.getAllIndices"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">getAllIndices</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">stx</span> : <a href="../../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <span class="fn">(<a href="../../.././Init/Prelude.html#List">List</a> (<a href="../../.././Init/Prelude.html#Lean.TSyntax">Lean.TSyntax</a> <span class="fn">`indexExpr</span>))</span></span></div></div><p>For syntax of the form <code>T | α β 2 β</code>, <code><a href="../../.././PhysLean/Relativity/Tensors/Elab.html#TensorSpecies.Tensor.getAllIndices">getAllIndices</a></code> returns a list <code>[α, β, 2, β]</code>
of all <code><a href="../../.././PhysLean/Relativity/Tensors/Elab.html#Lean.Parser.Category.indexExpr">indexExpr</a></code>.</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-TensorSpecies.Tensor.getAllIndices" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="TensorSpecies.Tensor.getProdIndices"><div class="opaque"><div class="gh_link"><a href="https://github.com/HEPLean/PhysLean#L286-L303">source</a></div><div class="decl_header"><span class="decl_kind">partial def</span>
<span class="decl_name"><a class="break_within" href="../../.././PhysLean/Relativity/Tensors/Elab.html#TensorSpecies.Tensor.getProdIndices"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">getProdIndices</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">stx</span> : <a href="../../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <span class="fn">(<a href="../../.././Init/Prelude.html#List">List</a> (<a href="../../.././Init/Prelude.html#Lean.TSyntax">Lean.TSyntax</a> <span class="fn">`indexExpr</span>))</span></span></div></div><p>The function <code><a href="../../.././PhysLean/Relativity/Tensors/Elab.html#TensorSpecies.Tensor.getProdIndices">getProdIndices</a></code> is defined for the following syntax:</p><ol>
<li>For e.g. <code>T | α β 2 β</code>, it returns all uncontracted and unevaluated indices e.g.<code>[α]</code></li>
<li>For e.g. <code>T1 | α β 2 β ⊗ T2 | α γ δ δ</code> it returns all unevaluated indices which
are not contracted in either tensor e.g. <code>[α, α, γ]</code>.</li>
<li>For e.g. <code>(T1 | α β 2 β ⊗ T2 | α γ δ δ) ⊗ T3 | γ</code> it does <code>2</code> recursively e.g. <code>[γ, γ]</code></li>
</ol></div></div><div class="decl" id="TensorSpecies.Tensor.getIndicesFull"><div class="opaque"><div class="gh_link"><a href="https://github.com/HEPLean/PhysLean#L305-L328">source</a></div><div class="decl_header"><span class="decl_kind">partial def</span>
<span class="decl_name"><a class="break_within" href="../../.././PhysLean/Relativity/Tensors/Elab.html#TensorSpecies.Tensor.getIndicesFull"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">getIndicesFull</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">stx</span> : <a href="../../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <span class="fn">(<a href="../../.././Init/Prelude.html#List">List</a> (<a href="../../.././Init/Prelude.html#Lean.TSyntax">Lean.TSyntax</a> <span class="fn">`indexExpr</span>))</span></span></div></div><p>Returns the remaining indices of a tensor expression after contraction and evaluation.
Thus every index in the output of <code><a href="../../.././PhysLean/Relativity/Tensors/Elab.html#TensorSpecies.Tensor.getIndicesFull">getIndicesFull</a></code> is ident and there are no duplicates.
Examples are:</p><ol>
<li><code>T | α β 2 β</code> gives <code>[α]</code></li>
<li><code>T1 | α β 2 β ⊗ T2 | α γ δ δ</code> gives <code>[γ]</code></li>
<li><code>(T1 | α β 2 β ⊗ T2 | α γ δ δ) ⊗ T3 | γ</code> gives <code>[]</code></li>
<li><code>T1 | α β 2 β + T2 | α 4 δ δ</code> gives <code>[α]</code></li>
</ol></div></div><div class="decl" id="TensorSpecies.Tensor.getIndicesLeft"><div class="def"><div class="gh_link"><a href="https://github.com/HEPLean/PhysLean#L330-L336">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././PhysLean/Relativity/Tensors/Elab.html#TensorSpecies.Tensor.getIndicesLeft"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">getIndicesLeft</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">stx</span> : <a href="../../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <span class="fn">(<a href="../../.././Init/Prelude.html#List">List</a> (<a href="../../.././Init/Prelude.html#Lean.TSyntax">Lean.TSyntax</a> <span class="fn">`indexExpr</span>))</span></span></div></div><p>Gets the indices associated with the LHS of an addition.</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-TensorSpecies.Tensor.getIndicesLeft" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="TensorSpecies.Tensor.getIndicesRight"><div class="def"><div class="gh_link"><a href="https://github.com/HEPLean/PhysLean#L338-L344">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././PhysLean/Relativity/Tensors/Elab.html#TensorSpecies.Tensor.getIndicesRight"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">getIndicesRight</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">stx</span> : <a href="../../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <span class="fn">(<a href="../../.././Init/Prelude.html#List">List</a> (<a href="../../.././Init/Prelude.html#Lean.TSyntax">Lean.TSyntax</a> <span class="fn">`indexExpr</span>))</span></span></div></div><p>Gets the indices associated with the RHS of an addition.</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-TensorSpecies.Tensor.getIndicesRight" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="TensorSpecies.Tensor.getIndicesLeftEq"><div class="def"><div class="gh_link"><a href="https://github.com/HEPLean/PhysLean#L346-L352">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././PhysLean/Relativity/Tensors/Elab.html#TensorSpecies.Tensor.getIndicesLeftEq"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">getIndicesLeftEq</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">stx</span> : <a href="../../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <span class="fn">(<a href="../../.././Init/Prelude.html#List">List</a> (<a href="../../.././Init/Prelude.html#Lean.TSyntax">Lean.TSyntax</a> <span class="fn">`indexExpr</span>))</span></span></div></div><p>Gets the indices associated with the LHS of an equality.</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-TensorSpecies.Tensor.getIndicesLeftEq" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="TensorSpecies.Tensor.getIndicesRightEq"><div class="def"><div class="gh_link"><a href="https://github.com/HEPLean/PhysLean#L354-L360">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././PhysLean/Relativity/Tensors/Elab.html#TensorSpecies.Tensor.getIndicesRightEq"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">getIndicesRightEq</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">stx</span> : <a href="../../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <span class="fn">(<a href="../../.././Init/Prelude.html#List">List</a> (<a href="../../.././Init/Prelude.html#Lean.TSyntax">Lean.TSyntax</a> <span class="fn">`indexExpr</span>))</span></span></div></div><p>Gets the indices associated with the RHS of an equality.</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-TensorSpecies.Tensor.getIndicesRightEq" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="mod_doc"><h2 class="markdown-heading" id="Modifying-terms-to-tensor-trees">Modifying terms to tensor trees <a class="hover-link" href="#Modifying-terms-to-tensor-trees">#</a></h2></div><div class="decl" id="TensorSpecies.Tensor.nodeTermMap"><div class="def"><div class="gh_link"><a href="https://github.com/HEPLean/PhysLean#L369-L372">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././PhysLean/Relativity/Tensors/Elab.html#TensorSpecies.Tensor.nodeTermMap"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">nodeTermMap</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">T</span> : <a href="../../.././Init/Meta/Defs.html#Lean.Syntax.Term">Lean.Term</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Meta/Defs.html#Lean.Syntax.Term">Lean.Term</a></div></div><p>For a term of the form <code>T</code> where <code>T</code> is <code>S.F.obj (OverColor.mk c)</code>,
<code>tensorTermToTensorTree</code> returns the term corresponding to the <code>tensorNode T</code></p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-TensorSpecies.Tensor.nodeTermMap" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="TensorSpecies.Tensor.evalTermMap"><div class="def"><div class="gh_link"><a href="https://github.com/HEPLean/PhysLean#L374-L385">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././PhysLean/Relativity/Tensors/Elab.html#TensorSpecies.Tensor.evalTermMap"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">evalTermMap</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">l</span> : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> (<a href="../../.././Init/Prelude.html#Nat">ℕ</a> <a href="../../.././Init/Prelude.html#Prod">×</a> <a href="../../.././Init/Prelude.html#Nat">ℕ</a>)</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">T</span> : <a href="../../.././Init/Meta/Defs.html#Lean.Syntax.Term">Lean.Term</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Meta/Defs.html#Lean.Syntax.Term">Lean.Term</a></div></div><p>Given a list <code>l</code> of pairs <code>ℕ × ℕ</code> and a term <code>T</code> corresponding to a tensor tree,
for each <code>(a, b)</code> in <code>l</code>, <code>evalSyntax</code> applies <code>TensorTree.eval a b</code> to <code>T</code> recursively.
Here <code>a</code> is the position of the index to be evaluated and <code>b</code> is the value it is evaluated to.</p><p>For example, if <code>l</code> is <code>[(1, 2), (1, 4)]</code> and <code>T</code> is a tensor tree then <code>evalSyntax l T</code>
is <code>TensorTree.eval 1 4 (TensorTree.eval 1 2 T)</code>.</p><p>The list <code>l</code> is expected to be the output of <code><a href="../../.././PhysLean/Relativity/Tensors/Elab.html#TensorSpecies.Tensor.getEvalPos">getEvalPos</a></code>.</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-TensorSpecies.Tensor.evalTermMap" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="TensorSpecies.Tensor.contrTermMap"><div class="def"><div class="gh_link"><a href="https://github.com/HEPLean/PhysLean#L387-L393">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././PhysLean/Relativity/Tensors/Elab.html#TensorSpecies.Tensor.contrTermMap"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">contrTermMap</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">ℕ</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">l</span> : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> (<a href="../../.././Init/Prelude.html#Nat">ℕ</a> <a href="../../.././Init/Prelude.html#Prod">×</a> <a href="../../.././Init/Prelude.html#Nat">ℕ</a>)</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">T</span> : <a href="../../.././Init/Meta/Defs.html#Lean.Syntax.Term">Lean.Term</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Meta/Defs.html#Lean.Syntax.Term">Lean.Term</a></div></div><p>For each element of <code>l : <a href="../../.././Init/Prelude.html#List">List</a> (ℕ × ℕ)</code> applies <code>TensorTree.contr</code> to the given term.</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-TensorSpecies.Tensor.contrTermMap" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="TensorSpecies.Tensor.prodTermMap"><div class="def"><div class="gh_link"><a href="https://github.com/HEPLean/PhysLean#L395-L397">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././PhysLean/Relativity/Tensors/Elab.html#TensorSpecies.Tensor.prodTermMap"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">prodTermMap</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">T1 </span><span class="fn">T2</span> : <a href="../../.././Init/Meta/Defs.html#Lean.Syntax.Term">Lean.Term</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Meta/Defs.html#Lean.Syntax.Term">Lean.Term</a></div></div><p>The syntax associated with a product of tensors.</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-TensorSpecies.Tensor.prodTermMap" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="TensorSpecies.Tensor.negTermMap"><div class="def"><div class="gh_link"><a href="https://github.com/HEPLean/PhysLean#L399-L401">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././PhysLean/Relativity/Tensors/Elab.html#TensorSpecies.Tensor.negTermMap"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">negTermMap</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">T1</span> : <a href="../../.././Init/Meta/Defs.html#Lean.Syntax.Term">Lean.Term</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Meta/Defs.html#Lean.Syntax.Term">Lean.Term</a></div></div><p>The syntax associated with negation of tensors.</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-TensorSpecies.Tensor.negTermMap" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="TensorSpecies.Tensor.smulTermMap"><div class="def"><div class="gh_link"><a href="https://github.com/HEPLean/PhysLean#L403-L405">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././PhysLean/Relativity/Tensors/Elab.html#TensorSpecies.Tensor.smulTermMap"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">smulTermMap</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">c </span><span class="fn">T</span> : <a href="../../.././Init/Meta/Defs.html#Lean.Syntax.Term">Lean.Term</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Meta/Defs.html#Lean.Syntax.Term">Lean.Term</a></div></div><p>The syntax associated with the scalar multiplication of tensors.</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-TensorSpecies.Tensor.smulTermMap" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="TensorSpecies.Tensor.actionTermMap"><div class="def"><div class="gh_link"><a href="https://github.com/HEPLean/PhysLean#L407-L409">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././PhysLean/Relativity/Tensors/Elab.html#TensorSpecies.Tensor.actionTermMap"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">actionTermMap</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">c </span><span class="fn">T</span> : <a href="../../.././Init/Meta/Defs.html#Lean.Syntax.Term">Lean.Term</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Meta/Defs.html#Lean.Syntax.Term">Lean.Term</a></div></div><p>The syntax associated with the group action of tensors.</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-TensorSpecies.Tensor.actionTermMap" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="TensorSpecies.Tensor.addTermMap"><div class="def"><div class="gh_link"><a href="https://github.com/HEPLean/PhysLean#L411-L414">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././PhysLean/Relativity/Tensors/Elab.html#TensorSpecies.Tensor.addTermMap"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">addTermMap</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">P </span><span class="fn">T1 </span><span class="fn">T2</span> : <a href="../../.././Init/Meta/Defs.html#Lean.Syntax.Term">Lean.Term</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <a href="../../.././Init/Meta/Defs.html#Lean.Syntax.Term">Lean.Term</a></span></div></div><p>The syntax for a equality of tensor trees.</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-TensorSpecies.Tensor.addTermMap" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="TensorSpecies.Tensor.equalTermMap"><div class="def"><div class="gh_link"><a href="https://github.com/HEPLean/PhysLean#L416-L419">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././PhysLean/Relativity/Tensors/Elab.html#TensorSpecies.Tensor.equalTermMap"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">equalTermMap</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">P </span><span class="fn">T1 </span><span class="fn">T2</span> : <a href="../../.././Init/Meta/Defs.html#Lean.Syntax.Term">Lean.Term</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <a href="../../.././Init/Meta/Defs.html#Lean.Syntax.Term">Lean.Term</a></span></div></div><p>The syntax for a equality of tensor trees.</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-TensorSpecies.Tensor.equalTermMap" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="mod_doc"><h2 class="markdown-heading" id="Syntax-to-tensor-tree">Syntax to tensor tree <a class="hover-link" href="#Syntax-to-tensor-tree">#</a></h2></div><div class="decl" id="TensorSpecies.Tensor.syntaxFull"><div class="opaque"><div class="gh_link"><a href="https://github.com/HEPLean/PhysLean#L427-L466">source</a></div><div class="decl_header"><span class="decl_kind">partial def</span>
<span class="decl_name"><a class="break_within" href="../../.././PhysLean/Relativity/Tensors/Elab.html#TensorSpecies.Tensor.syntaxFull"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">syntaxFull</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">stx</span> : <a href="../../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <a href="../../.././Init/Meta/Defs.html#Lean.Syntax.Term">Lean.Term</a></span></div></div><p>Takes a syntax corresponding to a tensor expression and turns it into a
term corresponding to a tensor tree.</p></div></div><div class="mod_doc"><h2 class="markdown-heading" id="Elaboration">Elaboration <a class="hover-link" href="#Elaboration">#</a></h2></div><div class="decl" id="TensorSpecies.Tensor.elaborateTensorNode"><div class="def"><div class="gh_link"><a href="https://github.com/HEPLean/PhysLean#L474-L479">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././PhysLean/Relativity/Tensors/Elab.html#TensorSpecies.Tensor.elaborateTensorNode"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">elaborateTensorNode</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">stx</span> : <a href="../../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <a href="../../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span></div></div><p>Takes a syntax corresponding to a tensor expression and turns it into an
expression corresponding to a tensor tree.</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-TensorSpecies.Tensor.elaborateTensorNode" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="TensorSpecies.Tensor.tensorExprSyntax"><div class="def"><div class="gh_link"><a href="https://github.com/HEPLean/PhysLean#L481-L482">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././PhysLean/Relativity/Tensors/Elab.html#TensorSpecies.Tensor.tensorExprSyntax"><span class="name">TensorSpecies</span>.<span class="name">Tensor</span>.<span class="name">tensorExprSyntax</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#Lean.ParserDescr">Lean.ParserDescr</a></div></div><p>The tensor tree corresponding to a tensor expression.</p><details><summary>Equations</summary><ul class="equations"></ul></details><details id="instances-for-list-TensorSpecies.Tensor.tensorExprSyntax" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="mod_doc"><h2 class="markdown-heading" id="Test-cases">Test cases <a class="hover-link" href="#Test-cases">#</a></h2></div></main>
<nav class="nav"><iframe src="../../.././navbar.html" class="navframe" frameBorder="0"></iframe></nav></body></html>