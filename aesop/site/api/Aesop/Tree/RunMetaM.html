<html lang="en"><head><meta charset="UTF-8"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><link rel="stylesheet" href="../.././style.css"></link><link rel="icon" href="../.././favicon.svg"></link><link rel="mask-icon" href="../.././favicon.svg" color="#000000"></link><link rel="prefetch" href="../.././/declarations/declaration-data.bmp" as="image"></link><title>Aesop.Tree.RunMetaM</title><script defer="true" src="../.././mathjax-config.js"></script><script defer="true" src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script><script defer="true" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script><script>const SITE_ROOT="../.././";</script><script>const MODULE_NAME="Aesop.Tree.RunMetaM";</script><script type="module" src="../.././jump-src.js"></script><script type="module" src="../.././search.js"></script><script type="module" src="../.././expand-nav.js"></script><script type="module" src="../.././how-about.js"></script><script type="module" src="../.././instances.js"></script><script type="module" src="../.././importedBy.js"></script></head><body><input id="nav_toggle" type="checkbox"></input><header><h1><label for="nav_toggle"></label><span>Documentation</span></h1><h2 class="header_filename break_within"><span class="name">Aesop</span>.<span class="name">Tree</span>.<span class="name">RunMetaM</span></h2><form id="search_form"><input type="text" name="q" autocomplete="off"></input>&#32;<button id="search_button" onclick="javascript: form.action='../.././search.html';">Search</button></form></header><nav class="internal_nav"><p><a href="#top">return to top</a></p><p class="gh_nav_link"><a href="https://github.com/leanprover-community/aesop/blob/de5caa559acfd0a1577b3bc49c33887a91c4792e/Aesop/Tree/RunMetaM.lean">source</a></p><div class="imports"><details><summary>Imports</summary><ul><li><a href="../.././Init.html">Init</a></li><li><a href="../.././Aesop/Tree/Data.html">Aesop.Tree.Data</a></li></ul></details><details><summary>Imported by</summary><ul id="imported-by-Aesop.Tree.RunMetaM" class="imported-by-list"></ul></details></div><div class="nav_link"><a class="break_within" href="#Aesop.instMonadLiftTSTRealWorld_aesop"><span class="name">Aesop</span>.<span class="name">instMonadLiftTSTRealWorld_aesop</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.Rapp.runMetaM'"><span class="name">Aesop</span>.<span class="name">Rapp</span>.<span class="name">runMetaM'</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.Rapp.runMetaM"><span class="name">Aesop</span>.<span class="name">Rapp</span>.<span class="name">runMetaM</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.Rapp.runMetaMModifying"><span class="name">Aesop</span>.<span class="name">Rapp</span>.<span class="name">runMetaMModifying</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.RappRef.runMetaMModifying"><span class="name">Aesop</span>.<span class="name">RappRef</span>.<span class="name">runMetaMModifying</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.Goal.runMetaMInPostNormState'"><span class="name">Aesop</span>.<span class="name">Goal</span>.<span class="name">runMetaMInPostNormState'</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.Goal.runMetaMInPostNormState"><span class="name">Aesop</span>.<span class="name">Goal</span>.<span class="name">runMetaMInPostNormState</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.Goal.runMetaMInParentState'"><span class="name">Aesop</span>.<span class="name">Goal</span>.<span class="name">runMetaMInParentState'</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.Goal.runMetaMInParentState"><span class="name">Aesop</span>.<span class="name">Goal</span>.<span class="name">runMetaMInParentState</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.Goal.runMetaMModifyingParentState"><span class="name">Aesop</span>.<span class="name">Goal</span>.<span class="name">runMetaMModifyingParentState</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.Rapp.runMetaMInParentState"><span class="name">Aesop</span>.<span class="name">Rapp</span>.<span class="name">runMetaMInParentState</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.Rapp.runMetaMInParentState'"><span class="name">Aesop</span>.<span class="name">Rapp</span>.<span class="name">runMetaMInParentState'</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.Rapp.runMetaMModifyingParentState"><span class="name">Aesop</span>.<span class="name">Rapp</span>.<span class="name">runMetaMModifyingParentState</span></a></div></nav><main>
<div class="mod_doc"><p>The following functions let us run MetaM actions in the context of a rapp or
goal. Rapps save the metavariable context in which they were run by storing a
<code>Meta.SavedState</code>. When we, for example, apply a rule to a goal, we run the
rule's action in the metavariable context of the goal (which is the
metavariable context of the goal's parent rapp). The resulting metavariable
context, in which the goal mvar is assigned to an expression generated by the
rule, then becomes the metavariable context of the rule's rapp.</p><p>To save and restore metavariable contexts, we use the <code>MonadBacktrack MetaM</code>
instance. This means that some elements of the state are persistent, notably
caches and trace messages. These become part of the global state.</p><p>The environment is not persistent. This means that modifications of the
environment made by a rule are not visible in the global state and are reset
once the tactic exits. As a result, rules which modify the environment are
likely to fail.</p></div><div class="decl" id="Aesop.instMonadLiftTSTRealWorld_aesop"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/de5caa559acfd0a1577b3bc49c33887a91c4792e/Aesop/Tree/RunMetaM.lean#L38-L39">source</a></div><div class="verification_link">
<a href="../../../modules/Aesop_Tree_RunMetaM.html#Aesop.instMonadLiftTSTRealWorld_aesop" class="verification-badge comp-operation" title="Computational operation (Bool/decidable)">üî∏ coverage</a>
</div>
<div class="attributes">@[implicit_reducible]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Tree/RunMetaM.html#Aesop.instMonadLiftTSTRealWorld_aesop"><span class="name">Aesop</span>.<span class="name">instMonadLiftTSTRealWorld_aesop</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../.././foundational_types.html">Type</a> ‚Üí <a href="../.././foundational_types.html">Type</a> u_1</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><span class="fn">MonadLiftT</span> <span class="fn">Lean.MetaM</span> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">MonadLiftT</span> <span class="fn">(<span class="fn">ST</span> <span class="fn">IO.RealWorld</span>)</span> <span class="fn">m</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Aesop/Tree/RunMetaM.html#Aesop.instMonadLiftTSTRealWorld_aesop">Aesop.instMonadLiftTSTRealWorld_aesop</a> <span class="fn">=</span> <span class="fn"><span class="fn">{</span> <span class="fn">monadLift</span> := <span class="fn">fun {<span class="fn">Œ±</span> : <a href="../.././foundational_types.html">Type</a>} (<span class="fn">x</span> : <span class="fn"><span class="fn">ST</span> <span class="fn">IO.RealWorld</span> <span class="fn">Œ±</span></span>) =&gt; <span class="fn"><span class="fn">liftM</span> <span class="fn">(<span class="fn">liftM</span> <span class="fn">x</span>)</span></span></span> <span class="fn">}</span></span></span></li></ul></details><details id="instances-for-list-Aesop.instMonadLiftTSTRealWorld_aesop" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.Rapp.runMetaM'"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/de5caa559acfd0a1577b3bc49c33887a91c4792e/Aesop/Tree/RunMetaM.lean#L47-L48">source</a></div><div class="verification_link">
<a href="../../../modules/Aesop_Tree_RunMetaM.html#Aesop.Rapp.runMetaM'" class="verification-badge comp-operation" title="Computational operation (Bool/decidable)">üî∏ coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Tree/RunMetaM.html#Aesop.Rapp.runMetaM'"><span class="name">Aesop</span>.<span class="name">Rapp</span>.<span class="name">runMetaM'</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../.././foundational_types.html">Type</a> ‚Üí <a href="../.././foundational_types.html">Type</a> u_1</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><span class="fn">Monad</span> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><span class="fn">MonadLiftT</span> <span class="fn">Lean.MetaM</span> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><span class="fn">MonadFinally</span> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">Œ±</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><span class="fn">m</span> <span class="fn">Œ±</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">r</span> : <a href="../.././Aesop/Tree/Data.html#Aesop.Rapp">Rapp</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">Œ±</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Aesop/Tree/RunMetaM.html#Aesop.Rapp.runMetaM'">Aesop.Rapp.runMetaM'</a> <span class="fn">x</span> <span class="fn">r</span></span> <span class="fn">=</span> <span class="fn"><a href="../.././Aesop/Util/Basic.html#Aesop.runInMetaState">Aesop.runInMetaState</a> <span class="fn"><span class="fn">r</span>.<a href="../.././Aesop/Tree/Data.html#Aesop.Rapp.metaState">metaState</a></span> <span class="fn">x</span></span></span></li></ul></details><details id="instances-for-list-Aesop.Rapp.runMetaM'" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.Rapp.runMetaM"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/de5caa559acfd0a1577b3bc49c33887a91c4792e/Aesop/Tree/RunMetaM.lean#L50-L51">source</a></div><div class="verification_link">
<a href="../../../modules/Aesop_Tree_RunMetaM.html#Aesop.Rapp.runMetaM" class="verification-badge comp-operation" title="Computational operation (Bool/decidable)">üî∏ coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Tree/RunMetaM.html#Aesop.Rapp.runMetaM"><span class="name">Aesop</span>.<span class="name">Rapp</span>.<span class="name">runMetaM</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../.././foundational_types.html">Type</a> ‚Üí <a href="../.././foundational_types.html">Type</a> u_1</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><span class="fn">Monad</span> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><span class="fn">MonadLiftT</span> <span class="fn">Lean.MetaM</span> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><span class="fn">MonadFinally</span> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">Œ±</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><span class="fn">m</span> <span class="fn">Œ±</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">r</span> : <a href="../.././Aesop/Tree/Data.html#Aesop.Rapp">Rapp</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">(<span class="fn">Œ±</span> <span class="fn">√ó</span> <span class="fn">Lean.Meta.SavedState</span>)</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Aesop/Tree/RunMetaM.html#Aesop.Rapp.runMetaM">Aesop.Rapp.runMetaM</a> <span class="fn">x</span> <span class="fn">r</span></span> <span class="fn">=</span> <span class="fn"><a href="../.././Aesop/Tree/RunMetaM.html#Aesop.Rapp.runMetaM'">Aesop.Rapp.runMetaM'</a> <span class="fn">(<a href="../.././Aesop/Tree/RunMetaM.html">Aesop.withSaveState‚úù</a> <span class="fn">x</span>)</span> <span class="fn">r</span></span></span></li></ul></details><details id="instances-for-list-Aesop.Rapp.runMetaM" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.Rapp.runMetaMModifying"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/de5caa559acfd0a1577b3bc49c33887a91c4792e/Aesop/Tree/RunMetaM.lean#L53-L55">source</a></div><div class="verification_link">
<a href="../../../modules/Aesop_Tree_RunMetaM.html#Aesop.Rapp.runMetaMModifying" class="verification-badge comp-operation" title="Computational operation (Bool/decidable)">üî∏ coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Tree/RunMetaM.html#Aesop.Rapp.runMetaMModifying"><span class="name">Aesop</span>.<span class="name">Rapp</span>.<span class="name">runMetaMModifying</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../.././foundational_types.html">Type</a> ‚Üí <a href="../.././foundational_types.html">Type</a> u_1</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><span class="fn">Monad</span> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><span class="fn">MonadLiftT</span> <span class="fn">Lean.MetaM</span> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><span class="fn">MonadFinally</span> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">Œ±</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><span class="fn">m</span> <span class="fn">Œ±</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">r</span> : <a href="../.././Aesop/Tree/Data.html#Aesop.Rapp">Rapp</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">(<span class="fn">Œ±</span> <span class="fn">√ó</span> <a href="../.././Aesop/Tree/Data.html#Aesop.Rapp">Rapp</a>)</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Aesop/Tree/RunMetaM.html#Aesop.Rapp.runMetaMModifying">Aesop.Rapp.runMetaMModifying</a> <span class="fn">x</span> <span class="fn">r</span></span> <span class="fn">=</span> <span class="fn">do
  let <span class="fn">__discr</span> ‚Üê <span class="fn"><a href="../.././Aesop/Tree/RunMetaM.html#Aesop.Rapp.runMetaM">Aesop.Rapp.runMetaM</a> <span class="fn">x</span> <span class="fn">r</span></span>
  <span class="fn">match <span class="fn">__discr</span> with
    | <span class="fn"><span class="fn">(</span><span class="fn">result</span><span class="fn">,</span> <span class="fn">finalState</span><span class="fn">)</span></span> =&gt; <span class="fn"><span class="fn">pure</span> <span class="fn"><span class="fn">(</span><span class="fn">result</span><span class="fn">,</span> <span class="fn"><a href="../.././Aesop/Tree/Data.html#Aesop.Rapp.setMetaState">Aesop.Rapp.setMetaState</a> <span class="fn">finalState</span> <span class="fn">r</span></span><span class="fn">)</span></span></span></span></span></span></li></ul></details><details id="instances-for-list-Aesop.Rapp.runMetaMModifying" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.RappRef.runMetaMModifying"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/de5caa559acfd0a1577b3bc49c33887a91c4792e/Aesop/Tree/RunMetaM.lean#L57-L60">source</a></div><div class="verification_link">
<a href="../../../modules/Aesop_Tree_RunMetaM.html#Aesop.RappRef.runMetaMModifying" class="verification-badge comp-operation" title="Computational operation (Bool/decidable)">üî∏ coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Tree/RunMetaM.html#Aesop.RappRef.runMetaMModifying"><span class="name">Aesop</span>.<span class="name">RappRef</span>.<span class="name">runMetaMModifying</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../.././foundational_types.html">Type</a> ‚Üí <a href="../.././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><span class="fn">Monad</span> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><span class="fn">MonadLiftT</span> <span class="fn">Lean.MetaM</span> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><span class="fn">MonadFinally</span> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">Œ±</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><span class="fn">m</span> <span class="fn">Œ±</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">rref</span> : <a href="../.././Aesop/Tree/Data.html#Aesop.RappRef">RappRef</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">Œ±</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Aesop.RappRef.runMetaMModifying" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.Goal.runMetaMInPostNormState'"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/de5caa559acfd0a1577b3bc49c33887a91c4792e/Aesop/Tree/RunMetaM.lean#L62-L66">source</a></div><div class="verification_link">
<a href="../../../modules/Aesop_Tree_RunMetaM.html#Aesop.Goal.runMetaMInPostNormState'" class="verification-badge comp-operation" title="Computational operation (Bool/decidable)">üî∏ coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Tree/RunMetaM.html#Aesop.Goal.runMetaMInPostNormState'"><span class="name">Aesop</span>.<span class="name">Goal</span>.<span class="name">runMetaMInPostNormState'</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../.././foundational_types.html">Type</a> ‚Üí <a href="../.././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><span class="fn">Monad</span> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><span class="fn">MonadLiftT</span> <span class="fn">Lean.MetaM</span> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><span class="fn">MonadFinally</span> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">Œ±</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><span class="fn">Lean.MonadError</span> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><span class="fn">Lean.MVarId</span> ‚Üí <span class="fn"><span class="fn">m</span> <span class="fn">Œ±</span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">g</span> : <a href="../.././Aesop/Tree/Data.html#Aesop.Goal">Goal</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">Œ±</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Aesop.Goal.runMetaMInPostNormState'" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.Goal.runMetaMInPostNormState"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/de5caa559acfd0a1577b3bc49c33887a91c4792e/Aesop/Tree/RunMetaM.lean#L68-L70">source</a></div><div class="verification_link">
<a href="../../../modules/Aesop_Tree_RunMetaM.html#Aesop.Goal.runMetaMInPostNormState" class="verification-badge comp-operation" title="Computational operation (Bool/decidable)">üî∏ coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Tree/RunMetaM.html#Aesop.Goal.runMetaMInPostNormState"><span class="name">Aesop</span>.<span class="name">Goal</span>.<span class="name">runMetaMInPostNormState</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../.././foundational_types.html">Type</a> ‚Üí <a href="../.././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><span class="fn">Monad</span> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><span class="fn">MonadLiftT</span> <span class="fn">Lean.MetaM</span> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><span class="fn">MonadFinally</span> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">Œ±</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><span class="fn">Lean.MonadError</span> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><span class="fn">Lean.MVarId</span> ‚Üí <span class="fn"><span class="fn">m</span> <span class="fn">Œ±</span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">g</span> : <a href="../.././Aesop/Tree/Data.html#Aesop.Goal">Goal</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">(<span class="fn">Œ±</span> <span class="fn">√ó</span> <span class="fn">Lean.Meta.SavedState</span>)</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Aesop/Tree/RunMetaM.html#Aesop.Goal.runMetaMInPostNormState">Aesop.Goal.runMetaMInPostNormState</a> <span class="fn">x</span> <span class="fn">g</span></span> <span class="fn">=</span>   <span class="fn"><a href="../.././Aesop/Tree/RunMetaM.html#Aesop.Goal.runMetaMInPostNormState'">Aesop.Goal.runMetaMInPostNormState'</a> <span class="fn">(fun (<span class="fn">g</span> : <span class="fn">Lean.MVarId</span>) =&gt; <span class="fn"><a href="../.././Aesop/Tree/RunMetaM.html">Aesop.withSaveState‚úù</a> <span class="fn">(<span class="fn">x</span> <span class="fn">g</span>)</span></span>)</span> <span class="fn">g</span></span></span></li></ul></details><details id="instances-for-list-Aesop.Goal.runMetaMInPostNormState" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.Goal.runMetaMInParentState'"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/de5caa559acfd0a1577b3bc49c33887a91c4792e/Aesop/Tree/RunMetaM.lean#L72-L80">source</a></div><div class="verification_link">
<a href="../../../modules/Aesop_Tree_RunMetaM.html#Aesop.Goal.runMetaMInParentState'" class="verification-badge comp-operation" title="Computational operation (Bool/decidable)">üî∏ coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Tree/RunMetaM.html#Aesop.Goal.runMetaMInParentState'"><span class="name">Aesop</span>.<span class="name">Goal</span>.<span class="name">runMetaMInParentState'</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../.././foundational_types.html">Type</a> ‚Üí <a href="../.././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><span class="fn">Monad</span> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><span class="fn">MonadLiftT</span> <span class="fn">Lean.MetaM</span> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><span class="fn">MonadFinally</span> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">Œ±</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><span class="fn">m</span> <span class="fn">Œ±</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">g</span> : <a href="../.././Aesop/Tree/Data.html#Aesop.Goal">Goal</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">Œ±</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Aesop.Goal.runMetaMInParentState'" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.Goal.runMetaMInParentState"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/de5caa559acfd0a1577b3bc49c33887a91c4792e/Aesop/Tree/RunMetaM.lean#L82-L83">source</a></div><div class="verification_link">
<a href="../../../modules/Aesop_Tree_RunMetaM.html#Aesop.Goal.runMetaMInParentState" class="verification-badge comp-operation" title="Computational operation (Bool/decidable)">üî∏ coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Tree/RunMetaM.html#Aesop.Goal.runMetaMInParentState"><span class="name">Aesop</span>.<span class="name">Goal</span>.<span class="name">runMetaMInParentState</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../.././foundational_types.html">Type</a> ‚Üí <a href="../.././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><span class="fn">Monad</span> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><span class="fn">MonadLiftT</span> <span class="fn">Lean.MetaM</span> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><span class="fn">MonadFinally</span> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">Œ±</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><span class="fn">m</span> <span class="fn">Œ±</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">g</span> : <a href="../.././Aesop/Tree/Data.html#Aesop.Goal">Goal</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">(<span class="fn">Œ±</span> <span class="fn">√ó</span> <span class="fn">Lean.Meta.SavedState</span>)</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Aesop/Tree/RunMetaM.html#Aesop.Goal.runMetaMInParentState">Aesop.Goal.runMetaMInParentState</a> <span class="fn">x</span> <span class="fn">g</span></span> <span class="fn">=</span> <span class="fn"><a href="../.././Aesop/Tree/RunMetaM.html#Aesop.Goal.runMetaMInParentState'">Aesop.Goal.runMetaMInParentState'</a> <span class="fn">(<a href="../.././Aesop/Tree/RunMetaM.html">Aesop.withSaveState‚úù</a> <span class="fn">x</span>)</span> <span class="fn">g</span></span></span></li></ul></details><details id="instances-for-list-Aesop.Goal.runMetaMInParentState" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.Goal.runMetaMModifyingParentState"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/de5caa559acfd0a1577b3bc49c33887a91c4792e/Aesop/Tree/RunMetaM.lean#L85-L88">source</a></div><div class="verification_link">
<a href="../../../modules/Aesop_Tree_RunMetaM.html#Aesop.Goal.runMetaMModifyingParentState" class="verification-badge comp-operation" title="Computational operation (Bool/decidable)">üî∏ coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Tree/RunMetaM.html#Aesop.Goal.runMetaMModifyingParentState"><span class="name">Aesop</span>.<span class="name">Goal</span>.<span class="name">runMetaMModifyingParentState</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../.././foundational_types.html">Type</a> ‚Üí <a href="../.././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><span class="fn">Monad</span> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><span class="fn">MonadLiftT</span> <span class="fn">Lean.MetaM</span> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><span class="fn">MonadFinally</span> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">Œ±</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><span class="fn">m</span> <span class="fn">Œ±</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">g</span> : <a href="../.././Aesop/Tree/Data.html#Aesop.Goal">Goal</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">Œ±</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Aesop.Goal.runMetaMModifyingParentState" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.Rapp.runMetaMInParentState"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/de5caa559acfd0a1577b3bc49c33887a91c4792e/Aesop/Tree/RunMetaM.lean#L90-L92">source</a></div><div class="verification_link">
<a href="../../../modules/Aesop_Tree_RunMetaM.html#Aesop.Rapp.runMetaMInParentState" class="verification-badge comp-operation" title="Computational operation (Bool/decidable)">üî∏ coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Tree/RunMetaM.html#Aesop.Rapp.runMetaMInParentState"><span class="name">Aesop</span>.<span class="name">Rapp</span>.<span class="name">runMetaMInParentState</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../.././foundational_types.html">Type</a> ‚Üí <a href="../.././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><span class="fn">Monad</span> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><span class="fn">MonadLiftT</span> <span class="fn">Lean.MetaM</span> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><span class="fn">MonadFinally</span> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">Œ±</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><span class="fn">m</span> <span class="fn">Œ±</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">r</span> : <a href="../.././Aesop/Tree/Data.html#Aesop.Rapp">Rapp</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">(<span class="fn">Œ±</span> <span class="fn">√ó</span> <span class="fn">Lean.Meta.SavedState</span>)</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Aesop/Tree/RunMetaM.html#Aesop.Rapp.runMetaMInParentState">Aesop.Rapp.runMetaMInParentState</a> <span class="fn">x</span> <span class="fn">r</span></span> <span class="fn">=</span> <span class="fn">do
  let <span class="fn">__do_lift</span> ‚Üê <span class="fn"><span class="fn">ST.Ref.get</span> <span class="fn"><span class="fn">r</span>.<a href="../.././Aesop/Tree/Data.html#Aesop.Rapp.parent">parent</a></span></span>
  <span class="fn"><a href="../.././Aesop/Tree/RunMetaM.html#Aesop.Goal.runMetaMInParentState">Aesop.Goal.runMetaMInParentState</a> <span class="fn">x</span> <span class="fn">__do_lift</span></span></span></span></li></ul></details><details id="instances-for-list-Aesop.Rapp.runMetaMInParentState" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.Rapp.runMetaMInParentState'"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/de5caa559acfd0a1577b3bc49c33887a91c4792e/Aesop/Tree/RunMetaM.lean#L94-L95">source</a></div><div class="verification_link">
<a href="../../../modules/Aesop_Tree_RunMetaM.html#Aesop.Rapp.runMetaMInParentState'" class="verification-badge comp-operation" title="Computational operation (Bool/decidable)">üî∏ coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Tree/RunMetaM.html#Aesop.Rapp.runMetaMInParentState'"><span class="name">Aesop</span>.<span class="name">Rapp</span>.<span class="name">runMetaMInParentState'</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../.././foundational_types.html">Type</a> ‚Üí <a href="../.././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><span class="fn">Monad</span> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><span class="fn">MonadLiftT</span> <span class="fn">Lean.MetaM</span> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><span class="fn">MonadFinally</span> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">Œ±</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><span class="fn">m</span> <span class="fn">Œ±</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">r</span> : <a href="../.././Aesop/Tree/Data.html#Aesop.Rapp">Rapp</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">Œ±</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Aesop/Tree/RunMetaM.html#Aesop.Rapp.runMetaMInParentState'">Aesop.Rapp.runMetaMInParentState'</a> <span class="fn">x</span> <span class="fn">r</span></span> <span class="fn">=</span> <span class="fn">do
  let <span class="fn">__do_lift</span> ‚Üê <span class="fn"><span class="fn">ST.Ref.get</span> <span class="fn"><span class="fn">r</span>.<a href="../.././Aesop/Tree/Data.html#Aesop.Rapp.parent">parent</a></span></span>
  <span class="fn"><a href="../.././Aesop/Tree/RunMetaM.html#Aesop.Goal.runMetaMInParentState'">Aesop.Goal.runMetaMInParentState'</a> <span class="fn">x</span> <span class="fn">__do_lift</span></span></span></span></li></ul></details><details id="instances-for-list-Aesop.Rapp.runMetaMInParentState'" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.Rapp.runMetaMModifyingParentState"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/de5caa559acfd0a1577b3bc49c33887a91c4792e/Aesop/Tree/RunMetaM.lean#L97-L98">source</a></div><div class="verification_link">
<a href="../../../modules/Aesop_Tree_RunMetaM.html#Aesop.Rapp.runMetaMModifyingParentState" class="verification-badge comp-operation" title="Computational operation (Bool/decidable)">üî∏ coverage</a>
</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Tree/RunMetaM.html#Aesop.Rapp.runMetaMModifyingParentState"><span class="name">Aesop</span>.<span class="name">Rapp</span>.<span class="name">runMetaMModifyingParentState</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../.././foundational_types.html">Type</a> ‚Üí <a href="../.././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><span class="fn">Monad</span> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><span class="fn">MonadLiftT</span> <span class="fn">Lean.MetaM</span> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><span class="fn">MonadFinally</span> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">Œ±</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><span class="fn">m</span> <span class="fn">Œ±</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">r</span> : <a href="../.././Aesop/Tree/Data.html#Aesop.Rapp">Rapp</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">Œ±</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Aesop/Tree/RunMetaM.html#Aesop.Rapp.runMetaMModifyingParentState">Aesop.Rapp.runMetaMModifyingParentState</a> <span class="fn">x</span> <span class="fn">r</span></span> <span class="fn">=</span> <span class="fn">do
  let <span class="fn">__do_lift</span> ‚Üê <span class="fn"><span class="fn">ST.Ref.get</span> <span class="fn"><span class="fn">r</span>.<a href="../.././Aesop/Tree/Data.html#Aesop.Rapp.parent">parent</a></span></span>
  <span class="fn"><a href="../.././Aesop/Tree/RunMetaM.html#Aesop.Goal.runMetaMModifyingParentState">Aesop.Goal.runMetaMModifyingParentState</a> <span class="fn">x</span> <span class="fn">__do_lift</span></span></span></span></li></ul></details><details id="instances-for-list-Aesop.Rapp.runMetaMModifyingParentState" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div></main>
<nav class="nav"><iframe src="../.././navbar.html" class="navframe" frameBorder="0"></iframe></nav></body></html>